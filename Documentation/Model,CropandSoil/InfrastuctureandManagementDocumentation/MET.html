<!DOCTYPE html>
<html  lang="en-AU">

<!-- Mirrored from www.apsim.info/Documentation/Model,CropandSoil/InfrastuctureandManagementDocumentation/MET.aspx by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Mar 2014 02:12:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head id="Head"><title>
	APSIM > Documentation > Model, Crop and Soil > Infrastucture and Management Documentation > MET
</title><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><meta content="text/javascript" http-equiv="Content-Script-Type" /><meta content="text/css" http-equiv="Content-Style-Type" /><meta id="MetaDescription" name="DESCRIPTION" content="Agriculture Production Systems Simulator" /><meta id="MetaCopyright" name="COPYRIGHT" content="Copyright 2014 APSIM" /><meta id="MetaAuthor" name="AUTHOR" content="APSIM" /><meta name="RESOURCE-TYPE" content="DOCUMENT" /><meta name="DISTRIBUTION" content="GLOBAL" /><meta id="MetaRobots" name="ROBOTS" content="INDEX, FOLLOW" /><meta name="REVISIT-AFTER" content="1 DAYS" /><meta name="RATING" content="GENERAL" /><meta http-equiv="PAGE-ENTER" content="RevealTrans(Duration=0,Transition=1)" /><style id="StylePlaceholder" type="text/css"></style><link href="../../DependencyHandler.axd/b0e9bcca91a071945a9daa4998ffc22c.46.css" type="text/css" rel="stylesheet"/><!--[if LT IE 8]><link id="IE7Minus" rel="stylesheet" type="text/css" href="/Portals/0/Skins/APSIM_2012/ie7skin.css" /><![endif]-->     
        
			    

        
		  </head>
<body id="Body">
    
    <form method="post" action="../../external.html?link=http://www.apsim.info/Documentation/Model,CropandSoil/InfrastuctureandManagementDocumentation/MET.aspx" id="Form" enctype="multipart/form-data">


     
<div id="DNN6" class="ThreeCol">
    <div id="Header">
        <div id="ContentBG">
            <div id="ControlPanelWrapper">
                
		    </div>
            <!-- START: Header -->
<div id="Header">
	<h1><a href="../../../index-2.html">APSIM</a></h1>
    <div id="dnn_Banner" class="Banner DNNEmptyPane"></div>
		<div id="search">
		

<div id="dnn_dnnSearch_DropDownSearch" class="SearchContainer">
  <div class="SearchBorder">
  <div id="SearchIcon" class="SearchIcon">
    <img id="dnn_dnnSearch_downArrow" title="Select the search type" src="../../../icons/sigma/Action_16X16_Standard.png" alt="Select the search type" />
  </div>
  <input name="dnn$dnnSearch$txtSearchNew" type="text" maxlength="255" id="dnn_dnnSearch_txtSearchNew" class="SearchTextBox" onkeydown="return __dnn_KeyDown(&#39;13&#39;, &#39;javascript:__doPostBack(%27dnn$dnnSearch$cmdSearchNew%27,%27%27)&#39;, event);" />&nbsp;
  <ul id="SearchChoices">
    <li id="SearchIconSite">Site</li>
    <li id="SearchIconWeb">Web</li>
  </ul>
  </div>
  <a id="dnn_dnnSearch_cmdSearchNew" class="SkinObject SearchButton" href="javascript:__doPostBack(&#39;dnn$dnnSearch$cmdSearchNew&#39;,&#39;&#39;)">Go</a>
</div>

		</div>
		<div class="clear">&nbsp;</div>
</div>
		    <div class="Content">
                <div id="Nav">
				     <!-- DDRmenu v02.00.01 - DNNStandard template --><!--SEO NOINDEX-->




			    </div> 
		    </div>
        </div>
	</div>
    <div class="wrapper">
    <div id="Content">   
        <div class="LogoRowRight">
            <div id="Login">
                
                

                

            </div> 
        </div>    
        <div id="Breadcrumb"><span id="dnn_dnnBreadcrumb_lblBreadCrumb"><a href="../../default.html" class="SkinObject">Documentation</a><span class="Sep"></span><a href="../../Model%2cCropandSoil.html" class="SkinObject">Model, Crop and Soil</a><span class="Sep"></span><a href="../InfrastuctureandManagementDocumentation.html" class="SkinObject">Infrastucture and Management Documentation</a><span class="Sep"></span><a href="MET.html" class="SkinObject">MET</a></span>
</div>
        <div id="PageTitle">
        	<h1>MET</h1>
        </div>
 
             <div id="Panes">
            <div id="dnn_ContentPane"><div class="DnnModule DnnModule-DNN_HTML DnnModule-489"><a name="489"></a>
<div class="Invisible"><div id="dnn_ctr489_ContentPane"><!-- Start_Module_489 --><div id="dnn_ctr489_ModuleContent" class="DNNModuleContent ModDNNHTMLC">
	<div id="dnn_ctr489_HtmlModule_lblContent" class="Normal">
	<h1 style="margin: 24pt 0cm 0pt;">Description</h1>
<p style="margin: 0cm 0cm 10pt;">The APSIM Met module provided daily meteorological information to all modules within an APSIM simulation.&nbsp;<br />
<br />
<strong>Operation</strong></p>
<p style="margin: 0cm 0cm 10pt;">The APSIM Met Module requires parameters to specify the climate of the site for each APSIM time step. This information is included in a &lsquo; weather' , or &lsquo; met' , file.<br />
Climate data can exist in the met file in two ways :&nbsp;<br />
<br />
As&nbsp;<strong>Constants</strong>&nbsp;or as&nbsp;<strong>Daily (Column)</strong>&nbsp;values.</p>
<h1 style="margin: 24pt 0cm 0pt;">Constant Values</h1>
<p style="margin: 0cm 0cm 10pt;">Climate information for the simulation site that is independent of time can be specified at the top of the data section.<br />
Examples of how constant values can be specified are the values:<br />
<br />
</p>
<p style="margin: 0cm 0cm 10pt;">site = toowoomba</p>
<p style="margin: 0cm 0cm 10pt;">latitude = -26.8 (degrees)</p>
<h1 style="margin: 24pt 0cm 0pt;">Daily (Column)Values</h1>
<p style="margin: 0cm 0cm 10pt;">Information that needs to be specified for each day can be arranged in space-delimited columns. The data columns can be arranged in any order and contain any data of any type. The line following the list of column names must be followed by a line containing the units, in brackets &lsquo; ()' , for the information in each column.<br />
<br />
The only constraints are as follows:</p>
<p style="margin: 0cm 0cm 10pt;">column headers must use the&nbsp;standard APSIM state variable names&nbsp;so that the data can be recognised by the module communications. The list of columns must contain adequate information for identifying&nbsp;time for each row.&nbsp;This means that the list of columns must contain either:<br />
<br />
&lsquo; day' and &lsquo; year'&nbsp;<br />
<br />
OR&nbsp;<br />
<br />
&lsquo; day_of_month' , &lsquo; month' and &lsquo; year' .</p>
<h1 style="margin: 24pt 0cm 0pt;">AN EXAMPLE</h1>
<div style="padding: 6pt; background: none repeat scroll 0% 0% #eeeeee; margin-left: 7.5pt; margin-right: 7.5pt; border: 1pt solid #dddddd;">
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">site = toowoomba </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">latitude = -26.8 (degrees)</pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;"></pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;"></pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">year day radn&nbsp;&nbsp;&nbsp; maxt mint rain</pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">()&nbsp;&nbsp; ()&nbsp; (MJ/m2) (oC) (oC) (mm) </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">1996 65&nbsp;&nbsp; 20&nbsp;&nbsp;&nbsp;&nbsp; 29&nbsp;&nbsp; 20.5&nbsp; 0 </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">1996 66&nbsp;&nbsp; 20&nbsp;&nbsp;&nbsp;&nbsp; 29&nbsp;&nbsp; 20&nbsp;&nbsp;&nbsp; 0 </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">1996 67&nbsp;&nbsp; 20&nbsp;&nbsp;&nbsp;&nbsp; 29&nbsp;&nbsp; 21&nbsp;&nbsp;&nbsp; 0 </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">1996 68&nbsp;&nbsp; 20&nbsp;&nbsp;&nbsp;&nbsp; 22.5 20&nbsp;&nbsp;&nbsp; 0 </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">1996 69&nbsp;&nbsp; 20&nbsp;&nbsp;&nbsp;&nbsp; 27.5 18.5&nbsp; 0 </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">.&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp; . </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">.&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp; . </pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">.&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp; . </pre>
</div>
<h1 style="margin: 24pt 0cm 0pt;">Setting a Daily(Column) Value to a Constant Value</h1>
<p style="margin: 0cm 0cm 10pt;">Sometimes you may want to switch off a column in your met file and replace it with a constant value.&nbsp;<br />
<br />
For example&nbsp;you may want to instead of using the rain column in your met file, you may want to set the rain to always be a constant value of 0mm (so no rainfall).&nbsp;<br />
Of course you can always just&nbsp; the met file itself and change the column values to be zero, but this is time consuming.&nbsp;<br />
A faster way is to just put the constant value,<br />
<br />
rain=0 (mm)&nbsp;<br />
<br />
at the top of your met file, and then rename the column heading for the rain column to something that won't be recognised as an APSIM variable,<br />
<br />
eg.<br />
rain<br />
(mm)<br />
<br />
to<br />
<br />
xrain<br />
(mm)</p>
<h1 style="margin: 24pt 0cm 0pt;">Resetting Met Variables (eg Climate Change scenario)</h1>
<p style="margin: 0cm 0cm 10pt;">The APSIM Met Module can reset the values of any variables specified in the met file. Both constants and column values (apart from the time specification column values) for the current timestep can be reset using standard APSIM communication techniques.<br />
<br />
However, changing met data dynamically dur<br />
ing a simulation must only occur at a predefined stage during daily simulation execution. See example below.<br />
<br />
Resetting met variables at 'start_of_day' or 'end_of_day' could result in critical modules (eg Soilwat2) missing the information due to process ordering. Setting met variables at the 'preNewMet' stage (see example) will avoid this risk.</p>
<p style="margin: 0cm 0cm 10pt;"><strong>AN EXAMPLE</strong></p>
<p style="margin: 0cm 0cm 10pt;">Most modules in APSIM get their weather data from a newmet event that is produced by the MET module, so we need to change the weather variables before this event gets sent out. The MET module produces an event that makes this easy. It is called prenewmet. This event is fired just before a newmet event. So all we have to do is to trap this event and change the weather variables.<br />
<br />
From the manager\sample\manager.par file:<br />
<br />
</p>
<div style="padding: 6pt; background: none repeat scroll 0% 0% #eeeeee; margin-left: 7.5pt; margin-right: 7.5pt; border: 1pt solid #dddddd;">
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">modify_met.manager.preNewmet</pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">maxt = maxt + 2</pre>
<pre style="padding: 0cm; background: none repeat scroll 0% 0% #eeeeee; border: medium none;">mint = mint + 2</pre>
</div>
<p style="margin: 0cm 0cm 10pt;">When the prenewmet event fires, we increase the maximum and minimum temperature by 2 degrees, which then gets propagated to all other APSIM modules when the newmet event is sent by the MET module.</p>
<h1 style="margin: 24pt 0cm 0pt;">Module Output Variables</h1>
<p style="margin: 0cm 0cm 10pt;">The APSIM Met Module can provide the values of several state variables for reporting to an output file or use by other modules.</p>
<p>&nbsp;</p>
<table cellspacing="10" cellpadding="0" border="0">
    <thead>
        <tr>
            <td style="border-width: medium medium 1pt; border-style: none none solid; border-color: #ece9d8 #ece9d8 #999999; padding: 1.5pt 3.75pt; background: none repeat scroll 0% 0% #cccccc;">
            <p style="margin: 0cm 0cm 10pt;"><strong>Name</strong><strong></strong></p>
            </td>
            <td style="border-width: medium medium 1pt; border-style: none none solid; border-color: #ece9d8 #ece9d8 #999999; padding: 1.5pt 3.75pt; background: none repeat scroll 0% 0% #cccccc;">
            <p style="margin: 0cm 0cm 10pt;"><strong>Units</strong><strong></strong></p>
            </td>
            <td style="border-width: medium medium 1pt; border-style: none none solid; border-color: #ece9d8 #ece9d8 #999999; padding: 1.5pt 3.75pt; background: none repeat scroll 0% 0% #cccccc;">
            <p style="margin: 0cm 0cm 10pt;"><strong>Description</strong><strong></strong></p>
            </td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">keyword</p>
            </td>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">as specified</p>
            </td>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">Each keyword climate constant is available for output by the user.</p>
            </td>
        </tr>
        <tr>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">Column name</p>
            </td>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">as specified</p>
            </td>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">Each column data field is available for output by the user. The value for the current simulation timestep will be returned. The time specifiers (ie day, year, day_of_month, month) are not available for output.</p>
            </td>
        </tr>
        <tr>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">Day_length</p>
            </td>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">hours</p>
            </td>
            <td style="padding: 0cm; background-color: transparent; border: medium none #ece9d8;">
            <p style="margin: 0cm 0cm 10pt;">Day length (hours of plant photosensitive light) for the current simulation day. This value is calculated using day of year and latitude and includes civil twilight with a sun angle of 6 degrees below the horizon.</p>
            </td>
        </tr>
    </tbody>
</table>
<p style="margin: 0cm 0cm 10pt;"> </p>
<p style="margin: 0cm 0cm 10pt;"><strong>Easy way to calculate the tav and amp constants&nbsp;<br />
</strong>The software team provides a tool called TAV_AMP that will calculate these 2 constants and insert them into a met file. To download the too,l go to: <a href="../../external.html?link=http://www.apsim.info/Portals/0/OtherProducts/TavAmpGUI.zip">http://www.apsim.info/Portals/0/OtherProducts/TavAmpGUI.zip</a></p>
<p  style="margin: 0cm 0cm 10pt;">
Full instructions for using the tool can be found here: <a href="../../external.html?link=http://www.apsim.info/Portals/0/OtherProducts/tav_amp.pdf">http://www.apsim.info/Portals/0/OtherProducts/tav_amp.pdf</a>.</p>
</div>

</div><!-- End_Module_489 --></div></div></div></div>
            
            	<table width="100%" border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td id="dnn_MenuPane" width="20%" valign="top" class="MenuPane DNNEmptyPane"></td>

						<td id="dnn_LeftPane" width="50%" valign="top" class="LeftPane DNNEmptyPane"></td>

						<td id="dnn_CenterPane" valign="top" class="CenterPane DNNEmptyPane"></td>

						<td id="dnn_RightPane" width="50%" valign="top" class="RightPane DNNEmptyPane"></td>

					</tr>
				</table>
		    
		    <div id="dnn_BottomPane" class="DNNEmptyPane"></div>
        </div>
    </div>
    </div> 
	<div id="Footer">
    	<div class="container">        
			<div id="dnn_FooterPane" class="DNNEmptyPane"></div>
			<div class="clearboth">
			</div>
    	</div>
    </div>
</div>





        <input name="ScrollTop" type="hidden" id="ScrollTop" />
        <input name="__dnnVariable" type="hidden" id="__dnnVariable" autocomplete="off" value="`{`__scdoff`:`1`,`SearchIconWebUrl`:`url(/icons/sigma/GoogleSearch_16X16_Standard.png)`,`SearchIconSiteUrl`:`url(/icons/sigma/DnnSearch_16X16_Standard.png)`,`SearchIconSelected`:`S`}" />
        
    
</form>
    
    
</body>

<!-- Mirrored from www.apsim.info/Documentation/Model,CropandSoil/InfrastuctureandManagementDocumentation/MET.aspx by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Mar 2014 02:12:30 GMT -->
</html>