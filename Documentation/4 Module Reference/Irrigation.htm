<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>The APSIM irrigation module (IRRIGATE ) </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="../ApsimWebStyle.css" rel="stylesheet" type="text/css">
</head>

<body>
<p class="Title1">The APSIM irrigation module (IRRIGATE)</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">The APSIM irrigate module allows the user to:-</p>
<ul>
  <li class="Normal">specify irrigation schedules spanning multiple years </li>
  <li class="Normal">configure an automatic irrigation schedule calculated on soil moisture </li>
  <li class="Normal">specify both schedules to be turned on or off at any time in a simulation </li>
  <li class="Normal">apply solutes in irrigation water for redistribution via the water balance module. </li>
</ul>
<p class="Title2">Parameter File Settings</p>
<p class="Normal">The module input parameters are as follows:-</p>
<p class="Normal">&nbsp;</p>
<table cellspacing="0" cellpadding="0">
  <tr>
    <td width="319" valign="top"><p class="Normal"><strong>Keyword = Setting </strong></p></td>
    <td width="360" valign="top"><p class="Normal"><strong>Description </strong></p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">manual_irrigation = on/off </p></td>
    <td width="360" valign="top"><p class="Normal">Switch to enable or disable the fixed irrigation schedule </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">day = day 1 , day 2 , ... , day n </p></td>
    <td width="360" valign="top"><p class="Normal">Day of year of irrigation application </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">year = year 1 , year 2 , ... , year n </p></td>
    <td width="360" valign="top"><p class="Normal">Year of irrigation application </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">amount = amount 1 , amount 2 , ... , amount n </p></td>
    <td width="360" valign="top"><p class="Normal">Amount of irrigation (mm) </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">time = time 1 , time 2 , ... , time n </p></td>
    <td width="360" valign="top"><p class="Normal">Time of Day of application (hh:mm) </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">duration = durn 1 , durn 2 , ... , durn n </p></td>
    <td width="360" valign="top"><p class="Normal">Time duration for application (mins) </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">default_duration = durn </p></td>
    <td width="360" valign="top"><p class="Normal">Default irrigation duration that can be used in place of real irrigation duration specification. </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">default_time = time </p></td>
    <td width="360" valign="top"><p class="Normal">Default irrigation time that can be used in place of real irrigation time specification. </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">solutes = sol 1 , sol 2 , ... , sol n </p></td>
    <td width="360" valign="top"><p class="Normal">List of solutes that may be found in irrigation water </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">solute_name = amount 1 , amount 2 , ... , amount n </p></td>
    <td width="360" valign="top"><p class="Normal">Amount of solute in irrigation water where solute_name is the name of the solute (eg. no3 for nitrate) </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">automatic_irrigation = on/off </p></td>
    <td width="360" valign="top"><p class="Normal">Switch to enable or disable the automatic irrigation schedule </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">crit_fr_asw = fraction </p></td>
    <td width="360" valign="top"><p class="Normal">Critical fraction of available soil water (ie. above a 15 bar lower limit) below which irrigation is automatically applied. (0-1) </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">asw_depth = depth </p></td>
    <td width="360" valign="top"><p class="Normal">Depth to which available soil water fraction is calculated. (mm) </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">Irrigation_allocation = on/off </p></td>
    <td width="360" valign="top"><p class="Normal">Switch to enable or disable the irrigation allocation accounting. (See Irrigation Allocation section below) </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">Allocation = amount (mm)<br>
    allocation_ml (ml)<br>
    application_area (ha)</p></td>
    <td width="360" valign="top"><p class="Normal">Irrigation allocation amount (mm). Cannot be used in conjunction with manual irrigation schedule. If this is not provided, it is possible to supply the allocation in ML and application area in hectares.</p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">default_XXX_conc </p></td>
    <td width="360" valign="top"><p class="Normal">Default concentration of solute XXX to be applied in any irrigation. If solute concentrations are specified when the irrigation is requested, then defaults are ignored. Units = ppm </p></td>
  </tr>
  <tr>
    <td width="319" valign="top"><p class="Normal">Irrigation_efficiency = fraction </p></td>
    <td width="360" valign="top"><p class="Normal">Efficiency of the irrigation. (0-1) ie. Irrigation can be less than applied due to losses from evaporation, wind loss and runoff. </p></td>
  </tr>
</table>
<p class="Normal"><strong>&nbsp; </strong></p>
<p class="Normal">Note that all irrigation modules are optional. The module will alert the user to incomplete parameterisation if dependencies between optional settings are not handled properly. </p>
<p class="Normal"><strong>&nbsp; </strong></p>
<p class="Normal">The following example shows the list of possible inputs to the irrigation module. Included in this example is the specification both a manual and automatic irrigation schedule and solutes found in the irrigation water. </p>
<p class="Normal"><strong>&nbsp; </strong></p>
<p class="Code">[user_data_group.irrigate .parameters] </p>
<p>&nbsp; </p>
<p class="Code">manual_irrigation = on (on/off) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! switch schedule on or off </p>
<p class="Code">Solutes = no3 cl ()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! list of possible solutes </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! found in irrigation water </p>
<p class="Code">day = 100 110 120 130 ()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! day of year of application </p>
<p class="Code">year = 2000 2000 2000 2000 ()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! year of application </p>
<p class="Code">amount = 10 20 30 40 (mm)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! amount of irrigation </p>
<p class="Code">time = 12:00 24:00 1:00 0:00 (hh:mm)&nbsp;&nbsp;&nbsp;&nbsp;! time of irrigation </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! application (24 hour notation) </p>
<p class="Code">duration = 60 60 30 30 (min)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! time duration of irrigation </p>
<p class="Code">no3 = 10 0 10 0 (kg/ha)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! nitrate in irrigation water </p>
<p class="Code">cl = 0 10 0 5 (kg/ha)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! chloride in irrigation water</p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! The following 2 parameters can be </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! used as defaults for related parameters </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! above and are used for automatic irrigation applications.</p>
<p class="Code">default_duration = 60 (min)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! default irrigation duration </p>
<p class="Code">default_time = 12:00 (hh:mm)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! default time for irrigation </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! application</p>
<p class="Code">automatic_irrigation = on (on/off)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! switch schedule on or off </p>
<p class="Code">crit_fr_asw = 0.10 (0-1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! critical fraction of </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! available soil water </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! to trigger irrigation </p>
<p class="Code">asw_depth = 100 (mm)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! depth for available </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! soil water calculations </p>
<p class="Normal">&nbsp;</p>
<p class="Title2">Requesting Irrigation from other Modules</p>
<p class="Normal">Any module can request irrigation via the messaging system</p>
<p class="Code">&nbsp;</p>
<p class="Code">irrigate apply amount=50(mm), time=12:00 (hh:mm), duration=30 (min), no3=10 (kg/ha)</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">Here 50 mm of water will be applied at midday, taking 30 mins to complete the task and in doing so 10 kg/ha of nitrate will be added as solute within the irrigation water. </p>
<p class="Normal">&nbsp;</p>
<p class="Normal">or</p>
<p class="Code">&nbsp;</p>
<p class="Code">irrigate apply amount = 50 (mm)</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">In this second example the default irrigation times / durations and zero solute concentrations will be assumed. Solute concentrations are always optional and their absence assumes an absence of solute in irrigation water. Note : only solutes listed in the “solutes” line in the parameter file will be recognised by this module. </p>
<p class="Normal"><strong>&nbsp; </strong></p>
<p class="Normal">or</p>
<p class="Normal">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;! Add more than enough to fill the top 2 layers </p>
<p class="Code">&nbsp;&nbsp;deficit = (dul_dep(1) - sw_dep(1)) + (dul_dep(2) - sw_dep(2)) </p>
<p class="Code">&nbsp;&nbsp;if deficit &gt; 0 then </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;irrigate.amount = deficit * 1.5 </p>
<p class="Code">&nbsp;&nbsp;endif</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">In this third example the amount of irrigation is calculated by the manager and passed to irrigate via the use of a direct setting of the amount. This approach is similar to the command</p>
<p class="Normal">&nbsp;</p>
<p class="Code">Irrigate set amount = 10 (mm)</p>
<p class="Code">&nbsp;</p>
<p class="Normal">But in the later example the amount is not calculated at run time and so is similar to the second example. </p>
<p class="Normal">&nbsp;</p>
<p class="Title2">Resetting Schedules</p>
<p class="Normal">Manual and automatic schedules can be enabled and disabled within a simulation via the message system. The syntax of a standard manager message to turn off the manual irrigation schedule would be as follows:</p>
<p class="Normal">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;irrigate set manual_irrigation = off</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">Other related data is unaffected by this switch resetting and so, for example, the automatic irrigation scheduling can be set on and off for set windows in time using a pair of if statements in the manager file.</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">Parameters for the automatic irrigation calculations can be reset similarly:</p>
<p class="Normal">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;irrigate set crit_fr_asw = 0.9 (0-1) </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;irrigate set asw_depth = 150 (mm) </p>
<p class="Code">&nbsp;</p>
<p class="Title2">Working with Irrigation Allocation Budgets </p>
<p class="Normal">The following example shows how the allocation mechanisms are utilized in the APSIM Irrigate module. Note that only automatic irrigation scheduling and remote scheduling (eg via the manager or operatns modules) is taken into account. The mechanism cannot be used in conjunction with a manual irrigation schedule. The example shows an annual allocation set on the first of July each year, which is applied using automatic irrigation scheduling.</p>
<p class="Normal">&nbsp;</p>
<p class="Code">[user_data_group.irrigate .parameters]</p>
<p class="Code">&nbsp;</p>
<p class="Code">automatic_irrigation = on &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(on/off)&nbsp;! switch schedule on or off </p>
<p class="Code">crit_fr_asw = 0.66 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0-1)&nbsp;! critical fraction of </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! available soil water </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! to trigger irrigation </p>
<p class="Code">asw_depth = 600 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;(mm)&nbsp;! depth for available </p>
<p class="Code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! soil water calculations</p>
<p class="Code">&nbsp;</p>
<p class="Code">[user_data_group.manager .start_of_day] </p>
<p class="Code">if today = date('1_jul') then </p>
<p class="Code">&nbsp;&nbsp;irrigate set allocation = 1000 (mm) </p>
<p class="Code">endif</p>
<p class="Normal">&nbsp;</p>
<p class="Title2">Working with Irrigation Efficiency</p>
<p class="Normal">The following example shows how the irrigation efficiency is utilized in the APSIM Irrigate module. The example shows an irrigation_efficiency setting of 75%. This means that only 75% of the irrigation is actually being applied due to approximated losses due to evaporation, wind loss or runoff.</p>
<p class="Normal">&nbsp;</p>
<p class="Code">[user_data_group.manager .start_of_day]</p>
<p class="Code">&nbsp;</p>
<p class="Code">irrigate.irrigation_efficiency = 0.75</p>
<p class="Code">&nbsp;</p>
<p class="Code">if today = date('1_jul') then </p>
<p class="Code">&nbsp;&nbsp;irrigate apply amount = 50 </p>
<p class="Code">endif</p>
<p class="Normal">&nbsp;</p>
<p class="Title2">Using Default Solute Concentrations</p>
<p class="Normal">Default solute concentrations can be specified by a new &quot;getable&quot; parameter(s) called 'default_XXX_conc' , where XXX is the solute name. The units are ppm, and the parameter(s) is read from the parameter file. Note that solutes are not registered in the system simply by defining default concentrations. If you want to track these solutes through the soil, for example, they must be registered elsewhere to trigger a New_Solute Event, for example in the &quot;solute_names = &quot; line in SOLUTE, or by a number of other </p>
<p class="Normal">modules.</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">When an irrigation is triggered (from MANAGER or from the parameter file) and no specific information on solutes in the irrigation is supplied, then the default solute concentrations will be used if they are supplied. Any specific information however will over-ride the defaults. If specific information is provided, then details of all the solutes must be given, because no defaults will be used. A parameter file example is given below:</p>
<p class="Normal">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;[sample.irrigate.parameters]</p>
<p class="Code">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;default_cl_conc = 100.0 </p>
<p class="Code">&nbsp;&nbsp;default_br_conc = 50.0</p>
<p class="Code">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;[sample.solute.parameters]</p>
<p class="Code">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;solute_names = cl br</p>
<p class="Code">&nbsp;</p>
<p class="Code">&nbsp;&nbsp;cl = 0 0 0 0 0 0 0 (kg/ha) </p>
<p class="Code">&nbsp;&nbsp;br = 0 0 0 0 0 0 0 (kg/ha)</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">The reportable variable is &quot;irrigation_XXX&quot; where XXX is the solute name. </p>
<p class="Normal">The units are kg/ha.</p>
<p class="Normal">&nbsp;</p>
<p class="Title2">Using APSIM Irrigate with APSIM WaterStorage</p>
<p class="Normal">There is an option to use APSIM Irrigate in conjunction with the APSIM WaterStorage module. Please also read the documentation for APSIM WaterStorage.</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">APSIM Irrigate works on a ‘mm' basis, whereas APSIM WaterStorage works on real volumes (Ml). Hence, when an irrigation application is specified in mm, an ‘area of application' must be provided in order to calculate the required volume of water from the specified source instance of WaterStorage. As mentioned previously, whenever WaterStorage is used in a simulation for supply of irrigation water, a variable called ‘crop_area' (ha) must be specified in the manager logic.</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">Irrigations using water from WaterStorage can only be initiated by using the ‘irrigate apply' action in manager. A new optional argument called ‘source' is added to the ‘apply' command line to trigger the use of water from WaterStorage. The required syntax is as follows: </p>
<p class="Normal">&nbsp;</p>
<p class="Code">[sample.manager.start_of_day] </p>
<p class="Code">if day = 10 then </p>
<p class="Code">&nbsp;&nbsp;irrigate apply amount=10 (mm), source = dam bore dam2 () </p>
<p class="Code">endif </p>
<p class="Normal">&nbsp;</p>
<p class="Normal">The argument ‘source' specifies the sources from which to obtain the irrigation water, in preferential order. In other words, in the above example, if the dam cannot fully supply the required water, the balance will be taken from the bore. If there is still a shortage of water, then dam2 will be asked next to supply water. There is no limit to the number of sources which can be specified.</p>
<p class="Normal">&nbsp;</p>
<p class="Normal">When the irrigation water is applied to the soil, it will carry the solutes makeup of the water source being used.<br>
</p>
<p class="Title2">Irrigation Module Outputs</p>
<p class="Normal">The Irrigation module outputs the following variables.</p>
<p class="Normal">&nbsp;</p>
<table cellspacing="0" cellpadding="0">
  <tr>
    <td width="193" valign="top"><p class="Normal"><strong>Variable Name </strong></p></td>
    <td width="486" valign="top"><p class="Normal"><strong>Description </strong></p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><h5 class="Normal">irrigation </h5></td>
    <td width="486" valign="top"><p class="Normal">Total amount of irrigation added to profile during any timestep (mm) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">manual_irrigation </p></td>
    <td width="486" valign="top"><p class="Normal">Current state of the fixed irrigation schedule (on/off) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">automatic_irrigation </p></td>
    <td width="486" valign="top"><p class="Normal">Current state of the automatic irrigation schedule (on/off) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">crit_fr_asw </p></td>
    <td width="486" valign="top"><p class="Normal">Critical fraction of available soil water (ie. above a 15 bar lower limit) below which irrigation is automatically applied. (0-1) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">asw_depth </p></td>
    <td width="486" valign="top"><p class="Normal">Depth to which available soil water fraction is calculated. (mm) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">allocation </p></td>
    <td width="486" valign="top"><p class="Normal">Current amount of irrigation allocation available for use (mm) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">allocation_ml </p></td>
    <td width="486" valign="top"><p class="Normal">Current amount of irrigation allocation available for use (ML) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">carry_over </p></td>
    <td width="486" valign="top"><p class="Normal">Amount of irrigation allocation unused as at reset of allocation (mm) (Value will be zero for days on which allocation is not reset) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">carry_over_ml </p></td>
    <td width="486" valign="top"><p class="Normal">Amount of irrigation allocation unused as at reset of allocation (ML) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">irr_fasw </p></td>
    <td width="486" valign="top"><p class="Normal">Fraction of available soil water within the critical irrigation soil depth </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">irr_deficit </p></td>
    <td width="486" valign="top"><p class="Normal">Deficit of soil water within the critical irrigation soil depth (mm) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">irrig_loss </p></td>
    <td width="486" valign="top"><p class="Normal">Losses resulting from and application of irrigation in conjunction with the irrigation_efficiency mechanism. </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">irrig_tot </p></td>
    <td width="486" valign="top"><p class="Normal">Total irrigation specified, not including losses due to irrigation efficiency (mm) </p></td>
  </tr>
  <tr>
    <td width="193" valign="top"><p class="Normal">irrigation_XXX </p></td>
    <td width="486" valign="top"><p class="Normal">Applied quantity of solute XXX, (kg/ha) </p></td>
  </tr>
</table>
</body>
</html>
