<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<title>
The APSIM Accum Module (ACCUM)</title>
<link href="../ApsimWebStyle.css" rel="stylesheet" type="text/css">
</head>

<body>

<div>

<p class="Title1">The APSIM Accum Module (ACCUM)</p>

<p class="title2"><b><i>&nbsp;</i></b></p>

<p class="title2">Operation</p>

<p class="Normal"><b><i>&nbsp;</i></b></p>

<p class="Normal">The APSIM accum module enables a user to accumulate values for
variables over a period of days so that they may be used for management or
reporting actions. </p>

<p class="Normal">Any variable from a module included in a simulation can be
accumulated over a defined period of time.</p>

<p class="title2">&nbsp;</p>

<p class="title2">Parameter file settings</p>

<p class="Normal">&nbsp;</p>

<p class="Normal">The APSIM Accum Module requires parameters to specify the variables
that are to be accumulated;</p>

<p class="Normal">&nbsp;</p>

<p class="Code">[sample.accum.parameters]</p>

<p class="Code">accum_variables =
rain[5]</p>

<p class="Normal">&nbsp;</p>

<p class="Normal">This will initialize the variable to accumulate the <b>rain</b>
variable over a five day period. The number that can be used is arbitrary,
however it can have a maximum value of 366 and a minimum of 1. This variable
can then be used in management logic or be reported. Below is one example of
how the accumulated variable may be used in APSIM.</p>
<p class="Normal">&nbsp;</p>
<p class="Code">[sample.manager.start_of_day]</p>

<p class="Code">if
date_within(‘1-may,30-jun’) = 1 and rain[3] &gt;= 20 then</p>

<p class="Code">      wheat sow cultivar = hartog, plants
= 121.61,</p>

<p class="Code">     sowing_depth = 30
(mm)</p>

<p class="Code">endif</p>
<p class="Code">&nbsp;</p>
<p class="Code">[sample.report.parameters]</p>

<p class="Code">variable = clock.day</p>

<p class="Code">variable = clock.year</p>

<p class="Code">variable = accum.rain[3]</p>

<p class="Normal">&nbsp;</p>
<p class="Normal">To specify multiple variables to be used for the accum module the
  parameter setting may look like this;</p>
<p class="Normal">&nbsp;</p>
<p class="Code">[sample.accum.parameters]</p>

<p class="Code">accum_variables =
rain[10], runoff[5]<b><i></i></b></p>
<p class="title2">&nbsp;</p>
<p class="title2">Control file settings</p>
<p class="title2">&nbsp;</p>

<p class="Normal">An example control file for the above parameter settings may look
like this;</p>

<p class="Normal">&nbsp;</p>

<p class="Code">[APSIM.treatment1]</p>

<p class="Code">module = clock    accum.par [sample]   </p>
<p class="Code">%apsuite\apsim\clock\clock.ini[standard]</p>
<p class="Code">module = report   accum.par [sample]</p>

<p class="Code">module =
input(met)      </p>
<p class="Code">%apsuite\apsim\met\SAMPLE\DALBY.MET
  [weather]</p>
<p class="Code">module = accum    accum.par [sample]</p>

<p class="Code">module = manager  accum.par [sample]</p>

<p class="Code">module =
SummaryFile  accum.par[sample]</p>

<p class="Code">module = Screen  accum.par[sample]</p>

<p class="Normal">&nbsp;</p>

<p class="Normal">For a working sample of the Accum module look to the sample provided
in the sample directory under Accum.</p>

</div>

</body>

</html>
