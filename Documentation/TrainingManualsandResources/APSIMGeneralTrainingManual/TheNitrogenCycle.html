<!DOCTYPE html>
<html  lang="en-AU">

<!-- Mirrored from www.apsim.info/Documentation/TrainingManualsandResources/APSIMGeneralTrainingManual/TheNitrogenCycle.aspx by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Mar 2014 02:12:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head id="Head"><title>
	APSIM > Documentation > Training Manuals and Resources > APSIM General Training Manual > The Nitrogen Cycle
</title><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><meta content="text/javascript" http-equiv="Content-Script-Type" /><meta content="text/css" http-equiv="Content-Style-Type" /><meta id="MetaDescription" name="DESCRIPTION" content="Agriculture Production Systems Simulator" /><meta id="MetaCopyright" name="COPYRIGHT" content="Copyright 2014 APSIM" /><meta id="MetaAuthor" name="AUTHOR" content="APSIM" /><meta name="RESOURCE-TYPE" content="DOCUMENT" /><meta name="DISTRIBUTION" content="GLOBAL" /><meta id="MetaRobots" name="ROBOTS" content="INDEX, FOLLOW" /><meta name="REVISIT-AFTER" content="1 DAYS" /><meta name="RATING" content="GENERAL" /><meta http-equiv="PAGE-ENTER" content="RevealTrans(Duration=0,Transition=1)" /><style id="StylePlaceholder" type="text/css"></style><link href="../../DependencyHandler.axd/b0e9bcca91a071945a9daa4998ffc22c.46.css" type="text/css" rel="stylesheet"/><!--[if LT IE 8]><link id="IE7Minus" rel="stylesheet" type="text/css" href="/Portals/0/Skins/APSIM_2012/ie7skin.css" /><![endif]-->     
        
			    

        
		  </head>
<body id="Body">
    
    <form method="post" action="../../external.html?link=http://www.apsim.info/Documentation/TrainingManualsandResources/APSIMGeneralTrainingManual/TheNitrogenCycle.aspx" id="Form" enctype="multipart/form-data">


     
<div id="DNN6" class="ThreeCol">
    <div id="Header">
        <div id="ContentBG">
            <div id="ControlPanelWrapper">
                
		    </div>
            <!-- START: Header -->
<div id="Header">
	<h1><a href="../../../index-2.html">APSIM</a></h1>
    <div id="dnn_Banner" class="Banner DNNEmptyPane"></div>
		<div id="search">
		

<div id="dnn_dnnSearch_DropDownSearch" class="SearchContainer">
  <div class="SearchBorder">
  <div id="SearchIcon" class="SearchIcon">
    <img id="dnn_dnnSearch_downArrow" title="Select the search type" src="../../../icons/sigma/Action_16X16_Standard.png" alt="Select the search type" />
  </div>
  <input name="dnn$dnnSearch$txtSearchNew" type="text" maxlength="255" id="dnn_dnnSearch_txtSearchNew" class="SearchTextBox" onkeydown="return __dnn_KeyDown(&#39;13&#39;, &#39;javascript:__doPostBack(%27dnn$dnnSearch$cmdSearchNew%27,%27%27)&#39;, event);" />&nbsp;
  <ul id="SearchChoices">
    <li id="SearchIconSite">Site</li>
    <li id="SearchIconWeb">Web</li>
  </ul>
  </div>
  <a id="dnn_dnnSearch_cmdSearchNew" class="SkinObject SearchButton" href="javascript:__doPostBack(&#39;dnn$dnnSearch$cmdSearchNew&#39;,&#39;&#39;)">Go</a>
</div>

		</div>
		<div class="clear">&nbsp;</div>
</div>
		    <div class="Content">
                <div id="Nav">
				     <!-- DDRmenu v02.00.01 - DNNStandard template --><!--SEO NOINDEX-->




			    </div> 
		    </div>
        </div>
	</div>
    <div class="wrapper">
    <div id="Content">   
        <div class="LogoRowRight">
            <div id="Login">
                
                

                

            </div> 
        </div>    
        <div id="Breadcrumb"><span id="dnn_dnnBreadcrumb_lblBreadCrumb"><a href="../../default.html" class="SkinObject">Documentation</a><span class="Sep"></span><a href="../../TrainingManualsandResources.html" class="SkinObject">Training Manuals and Resources</a><span class="Sep"></span><a href="../APSIMGeneralTrainingManual.html" class="SkinObject">APSIM General Training Manual</a><span class="Sep"></span><a href="TheNitrogenCycle.html" class="SkinObject">The Nitrogen Cycle</a></span>
</div>
        <div id="PageTitle">
        	<h1>The Nitrogen Cycle</h1>
        </div>
 
             <div id="Panes">
            <div id="dnn_ContentPane"><div class="DnnModule DnnModule-DNN_HTML DnnModule-466"><a name="466"></a>
<div class="Invisible"><div id="dnn_ctr466_ContentPane"><!-- Start_Module_466 --><div id="dnn_ctr466_ModuleContent" class="DNNModuleContent ModDNNHTMLC">
	<div id="dnn_ctr466_HtmlModule_lblContent" class="Normal">
	<div style="page-break-after: always;"></div>
<h1><span style="color: #548dd4;">Exercise 3: Nitrogen Cycling</span></h1>
<p>In this exercise you will observe the cycle of fertiliser nitrogen in a fallow situation; urea to ammonium, ammonium to nitrate and the loss of soil nitrate via denitrification. This simulation will introduce editing a simple Manager rule and to more advanced features of graphing simulation results.</p>
<p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start a new simulation based on Continuous Wheat.apsim. </p>
<p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Rename the simulation to &ldquo;Nitrogen Cycle&rdquo;.</p>
<p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Save this file as Module3.apsim.</p>
<p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Click the met module and select Dalby weather (C:\Program Files(x86)\Apsim75\Examples\MetFiles\ by default).</p>
<p><img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image001.jpg" />&nbsp;</p>
<p style="margin-left: 7.1pt;"> </p>
<p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Change the starting date to&nbsp; 1/1/1989 and the end date to 31/12/1989</p>
<p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add the heavy clay soil from the Training toolbox (see module 1 if you're not sure how to do this).</p>
<img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image002.jpg" /><br clear="all" style="page-break-before: always;" />
<p>&nbsp;</p>
<p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Set starting water to 50% full, evenly distributed. </p>
<p>&nbsp;</p>
<p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Set starting nitrogen to 19kg/ha NO<sub>3</sub> and 0 NH<sub>4</sub>, evenly distributed. Don&rsquo;t forget to change units to kg/ha (right click the column header). Make the depth equal to the entire soil profile (check Water node for the profile depth). </p>
<p style="margin-left: 0cm;"> </p>
<p style="margin-left: 0cm;">&nbsp;<img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image003.jpg" /></p>
<p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Make sure SurfaceOrganicMatter is set to 1000 kg/ha wheat.</p>
<p>10.&nbsp;&nbsp; Remove all manager scripts under the Manager folder, but leave the folder itself. </p>
<p>11.&nbsp;&nbsp; Drag a &ldquo;Fertilise on fixed date&rdquo; script to the Manager folder. You will find it in the Management toolbox under Manager (Common Tasks).</p>
<p>&nbsp;<img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image004.jpg" /></p>
<p>12.&nbsp;&nbsp; Change the fertiliser management parameters to apply 100 kg/ha of urea_N on 10-Jan. Leave the "Don't add fertiliser if N in top 2 layers exceeds (kg/ha)" property, and use the drop down box to set "Module used to apply the fertiliser" to "fertiliser". </p>
<p>13.&nbsp;&nbsp; Make sure you have a fertiliser component in your simulation. Even though it doesn&rsquo;t have any changeable properties it&rsquo;s needed to tell APSIM that you want to use fertiliser.</p>
<img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image005.png" /><br clear="all" style="page-break-before: always;" />
<p>&nbsp;</p>
<p>14.&nbsp;&nbsp; Remove all output Variables except Date (the first one). Enter the following variables into the outputfile Variable list:</p>
<table border="1" cellspacing="0" cellpadding="0" style="margin-left: 36pt; border-collapse: collapse; border: medium none;">
    <tbody>
        <tr>
            <td valign="top" style="width: 97pt; border: 1pt solid windowtext; background: none repeat scroll 0% 0% #bfbfbf; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt; text-align: center;"><strong>Component</strong></p>
            </td>
            <td valign="top" style="width: 106.3pt; border-width: 1pt 1pt 1pt medium; border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-image: none; background: none repeat scroll 0% 0% #bfbfbf; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt; text-align: center;"><strong>Variable Name</strong></p>
            </td>
            <td valign="top" style="width: 310.15pt; border-width: 1pt 1pt 1pt medium; border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-image: none; background: none repeat scroll 0% 0% #bfbfbf; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt; text-align: center;"><strong>Comment</strong></p>
            </td>
        </tr>
        <tr>
            <td valign="top" style="width: 97pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-image: none; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">Already included</p>
            </td>
            <td valign="top" style="width: 106.3pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">dd/mm/yyyy as Date</p>
            </td>
            <td valign="top" style="width: 310.15pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            </td>
        </tr>
        <tr>
            <td valign="top" style="width: 97pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-image: none; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">Clock</p>
            </td>
            <td valign="top" style="width: 106.3pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">day</p>
            <p style="margin: 0cm 0cm 0.0001pt;">year</p>
            </td>
            <td valign="top" style="width: 310.15pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            </td>
        </tr>
        <tr>
            <td valign="top" style="width: 97pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-image: none; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">Met</p>
            </td>
            <td valign="top" style="width: 106.3pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">rain</p>
            </td>
            <td valign="top" style="width: 310.15pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            </td>
        </tr>
        <tr>
            <td valign="top" style="width: 97pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-image: none; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">Soil (Heavy Clay)</p>
            </td>
            <td valign="top" style="width: 106.3pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">dlayer</p>
            <p style="margin: 0cm 0cm 0.0001pt;">drain</p>
            <p style="margin: 0cm 0cm 0.0001pt;">esw</p>
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            <p style="margin: 0cm 0cm 0.0001pt;">no3() as NO3Total</p>
            <p style="margin: 0cm 0cm 0.0001pt;">nh4() as NH4Total</p>
            <p style="margin: 0cm 0cm 0.0001pt;">no3</p>
            <p style="margin: 0cm 0cm 0.0001pt;">nh4</p>
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            <p style="margin: 0cm 0cm 0.0001pt;">dnit()</p>
            <p style="margin: 0cm 0cm 0.0001pt;">urea()</p>
            </td>
            <td valign="top" style="width: 310.15pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; padding: 0cm 5.4pt;">
            <p style="margin: 0cm 0cm 0.0001pt;">Depth of each layer</p>
            <p style="margin: 0cm 0cm 0.0001pt;">Drainage</p>
            <p style="margin: 0cm 0cm 0.0001pt;">Extractable soil water</p>
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            <p style="margin: 0cm 0cm 0.0001pt;">Some variables will output as an array. Each value in the array correspondes to a layer in the soil. Here we are summing the values over the profile to return one value then using an alias to rename the variable. We are also outputting the individual layers.</p>
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            <p style="margin: 0cm 0cm 0.0001pt;">&nbsp;</p>
            <p style="margin: 0cm 0cm 0.0001pt;">Denitrification summed over profile.</p>
            <p style="margin: 0cm 0cm 0.0001pt;">Urea summed over profile.</p>
            </td>
        </tr>
    </tbody>
</table>
<p>&nbsp;</p>
<p>15.&nbsp;&nbsp; Change reporting frequency to end_day.</p>
<p>16.&nbsp;&nbsp; Run the simulation.</p>
<p>17.&nbsp;&nbsp; Create a graph of day vs urea, total ammonium and total nitrate, changing the name to Nitrogen. Set &ldquo;Point type&rdquo; to &ldquo;None&rdquo;.<br clear="all" style="page-break-before: always;" />
</p>
<img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image007.jpg" /><br />
<p>&nbsp;</p>
<p>18.&nbsp;&nbsp; Create a new graph of day vs rain, dnit(right axis), esw and NO3Total.</p>
<p>&nbsp;<img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image008.jpg" /></p>
<p style="margin-left: 0cm;"> </p>
<p style="margin-left: 0cm;">From this chart you can see that significant nitrogen is lost via denitrification when large amounts of nitrate are available in saturated soil conditions. </p>
<h2><span style="color: #548dd4;">Exploring Vertical Movement of Nitrate Through the Soil Profile</span></h2>
<p>Let's look at the distribution of nitrate through the soil profile at 21 days after fertilisation, and again at 5 months. We will create a depth plot to help visualise this. Depth plots require two values, the &ldquo;dlayer&rdquo; variable which holds the depth of each layer and at least one other layer variable. Layered variables are always held in arrays. This is why we included no3 and nh4 as layered variables and not just as totals.</p>
<p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Drag a depth graph from the Graph toolbox onto the simulation. </p>
<p> </p>
<img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image009.jpg" /><br clear="all" style="page-break-before: always;" />
<p>&nbsp;</p>
<p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Expand the Plot node and click the Depth node. </p>
<p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We want to examine the profile on 31/01/1989 and 16/06/1989. Tick those two dates.</p>
<p><img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image010.png" /> </p>
<p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; In the Plot node, add no3 and nh4 as the X variable. Leave the Y variable as Depth.</p>
<p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Click on the graph and untick the two nh4 lines so we can see nitrate only. </p>
<p><img alt="" src="../../portals/0/Documentation/TrainingManual/3NitrogenCycling/image011.jpg" />&nbsp;</p>
<p style="margin-left: 0cm;"> </p>
<p style="margin-left: 0cm;">You can see the distribution of nitrate in the soil profile 21 days after the addition of fertiliser and at 5 months. Note that the nitrogen has moved down through the soil.</p>
</div>

</div><!-- End_Module_466 --></div></div></div></div>
            
            	<table width="100%" border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td id="dnn_MenuPane" width="20%" valign="top" class="MenuPane DNNEmptyPane"></td>

						<td id="dnn_LeftPane" width="50%" valign="top" class="LeftPane DNNEmptyPane"></td>

						<td id="dnn_CenterPane" valign="top" class="CenterPane DNNEmptyPane"></td>

						<td id="dnn_RightPane" width="50%" valign="top" class="RightPane DNNEmptyPane"></td>

					</tr>
				</table>
		    
		    <div id="dnn_BottomPane" class="DNNEmptyPane"></div>
        </div>
    </div>
    </div> 
	<div id="Footer">
    	<div class="container">        
			<div id="dnn_FooterPane" class="DNNEmptyPane"></div>
			<div class="clearboth">
			</div>
    	</div>
    </div>
</div>





        <input name="ScrollTop" type="hidden" id="ScrollTop" />
        <input name="__dnnVariable" type="hidden" id="__dnnVariable" autocomplete="off" value="`{`__scdoff`:`1`,`SearchIconWebUrl`:`url(/icons/sigma/GoogleSearch_16X16_Standard.png)`,`SearchIconSiteUrl`:`url(/icons/sigma/DnnSearch_16X16_Standard.png)`,`SearchIconSelected`:`S`}" />
        
    
</form>
    
    
</body>

<!-- Mirrored from www.apsim.info/Documentation/TrainingManualsandResources/APSIMGeneralTrainingManual/TheNitrogenCycle.aspx by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Mar 2014 02:12:14 GMT -->
</html>