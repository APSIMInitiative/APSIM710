<folder version="34" name="simulations">
  <simulation name="IrrigationExample">
    <metfile name="met">
      <filename name="filename" input="yes">%apsim%\Examples\MetFiles\lincoln.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Enter the start date of the simulation">01/01/2005</start_date>
      <end_date type="date" description="Enter the end date of the simulation">31/12/2010</end_date>
    </clock>
    <summaryfile />
    <area name="paddock">
      <Soil>
        <SoilType>Generic NZ heavy</SoilType>
        <LocalName>Brigalow</LocalName>
        <State>Hawke's Bay</State>
        <NaturalVegetation>Brigalow, belah, wilga</NaturalVegetation>
        <Latitude>0</Latitude>
        <Longitude>0</Longitude>
        <InitialWater name="Initial water">
          <FractionFull>1</FractionFull>
          <PercentMethod>FilledFromTop</PercentMethod>
        </InitialWater>
        <Water>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>300</double>
            <double>400</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <BD>
            <double>1.4</double>
            <double>1.4</double>
            <double>1.3</double>
            <double>1.3</double>
            <double>1.3</double>
            <double>1.3</double>
            <double>1.3</double>
          </BD>
          <AirDry>
            <double>0.08</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
          </AirDry>
          <LL15>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
            <double>0.16</double>
          </LL15>
          <DUL>
            <double>0.32</double>
            <double>0.32</double>
            <double>0.32</double>
            <double>0.32</double>
            <double>0.32</double>
            <double>0.32</double>
            <double>0.32</double>
          </DUL>
          <SAT>
            <double>0.4</double>
            <double>0.4</double>
            <double>0.4</double>
            <double>0.4</double>
            <double>0.4</double>
            <double>0.4</double>
            <double>0.4</double>
          </SAT>
          <KS>
            <double>50</double>
            <double>50</double>
            <double>50</double>
            <double>50</double>
            <double>50</double>
            <double>50</double>
            <double>50</double>
          </KS>
          <SoilCrop name="Wheat">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>300</double>
              <double>400</double>
              <double>300</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
            </LL>
            <KL>
              <double>0.08</double>
              <double>0.08</double>
              <double>0.07</double>
              <double>0.06</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="Barley">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>300</double>
              <double>400</double>
              <double>300</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
            </LL>
            <KL>
              <double>0.08</double>
              <double>0.08</double>
              <double>0.07</double>
              <double>0.06</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="Oats">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>300</double>
              <double>400</double>
              <double>300</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
            </LL>
            <KL>
              <double>0.08</double>
              <double>0.08</double>
              <double>0.07</double>
              <double>0.06</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="Canola">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>300</double>
              <double>400</double>
              <double>300</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
            </LL>
            <KL>
              <double>0.08</double>
              <double>0.08</double>
              <double>0.07</double>
              <double>0.06</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="FieldPea">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>300</double>
              <double>400</double>
              <double>300</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
            </LL>
            <KL>
              <double>0.08</double>
              <double>0.08</double>
              <double>0.07</double>
              <double>0.06</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="potato">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>300</double>
              <double>400</double>
              <double>300</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
            </LL>
            <KL>
              <double>0.08</double>
              <double>0.08</double>
              <double>0.07</double>
              <double>0.06</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="maize">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>300</double>
              <double>400</double>
              <double>300</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
              <double>0.16</double>
            </LL>
            <KL>
              <double>0.08</double>
              <double>0.08</double>
              <double>0.07</double>
              <double>0.06</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
        </Water>
        <SoilWater>
          <SummerCona>3.5</SummerCona>
          <SummerU>6</SummerU>
          <SummerDate>1-Nov</SummerDate>
          <WinterCona>3.5</WinterCona>
          <WinterU>6</WinterU>
          <WinterDate>1-Apr</WinterDate>
          <DiffusConst>40</DiffusConst>
          <DiffusSlope>16</DiffusSlope>
          <Salb>0.13</Salb>
          <CN2Bare>1</CN2Bare>
          <CNRed>0</CNRed>
          <CNCov>0</CNCov>
          <Slope>0</Slope>
          <DischargeWidth>0</DischargeWidth>
          <CatchmentArea>0</CatchmentArea>
          <MaxPond>0</MaxPond>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>300</double>
            <double>400</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <SWCON>
            <double>0.3</double>
            <double>0.3</double>
            <double>0.3</double>
            <double>0.3</double>
            <double>0.3</double>
            <double>0.3</double>
            <double>0.3</double>
          </SWCON>
        </SoilWater>
        <SoilOrganicMatter>
          <RootCN>40</RootCN>
          <RootWt>200</RootWt>
          <SoilCN>12.5</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <OC>
            <double>4.5</double>
            <double>3</double>
            <double>1.5</double>
            <double>0.7</double>
            <double>0.3</double>
            <double>0.1</double>
            <double>0.1</double>
          </OC>
          <FBiom>
            <double>0.03</double>
            <double>0.02</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0.01</double>
          </FBiom>
          <FInert>
            <double>0.4</double>
            <double>0.6</double>
            <double>0.8</double>
            <double>0.9</double>
            <double>0.95</double>
            <double>0.95</double>
            <double>0.95</double>
          </FInert>
          <OCUnits>Total</OCUnits>
        </SoilOrganicMatter>
        <Analysis>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <PH>
            <double>7</double>
            <double>7</double>
            <double>7</double>
            <double>7</double>
            <double>7</double>
            <double>7</double>
            <double>7</double>
          </PH>
        </Analysis>
        <Sample name="Initial nitrogen">
          <Date type="date" description="Sample date:" />
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <NO3>
            <double>20</double>
            <double>10</double>
            <double>5</double>
            <double>2</double>
            <double>1</double>
            <double>1</double>
            <double>1</double>
          </NO3>
          <NO3Units>kgha</NO3Units>
          <NH4>
            <double>2</double>
            <double>1</double>
            <double>0.6</double>
            <double>0.0999999999999998</double>
            <double>0.0999999999999998</double>
            <double>0.0999999999999998</double>
            <double>0.0999999999999998</double>
          </NH4>
        </Sample>
      </Soil>
      <surfaceom name="SurfaceOrganicMatter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <fertiliser />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
        <allocation type="text" description="Allocation in ML">0</allocation>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0</default_cl_conc>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0</default_cl_conc>
      </irrigation>
      <wheat />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category type="category" description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">1-May</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">3-May</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">25</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">100</esw_amount>
            <category type="category" description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">wheat</crop>
            <density type="text" description="Enter sowing density  (plants/m2) : ">150</density>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">Wakaniu</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <row_spacing type="text" description="Enter row spacing (mm) : ">150</row_spacing>
          </ui>
          <script>
            <text>
      if (paddock_is_fallow() = 1 and FallowIn &lt;&gt; 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] &gt;= [raincrit] AND esw &gt;= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               [crop] sow plants =[density], sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            </text>
            <event>start_of_day</event>
          </script>
          <script>
            <text>
            nextcrop = 0
            fallowin = 0
            </text>
            <event>init</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category type="category" description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">wheat</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category type="category" description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">400</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea, nh4so4_n, rock_p, banded_p, broadcast_p" description="Sowing fertiliser type : ">urea_N</fert_type_sow>
          </ui>
          <script>
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category type="category" description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">wheat</crop>
          </ui>
          <script>
            <text>

           if [crop].StageName = 'harvest_ripe' or [crop].PlantStatus = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager2 name="Irrigation Rule">
          <ui>
            <Dummy06 type="category" description="Irrigation Availability" />
            <Irrigation_Yes_No type="yesno" description="Is Irrigation available?">yes</Irrigation_Yes_No>
            <Season_Start type="text" description="What is the earliest date in the year when irrigation would start">1-sep</Season_Start>
            <Season_End type="text" description="What is the latest date in the year when irrigation would finish">30-may</Season_End>
            <Season_Allocation type="text" description="What is the maximum amount of water (mm) available to apply to this paddock each season">1000</Season_Allocation>
            <Dummy07 type="category" description="Application rule parameters" />
            <Refull_Frac type="text" description="What is the maximum we want to refill the soil to (Relative to DUL, 0 - 1)?">.8</Refull_Frac>
            <Trigger_Frac type="text" description="What is the deficit at which irrigation will be triggered (Relative to DUL, 0-1)?">.5</Trigger_Frac>
            <Return_days type="text" description="How frequently can this paddock be irrigated (days)?">5</Return_days>
            <Maximum_Irrigation_Amount type="text" description="What is the maximum amount the irrigator can apply (mm)?">30</Maximum_Irrigation_Amount>
            <Top_Depth type="text" description="Depth to which deficit for calculating irrigation requirement is calculated. (mm)">600</Top_Depth>
          </ui>
          <text>using System;
using ModelFramework;
using CSGeneral;

public class Script
{
   //Communication to other modules
   [Link] public Paddock MyPaddock;
   [Link] public Irrigation Irrigation;
   
   //User inputs from properties tab
   [Param()][Output]  public string Irrigation_Yes_No;
   [Param()][Output]  public string Season_Start;
   [Param()][Output]  public string Season_End;
   [Param()][Output]  public double Season_Allocation;
   [Param()][Output]  public double Refull_Frac;
   [Param()][Output]  public double Trigger_Frac;
   [Param()][Output]  public double Return_days;
   [Param()][Output]  public double Maximum_Irrigation_Amount;
   [Param()][Output]  public double Top_Depth;
   
   //Variables from soil water module
   [Input] public DateTime Today;
   [Input] public double[] dul_dep = null;
   [Input] public double[] ll15_dep = null;
   [Input] public double[] sw_dep = null;
   [Input] public double[] dlayer = null;
   
   //Class members
   private bool IrrigationIsAvailable = false;
   private bool SeasonIsOpen = false;
   private bool CropIsActive = false;
   private bool IrrigatorIsAvailable = false;
   private bool SoilIsDry = false;
   [Output] public double Top_DUL = 0;
   [Output] public double Top_Refull = 0;
   [Output] public double Top_Trigger = 0;
   [Output] public double Top_LL = 0;
   [Output] public double Top_SW = 0;
   [Output] public double Accumulated_depth = 0;   
   [Output] public double Days_since_irrigation = 0;
   [Output] public double Amount_to_apply = 0;
   [Output] public double Season_Application = 0;
   
   //Calculate static soil variables
   [EventHandler]
   public void OnInit2()
   {   
      //Calculated soil water variables
      Accumulated_depth = 0;
      for (int layer = 0; Accumulated_depth &lt; Top_Depth; layer++)
      {
         Top_LL += ll15_dep[layer];
         Top_DUL += dul_dep[layer];
         Accumulated_depth += dlayer[layer];
      }
      Top_Refull = Top_LL + (Top_DUL - Top_LL) * Refull_Frac;
   }
   
  
   //Determine daily requirement for irrigation
   [EventHandler]
   public void OnPrepare()
   {
      //Can we irrigate?
      IrrigationIsAvailable = false; 
      if (Irrigation_Yes_No == "yes")
         IrrigationIsAvailable = true; 

      //Are we Allowed to Irrigate
      SeasonIsOpen = true;
      if (DateUtility.DatesEqual(Season_Start, Today))
         Season_Application = 0;
      if(DateUtility.WithinDates(Season_End, Today, Season_Start))
         SeasonIsOpen = false;
      if(Season_Application &gt;= Season_Allocation)
         SeasonIsOpen = false;
      
      //Is there a crop in the ground that needs irrigation?
      CropIsActive = false;
      foreach (Component Crop in MyPaddock.Crops)
      {
         double CropStage = Crop.Variable("PhenologyStage").ToDouble();
         if ((CropStage &gt;= 3.0) &amp;&amp; (CropStage &lt; 8.0))
            CropIsActive = true;
      }      
      
      //Is the irrigator available?
      IrrigatorIsAvailable = false;
      Days_since_irrigation += 1;
      if (Days_since_irrigation &gt;= Return_days)
         IrrigatorIsAvailable = true;
      
      
      //Is the soil dry enough to require irrigation?
      SoilIsDry = false;
      double CurrentRootDepth = 0;
      foreach (Component Crop in MyPaddock.Crops)
      {
         double RootDepth = Crop.Variable("RootDepth").ToDouble();
         CurrentRootDepth = Math.Max(RootDepth, CurrentRootDepth);
      }
      double RelativeRootDepth = Math.Min(1.0, CurrentRootDepth / Top_Depth);
      Top_Trigger = Math.Min(Top_Refull, Top_DUL - (Top_DUL - Top_LL) * RelativeRootDepth * Trigger_Frac); 
      
      Accumulated_depth = 0;
      Top_SW = 0;
      for (int layer = 0; Accumulated_depth &lt; Top_Depth; layer++)
      {
         Top_SW += sw_dep[layer];
         Accumulated_depth += dlayer[layer];
      }
      if (Top_SW &lt;= Top_Trigger)
         SoilIsDry = true;
            
      //Lets bloody well irrigate then!!!!
      if((IrrigationIsAvailable) &amp;&amp; (SeasonIsOpen) &amp;&amp; (CropIsActive) &amp;&amp; (IrrigatorIsAvailable) &amp;&amp; (SoilIsDry)) //The conditions are rife for irrigation
      {
         Amount_to_apply = Math.Min(Top_Refull - Top_SW, Maximum_Irrigation_Amount);
         Amount_to_apply = Math.Min(Amount_to_apply, Season_Allocation - Season_Application); 
         Amount_to_apply = Math.Max(Amount_to_apply, 0.0);
         Irrigation.Apply((float) Amount_to_apply, 0, 0.0f, 0.0f, "", null, 0.0f, 0.0f, 0.0f, 0.0f);
         Days_since_irrigation = 0;
         Season_Application += Amount_to_apply;
      }
   }
}</text>
        </manager2>
      </folder>
      <outputfile>
        <filename output="yes">IrrigationExample.out</filename>
        <title>IrrigationExample</title>
        <variables name="Variables">
          <variable>dd/mm/yyyy as Date</variable>
          <variable>Biomass</variable>
          <variable>Yield</variable>
          <variable>grain_protein</variable>
          <variable>grain_size</variable>
          <variable>esw</variable>
        </variables>
        <events name="Reporting Frequency">
          <event description="">harvesting</event>
        </events>
      </outputfile>
      <folder name="Irrigation Graph">
        <outputfile name="IrrigationVariables">
          <filename output="yes">IrrigationExample IrrigationVariables.out</filename>
          <title>IrrigationExample IrrigationVariables</title>
          <variables name="Variables">
            <variable>dd/mm/yyyy as Date</variable>
            <variable>Top_DUL</variable>
            <variable>Top_Refull</variable>
            <variable>Top_Trigger</variable>
            <variable>Top_LL</variable>
            <variable>Top_SW</variable>
            <variable>Accumulated_depth</variable>
            <variable>Days_since_irrigation</variable>
            <variable>Amount_to_apply</variable>
            <variable>irrigation</variable>
            <variable>CoverLive</variable>
          </variables>
          <events name="Reporting Frequency">
            <event>daily</event>
          </events>
        </outputfile>
        <Graph name="XY">
          <Legend>
            <CheckedTitles> Top_DUL</CheckedTitles>
            <CheckedTitles> Top_Refull</CheckedTitles>
            <CheckedTitles> Top_Trigger</CheckedTitles>
            <CheckedTitles> Top_LL</CheckedTitles>
            <CheckedTitles> Top_SW</CheckedTitles>
            <CheckedTitles> irrigation</CheckedTitles>
            <CheckedTitles> cover_green</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Top_DUL</Y>
            <Y>Top_Refull</Y>
            <Y>Top_Trigger</Y>
            <Y>Top_LL</Y>
            <Y>Top_SW</Y>
            <YRight>irrigation</YRight>
            <YRight>cover_green</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </folder>
    </area>
  </simulation>
</folder>