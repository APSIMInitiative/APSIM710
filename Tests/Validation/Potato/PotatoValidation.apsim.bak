<folder version="17" name="Simulations">
  <shared name="shared" />
  <simulation name="3-Thirlstane_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\latrobe.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">30/05/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">24-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">25-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">320</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.9
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
          <script name="end_of_day">
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">204</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">7-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">129</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Cox_12 water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_12">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.601418711619</Latitude>
        <Longitude>147.068388743674</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.24</bd>
            <ll15>0.17</ll15>
            <airdry>0.08</airdry>
            <dul>0.49</dul>
            <sat>0.532</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.17</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.17</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.17</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.17</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.17</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.17</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.17</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>130</thickness>
            <bd>1.47</bd>
            <ll15>0.11</ll15>
            <airdry>0.07</airdry>
            <dul>0.39</dul>
            <sat>0.445</sat>
            <swcon>0.6</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>340</thickness>
            <bd>1.34</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.49</dul>
            <sat>0.494</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>590</thickness>
            <bd>1.34</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.48</dul>
            <sat>0.49</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>130</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>340</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>590</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="5-Deloraine_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\deloraine.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">31/07/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">25-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">26-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.0
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">131</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">8-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">177</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" array="No" description="End of day" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 9) then  
            'Cox_12 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_12">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.601418711619</Latitude>
        <Longitude>147.068388743674</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.24</bd>
            <ll15>0.17</ll15>
            <airdry>0.08</airdry>
            <dul>0.49</dul>
            <sat>0.532</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.17</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.17</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.17</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.17</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.17</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.17</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.17</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>130</thickness>
            <bd>1.47</bd>
            <ll15>0.11</ll15>
            <airdry>0.07</airdry>
            <dul>0.39</dul>
            <sat>0.445</sat>
            <swcon>0.6</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>340</thickness>
            <bd>1.34</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.49</dul>
            <sat>0.494</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>590</thickness>
            <bd>1.34</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.48</dul>
            <sat>0.49</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>130</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>340</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>590</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="6-Cuprona_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\forthside.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">30/06/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">17-Oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">18-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.7
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">168</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">230</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 9) then  
            'Chilvers_10 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="8-Deloraine_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\deloraine.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2004</start_date>
      <end_date type="date" description="Select the end date of the simulation">30/06/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">26-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">27-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">170</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">10-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">207</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 9) then  
            'Bond_4 water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Bond_4">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Bond farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.6908530138415</Latitude>
        <Longitude>147.013182360771</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>200</thickness>
            <bd>1.46</bd>
            <ll15>0.05</ll15>
            <airdry>0.02</airdry>
            <dul>0.34</dul>
            <sat>0.449</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>2.05</oc>
            <ph>5</ph>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.05</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.05</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>270</thickness>
            <bd>1.71</bd>
            <ll15>0.02</ll15>
            <airdry>0.01</airdry>
            <dul>0.26</dul>
            <sat>0.34</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.19</oc>
            <ph>5</ph>
            <ll name="wheat">0.02</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.6</xf>
            <ll name="canola">0.02</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.6</xf>
            <ll name="fieldpea">0.02</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.6</xf>
            <ll name="lucerne">0.02</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.6</xf>
            <ll name="weed">0.02</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.6</xf>
            <ll name="broccoli">0.02</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.6</xf>
            <ll name="potato">0.02</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>450</thickness>
            <bd>1.71</bd>
            <ll15>0.02</ll15>
            <airdry>0.02</airdry>
            <dul>0.26</dul>
            <sat>0.34</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.19</oc>
            <ph>5</ph>
            <ll name="wheat">0.02</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.02</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.02</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.02</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.02</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.02</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.02</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>320</thickness>
            <bd>2.06</bd>
            <ll15>0.09</ll15>
            <airdry>0.09</airdry>
            <dul>0.17</dul>
            <sat>0.223</sat>
            <swcon>0.3</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.08</oc>
            <ph>5</ph>
            <ll name="wheat">0.09</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.09</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.09</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.09</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.09</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.09</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.09</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>760</thickness>
            <bd>1.27</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.51</dul>
            <sat>0.52</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.21</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.01</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.01</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.01</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.01</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.01</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.01</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.01</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="9-Latrobe_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\latrobe.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2004</start_date>
      <end_date type="date" description="Select the end date of the simulation">30/06/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">14-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">15-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">168</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Cox_12 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_12">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.601418711619</Latitude>
        <Longitude>147.068388743674</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.24</bd>
            <ll15>0.17</ll15>
            <airdry>0.08</airdry>
            <dul>0.49</dul>
            <sat>0.532</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.17</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.17</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.17</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.17</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.17</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.17</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.17</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>130</thickness>
            <bd>1.47</bd>
            <ll15>0.11</ll15>
            <airdry>0.07</airdry>
            <dul>0.39</dul>
            <sat>0.445</sat>
            <swcon>0.6</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>340</thickness>
            <bd>1.34</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.49</dul>
            <sat>0.494</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>590</thickness>
            <bd>1.34</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.48</dul>
            <sat>0.49</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>130</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>340</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>590</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="10-S_Creek_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\wynyard.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">30/06/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">4-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">5-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">20</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">320</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.4
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">216</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">25-nov</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">110</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Tulich_3 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0! 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Tulich_3">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Anderson Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6445147965282</Latitude>
        <Longitude>147.058707715269</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>230</thickness>
            <bd>1.05</bd>
            <ll15>0.19</ll15>
            <airdry>0.09</airdry>
            <dul>0.44</dul>
            <sat>0.59</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.19</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.19</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.19</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.19</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.19</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.19</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.19</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.07</bd>
            <ll15>0.37</ll15>
            <airdry>0.33</airdry>
            <dul>0.55</dul>
            <sat>0.59</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>370</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>400</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="12-Thrilstane_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\latrobe.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">31/07/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">18-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">19-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.7
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">210</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">99</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Chilvers_10 water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="14-Deloraine1_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\deloraine.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2005</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">30/07/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">7-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">8-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 4.5
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">144</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">21-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">115</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Tulich_3 water' set dlt_sw_dep = 28.0 0.0 0.0 0.0! 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 28
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Tulich_3">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Anderson Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6445147965282</Latitude>
        <Longitude>147.058707715269</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>230</thickness>
            <bd>1.05</bd>
            <ll15>0.19</ll15>
            <airdry>0.09</airdry>
            <dul>0.44</dul>
            <sat>0.59</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.19</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.19</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.19</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.19</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.19</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.19</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.19</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.07</bd>
            <ll15>0.37</ll15>
            <airdry>0.33</airdry>
            <dul>0.55</dul>
            <sat>0.59</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>370</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>400</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="15-S_Creek1_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\wynyard.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2005</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">30/07/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">6-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">7-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.4
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">220</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">21-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">406</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Tulich_3 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Tulich_3">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Anderson Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6445147965282</Latitude>
        <Longitude>147.058707715269</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>230</thickness>
            <bd>1.05</bd>
            <ll15>0.19</ll15>
            <airdry>0.09</airdry>
            <dul>0.44</dul>
            <sat>0.59</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.19</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.19</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.19</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.19</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.19</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.19</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.19</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.07</bd>
            <ll15>0.37</ll15>
            <airdry>0.33</airdry>
            <dul>0.55</dul>
            <sat>0.59</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>370</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>400</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="16-S_Creek2_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\wynyard.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2005</start_date>
      <end_date type="date" description="Select the end date of the simulation">30/07/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">16-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">17-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.5
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">220</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">5-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">449</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Tulich_3 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Tulich_3">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Anderson Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6445147965282</Latitude>
        <Longitude>147.058707715269</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>230</thickness>
            <bd>1.05</bd>
            <ll15>0.19</ll15>
            <airdry>0.09</airdry>
            <dul>0.44</dul>
            <sat>0.59</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.19</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.19</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.19</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.19</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.19</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.19</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.19</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.07</bd>
            <ll15>0.37</ll15>
            <airdry>0.33</airdry>
            <dul>0.55</dul>
            <sat>0.59</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>370</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>400</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="17-Deloraine2_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\deloraine.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2005</start_date>
      <end_date type="date" description="Select the end date of the simulation">31/08/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">24-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">25-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 4.2
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
          <script name="end_of_day">
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">10-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">160</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Cox_6 water' set dlt_sw_dep = 22.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 22
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_6">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.5942236544308</Latitude>
        <Longitude>147.079624021138</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>220</thickness>
            <bd>1.27</bd>
            <ll15>0.22</ll15>
            <airdry>0.11</airdry>
            <dul>0.44</dul>
            <sat>0.52</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.22</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.22</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.22</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.22</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.22</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.22</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.22</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>290</thickness>
            <bd>1.19</bd>
            <ll15>0.38</ll15>
            <airdry>0.35</airdry>
            <dul>0.55</dul>
            <sat>0.55</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.38</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.38</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.38</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.38</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.38</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.38</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.38</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>260</thickness>
            <bd>1.15</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.55</dul>
            <sat>0.566</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.36</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.36</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.36</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.36</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.36</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.36</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.36</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>210</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>620</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>220</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>290</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>260</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>210</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>620</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="18-Barrington_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\Sheffield.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2005</start_date>
      <end_date type="date" description="Select the end date of the simulation">31/08/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">21-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">22-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 4.1
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">152</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">5-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">200</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Cox_6 water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_6">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.5942236544308</Latitude>
        <Longitude>147.079624021138</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>220</thickness>
            <bd>1.27</bd>
            <ll15>0.22</ll15>
            <airdry>0.11</airdry>
            <dul>0.44</dul>
            <sat>0.52</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.22</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.22</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.22</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.22</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.22</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.22</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.22</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>290</thickness>
            <bd>1.19</bd>
            <ll15>0.38</ll15>
            <airdry>0.35</airdry>
            <dul>0.55</dul>
            <sat>0.55</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.38</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.38</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.38</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.38</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.38</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.38</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.38</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>260</thickness>
            <bd>1.15</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.55</dul>
            <sat>0.566</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.36</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.36</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.36</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.36</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.36</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.36</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.36</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>210</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>620</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>220</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>290</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>260</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>210</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>620</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="19-Branxholm_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\Branxholm.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2005</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">30/07/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">1-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">2-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6.5</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.9
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">115</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">128</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Chilvers_10 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="13-Melrose_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\forthside.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/09/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">30/06/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">20-Nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">25-Nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">403</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">259</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 8) then  
            'Chilvers_10 water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="2-Wynyard_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\wynyard.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2003</start_date>
      <end_date type="date" description="Select the end date of the simulation">30/06/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">18-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">19-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
          <script name="end_of_day">
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">198</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">81</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Tulich_3 water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Tulich_3">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Anderson Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6445147965282</Latitude>
        <Longitude>147.058707715269</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>230</thickness>
            <bd>1.05</bd>
            <ll15>0.19</ll15>
            <airdry>0.09</airdry>
            <dul>0.44</dul>
            <sat>0.59</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.19</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.19</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.19</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.19</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.19</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.19</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.19</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.07</bd>
            <ll15>0.37</ll15>
            <airdry>0.33</airdry>
            <dul>0.55</dul>
            <sat>0.59</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>370</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>400</thickness>
            <bd>1.13</bd>
            <ll15>0.34</ll15>
            <airdry>0.34</airdry>
            <dul>0.54</dul>
            <sat>0.56</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.34</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>230</thickness>
              <no3>1.88593844296922</no3>
              <nh4>0.100030175015088</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.88593844296922</no3>
              <nh4>0.100030175015088</nh4>
            </layer>
            <layer>
              <thickness>370</thickness>
              <no3>1.88593844296922</no3>
              <nh4>0.100030175015088</nh4>
            </layer>
            <layer>
              <thickness>400</thickness>
              <no3>1.88593844296922</no3>
              <nh4>0.100030175015088</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="7-Latrobe_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\latrobe.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">30/06/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">8-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">9-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.2
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
          <script name="end_of_day">
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">197</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">21-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">29</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 9) then  
            'Cox_12 water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_12">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.601418711619</Latitude>
        <Longitude>147.068388743674</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.24</bd>
            <ll15>0.17</ll15>
            <airdry>0.08</airdry>
            <dul>0.49</dul>
            <sat>0.532</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.17</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.17</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.17</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.17</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.17</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.17</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.17</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>130</thickness>
            <bd>1.47</bd>
            <ll15>0.11</ll15>
            <airdry>0.07</airdry>
            <dul>0.39</dul>
            <sat>0.445</sat>
            <swcon>0.6</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>340</thickness>
            <bd>1.34</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.49</dul>
            <sat>0.494</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>590</thickness>
            <bd>1.34</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.48</dul>
            <sat>0.49</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>130</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>340</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>590</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="20-Stowport_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\gunnsplains.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="22/08/2007">1/08/2005</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="22/08/2007">31/10/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">22-Nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">23-Nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 4.1
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">180</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">10-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">83</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Chilvers_10 water' set dlt_sw_dep = 28.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 28
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="4-Bishopbourne_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\cressy.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">31/07/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">5-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">6-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.5
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
          <script name="end_of_day">
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">120</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">19-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">161</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 7) then  
            'Cox_12 water' set dlt_sw_dep = 20.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 20
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_12">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.601418711619</Latitude>
        <Longitude>147.068388743674</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.24</bd>
            <ll15>0.17</ll15>
            <airdry>0.08</airdry>
            <dul>0.49</dul>
            <sat>0.532</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.17</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.17</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.17</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.17</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.17</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.17</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.17</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">0.8</xf>
          </layer>
          <layer>
            <thickness>130</thickness>
            <bd>1.47</bd>
            <ll15>0.11</ll15>
            <airdry>0.07</airdry>
            <dul>0.39</dul>
            <sat>0.445</sat>
            <swcon>0.6</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">0.9</xf>
          </layer>
          <layer>
            <thickness>340</thickness>
            <bd>1.34</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.49</dul>
            <sat>0.494</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>590</thickness>
            <bd>1.34</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.48</dul>
            <sat>0.49</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">0.2</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>130</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>340</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>590</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="32-Penguin_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\ulverstone.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">31/08/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">15-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">16-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 5.4
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">234</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">115</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 4) then  
            'Radford water' set dlt_sw_dep = 12.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 12
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Radford">
        <state>Tasmania</state>
        <region>Panatana</region>
        <nearesttown>Sassafras</nearesttown>
        <site>Shane Radford</site>
        <DataSource>Bill Cotching</DataSource>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2.5</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>4</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-apr</WinterDate>
        <Salb>0.12</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>40</RootCN>
        <RootWT>1000</RootWT>
        <SoilCN>12</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.3</swcon>
            <fbiom>0.04</fbiom>
            <finert>1</finert>
            <oc>2.7</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>150</thickness>
            <bd>1.48</bd>
            <ll15>0.12</ll15>
            <airdry>0.06</airdry>
            <dul>0.22</dul>
            <sat>0.24</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>2.72</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.12</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.12</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.12</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.12</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.12</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.12</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.12</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.69</bd>
            <ll15>0.07</ll15>
            <airdry>0.01</airdry>
            <dul>0.11</dul>
            <sat>0.15</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.02</oc>
            <ph>6.4</ph>
            <ll name="sorghum">0.07</ll>
            <kl name="sorghum">0.1</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.07</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.07</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.07</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.07</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.07</ll>
            <kl name="navybean">0.1</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.07</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.58</bd>
            <ll15>0.06</ll15>
            <airdry>0.01</airdry>
            <dul>0.1</dul>
            <sat>0.16</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.98</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.06</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.06</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.06</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.06</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.06</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.06</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.06</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.28</sat>
            <swcon>0.3</swcon>
            <fbiom>0.01</fbiom>
            <finert>1</finert>
            <oc>0.66</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
        </profile>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="30-Deloraine_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\deloraine.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">17-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">18-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">120</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">250</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Radford water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Radford">
        <state>Tasmania</state>
        <region>Panatana</region>
        <nearesttown>Sassafras</nearesttown>
        <site>Shane Radford</site>
        <DataSource>Bill Cotching</DataSource>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2.5</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>4</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-apr</WinterDate>
        <Salb>0.12</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>40</RootCN>
        <RootWT>1000</RootWT>
        <SoilCN>12</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.3</swcon>
            <fbiom>0.04</fbiom>
            <finert>1</finert>
            <oc>2.7</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>150</thickness>
            <bd>1.48</bd>
            <ll15>0.12</ll15>
            <airdry>0.06</airdry>
            <dul>0.22</dul>
            <sat>0.24</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>2.72</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.12</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.12</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.12</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.12</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.12</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.12</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.12</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.69</bd>
            <ll15>0.07</ll15>
            <airdry>0.01</airdry>
            <dul>0.11</dul>
            <sat>0.15</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.02</oc>
            <ph>6.4</ph>
            <ll name="sorghum">0.07</ll>
            <kl name="sorghum">0.1</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.07</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.07</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.07</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.07</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.07</ll>
            <kl name="navybean">0.1</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.07</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.58</bd>
            <ll15>0.06</ll15>
            <airdry>0.01</airdry>
            <dul>0.1</dul>
            <sat>0.16</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.98</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.06</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.06</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.06</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.06</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.06</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.06</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.06</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.28</sat>
            <swcon>0.3</swcon>
            <fbiom>0.01</fbiom>
            <finert>1</finert>
            <oc>0.66</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
        </profile>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="21-EastDevo_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\devonport.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">30/06/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">30-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">31-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.75
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">140</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">82</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 11) then  
            'Cox_6 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_6">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.5942236544308</Latitude>
        <Longitude>147.079624021138</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>220</thickness>
            <bd>1.27</bd>
            <ll15>0.22</ll15>
            <airdry>0.11</airdry>
            <dul>0.44</dul>
            <sat>0.52</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.22</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.22</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.22</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.22</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.22</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.22</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.22</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>290</thickness>
            <bd>1.19</bd>
            <ll15>0.38</ll15>
            <airdry>0.35</airdry>
            <dul>0.55</dul>
            <sat>0.55</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.38</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.38</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.38</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.38</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.38</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.38</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.38</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.3</xf>
          </layer>
          <layer>
            <thickness>260</thickness>
            <bd>1.15</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.55</dul>
            <sat>0.566</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.36</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.36</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.36</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.36</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.36</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.36</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.36</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.2</xf>
          </layer>
          <layer>
            <thickness>210</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">0.1</xf>
          </layer>
          <layer>
            <thickness>620</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="24-Abbotsham_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\ulverstone.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">31/08/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">5-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">6-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.46
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">140</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">19-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">230</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Cox_6 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_6">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.5942236544308</Latitude>
        <Longitude>147.079624021138</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>220</thickness>
            <bd>1.27</bd>
            <ll15>0.22</ll15>
            <airdry>0.11</airdry>
            <dul>0.44</dul>
            <sat>0.52</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.22</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.22</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.22</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.22</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.22</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.22</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.22</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>290</thickness>
            <bd>1.19</bd>
            <ll15>0.38</ll15>
            <airdry>0.35</airdry>
            <dul>0.55</dul>
            <sat>0.55</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.38</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.38</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.38</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.38</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.38</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.38</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.38</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>260</thickness>
            <bd>1.15</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.55</dul>
            <sat>0.566</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.36</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.36</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.36</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.36</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.36</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.36</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.36</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>210</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>620</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="25-Sheffield_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\Sheffield.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">31/08/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">14-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">15-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.7
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">144</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">01-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">112</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Radford water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Radford">
        <state>Tasmania</state>
        <region>Panatana</region>
        <nearesttown>Sassafras</nearesttown>
        <site>Shane Radford</site>
        <DataSource>Bill Cotching</DataSource>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2.5</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>4</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-apr</WinterDate>
        <Salb>0.12</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>40</RootCN>
        <RootWT>1000</RootWT>
        <SoilCN>12</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.3</swcon>
            <fbiom>0.04</fbiom>
            <finert>1</finert>
            <oc>2.7</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>150</thickness>
            <bd>1.48</bd>
            <ll15>0.12</ll15>
            <airdry>0.06</airdry>
            <dul>0.22</dul>
            <sat>0.24</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>2.72</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.12</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.12</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.12</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.12</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.12</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.12</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.12</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.69</bd>
            <ll15>0.07</ll15>
            <airdry>0.01</airdry>
            <dul>0.11</dul>
            <sat>0.15</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.02</oc>
            <ph>6.4</ph>
            <ll name="sorghum">0.07</ll>
            <kl name="sorghum">0.1</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.07</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.07</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.07</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.07</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.07</ll>
            <kl name="navybean">0.1</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.07</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.58</bd>
            <ll15>0.06</ll15>
            <airdry>0.01</airdry>
            <dul>0.1</dul>
            <sat>0.16</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.98</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.06</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.06</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.06</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.06</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.06</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.06</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.06</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.28</sat>
            <swcon>0.3</swcon>
            <fbiom>0.01</fbiom>
            <finert>1</finert>
            <oc>0.66</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
        </profile>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="26-Forthside_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\forthside.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">31/08/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">1-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">2-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.97
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">160</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">125</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Chilvers_10 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.9</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">0.5</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.2</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="27-EastDevo_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\devonport.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">31/08/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">30-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">31-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.0
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
          <script name="end_of_day">
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">158</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">75</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 8) then  
            'Cox_6 water' set dlt_sw_dep = 20.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 20
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_6">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.5942236544308</Latitude>
        <Longitude>147.079624021138</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>220</thickness>
            <bd>1.27</bd>
            <ll15>0.22</ll15>
            <airdry>0.11</airdry>
            <dul>0.44</dul>
            <sat>0.52</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.22</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.22</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.22</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.22</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.22</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.22</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.22</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>290</thickness>
            <bd>1.19</bd>
            <ll15>0.38</ll15>
            <airdry>0.35</airdry>
            <dul>0.55</dul>
            <sat>0.55</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.38</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.38</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.38</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.38</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.38</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.38</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.38</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.3</xf>
          </layer>
          <layer>
            <thickness>260</thickness>
            <bd>1.15</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.55</dul>
            <sat>0.566</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.36</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.36</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.36</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.36</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.36</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.36</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.36</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.2</xf>
          </layer>
          <layer>
            <thickness>210</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">0.1</xf>
          </layer>
          <layer>
            <thickness>620</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>220</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>290</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>260</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>210</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
            <layer>
              <thickness>620</thickness>
              <no3>1.24843945068664</no3>
              <nh4>0.100024968789014</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="29-Gawler_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\ulverstone.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">25-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">26-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">20</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">320</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.2
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">198</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">8-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">196</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Rockcliff water' set dlt_sw_dep = 25.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 25
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Rockcliff">
        <state>Tasmania</state>
        <region>Panatana</region>
        <nearesttown>Sassafras</nearesttown>
        <site>Rick Rockcliff</site>
        <DataSource>Bill Cotching</DataSource>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2.5</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>4</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-apr</WinterDate>
        <Salb>0.12</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>40</RootCN>
        <RootWT>1000</RootWT>
        <SoilCN>12</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>0.9</bd>
            <ll15>0.21</ll15>
            <airdry>0.15</airdry>
            <dul>0.37</dul>
            <sat>0.45</sat>
            <swcon>0.3</swcon>
            <fbiom>0.04</fbiom>
            <finert>1</finert>
            <oc>4.95</oc>
            <ph>6.6</ph>
            <ll name="sorghum">0.21</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.21</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.21</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.21</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.21</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.21</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.21</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.21</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>150</thickness>
            <bd>1.11</bd>
            <ll15>0.21</ll15>
            <airdry>0.16</airdry>
            <dul>0.44</dul>
            <sat>0.48</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>4.76</oc>
            <ph>6.6</ph>
            <ll name="sorghum">0.21</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.21</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.21</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.21</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.21</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.21</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.21</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.21</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.08</bd>
            <ll15>0.3</ll15>
            <airdry>0.12</airdry>
            <dul>0.41</dul>
            <sat>0.56</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>2.07</oc>
            <ph>5.8</ph>
            <ll name="sorghum">0.3</ll>
            <kl name="sorghum">0.1</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.3</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.3</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.3</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.3</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.3</ll>
            <kl name="navybean">0.1</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.3</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.3</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.18</bd>
            <ll15>0.34</ll15>
            <airdry>0.12</airdry>
            <dul>0.45</dul>
            <sat>0.53</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>1.12</oc>
            <ph>5.6</ph>
            <ll name="sorghum">0.34</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.34</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.26</bd>
            <ll15>0.37</ll15>
            <airdry>0.15</airdry>
            <dul>0.51</dul>
            <sat>0.52</sat>
            <swcon>0.3</swcon>
            <fbiom>0.01</fbiom>
            <finert>1</finert>
            <oc>0.47</oc>
            <ph>5.6</ph>
            <ll name="sorghum">0.37</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.37</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">1</xf>
          </layer>
        </profile>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>150</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="31-Campbelltown_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\epping.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">19-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">20-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.4
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">100</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">5-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">138</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 4) then  
            'Radford water' set dlt_sw_dep = 12.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 12
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Radford">
        <state>Tasmania</state>
        <region>Panatana</region>
        <nearesttown>Sassafras</nearesttown>
        <site>Shane Radford</site>
        <DataSource>Bill Cotching</DataSource>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2.5</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>4</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-apr</WinterDate>
        <Salb>0.12</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>40</RootCN>
        <RootWT>1000</RootWT>
        <SoilCN>12</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.3</swcon>
            <fbiom>0.04</fbiom>
            <finert>1</finert>
            <oc>2.7</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>150</thickness>
            <bd>1.48</bd>
            <ll15>0.12</ll15>
            <airdry>0.06</airdry>
            <dul>0.22</dul>
            <sat>0.24</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>2.72</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.12</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.12</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.12</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.12</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.12</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.12</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.12</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.69</bd>
            <ll15>0.07</ll15>
            <airdry>0.01</airdry>
            <dul>0.11</dul>
            <sat>0.15</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.02</oc>
            <ph>6.4</ph>
            <ll name="sorghum">0.07</ll>
            <kl name="sorghum">0.1</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.07</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.07</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.07</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.07</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.07</ll>
            <kl name="navybean">0.1</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.07</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.58</bd>
            <ll15>0.06</ll15>
            <airdry>0.01</airdry>
            <dul>0.1</dul>
            <sat>0.16</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.98</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.06</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.06</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.06</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.06</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.06</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.06</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.06</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.28</sat>
            <swcon>0.3</swcon>
            <fbiom>0.01</fbiom>
            <finert>1</finert>
            <oc>0.66</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
        </profile>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="33-E_Devonport_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\devonport.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2003</start_date>
      <end_date type="date" description="Select the end date of the simulation">31/08/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">10-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">11-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">9</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.9
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">408</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">30-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">0</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" array="No" description="End of day" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Tul_2 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Tul_2">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Tulich farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.6393441353025</Latitude>
        <Longitude>147.059699616852</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>200</thickness>
            <bd>1.32</bd>
            <ll15>0.14</ll15>
            <airdry>0.07</airdry>
            <dul>0.4</dul>
            <sat>0.5</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.14</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.14</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.14</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.14</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.14</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.14</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.14</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>120</thickness>
            <bd>1.43</bd>
            <ll15>0.16</ll15>
            <airdry>0.12</airdry>
            <dul>0.42</dul>
            <sat>0.46</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.16</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.16</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.16</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.16</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.16</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.16</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.16</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>180</thickness>
            <bd>1.43</bd>
            <ll15>0.16</ll15>
            <airdry>0.16</airdry>
            <dul>0.42</dul>
            <sat>0.46</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.16</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.16</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.16</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.16</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.16</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.16</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.16</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.8</xf>
          </layer>
          <layer>
            <thickness>550</thickness>
            <bd>2.04</bd>
            <ll15>0.12</ll15>
            <airdry>0.12</airdry>
            <dul>0.22</dul>
            <sat>0.23</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.12</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.4</xf>
            <ll name="canola">0.12</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.4</xf>
            <ll name="fieldpea">0.12</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.4</xf>
            <ll name="lucerne">0.12</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.4</xf>
            <ll name="weed">0.12</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.4</xf>
            <ll name="broccoli">0.12</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.4</xf>
            <ll name="potato">0.12</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">0.4</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.93</bd>
            <ll15>0.21</ll15>
            <airdry>0.21</airdry>
            <dul>0.26</dul>
            <sat>0.27</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.21</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.21</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.21</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.21</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.21</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.21</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.21</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.3</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="34-Sheffield_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\Sheffield.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">31/08/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">17-Nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">18-Nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">320</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.3
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">131</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">1-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">58</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 6) then  
            'Cox_12 water' set dlt_sw_dep = 15.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 15
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_12">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.601418711619</Latitude>
        <Longitude>147.068388743674</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.24</bd>
            <ll15>0.17</ll15>
            <airdry>0.08</airdry>
            <dul>0.49</dul>
            <sat>0.532</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.17</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.17</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.17</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.17</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.17</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.17</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.17</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.8</xf>
          </layer>
          <layer>
            <thickness>130</thickness>
            <bd>1.47</bd>
            <ll15>0.11</ll15>
            <airdry>0.07</airdry>
            <dul>0.39</dul>
            <sat>0.445</sat>
            <swcon>0.6</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.9</xf>
          </layer>
          <layer>
            <thickness>340</thickness>
            <bd>1.34</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.49</dul>
            <sat>0.494</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>590</thickness>
            <bd>1.34</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.48</dul>
            <sat>0.49</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.2</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="35-Wynyard_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\wynyard.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2003</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">31/08/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">20-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">21-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">180</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">01-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">58</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" array="No" description="End of day" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Chilvers_10 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.9</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">0.5</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.2</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="36-Westbury_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\Westbury.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2003</start_date>
      <end_date type="date" description="Select the end date of the simulation">31/08/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">20-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">21-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.7
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">01-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">58</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Cox_12 water' set dlt_sw_dep = 28.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 28
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_12">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Sandy loam</SoilType>
        <Latitude>-41.601418711619</Latitude>
        <Longitude>147.068388743674</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>88</DiffusConst>
        <DiffusSlope>36</DiffusSlope>
        <CN2Bare>65</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.24</bd>
            <ll15>0.17</ll15>
            <airdry>0.08</airdry>
            <dul>0.49</dul>
            <sat>0.532</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.17</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.17</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.17</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.17</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.17</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.17</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.17</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.8</xf>
          </layer>
          <layer>
            <thickness>130</thickness>
            <bd>1.47</bd>
            <ll15>0.11</ll15>
            <airdry>0.07</airdry>
            <dul>0.39</dul>
            <sat>0.445</sat>
            <swcon>0.6</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.9</xf>
          </layer>
          <layer>
            <thickness>340</thickness>
            <bd>1.34</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.49</dul>
            <sat>0.494</sat>
            <swcon>0.7</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>590</thickness>
            <bd>1.34</bd>
            <ll15>0.35</ll15>
            <airdry>0.35</airdry>
            <dul>0.48</dul>
            <sat>0.49</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.35</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.35</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.35</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.35</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.35</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.35</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.35</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.2</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>130</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>340</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
            <layer>
              <thickness>590</thickness>
              <no3>1.54007269143104</no3>
              <nh4>0.0999815191277028</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="40-Ulverstone_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\ulverstone.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">11-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">12-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">193</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">01-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">75</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Chilvers_10 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Chilvers_10">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Chilvers Farm</site>
        <SoilType>Medium clay</SoilType>
        <Latitude>-41.6269524099763</Latitude>
        <Longitude>147.071548989177</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>250</thickness>
            <bd>1.15</bd>
            <ll15>0.26</ll15>
            <airdry>0.13</airdry>
            <dul>0.5</dul>
            <sat>0.56</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.26</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.9</xf>
            <ll name="canola">0.26</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.9</xf>
            <ll name="fieldpea">0.26</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.9</xf>
            <ll name="lucerne">0.26</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.9</xf>
            <ll name="weed">0.26</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.9</xf>
            <ll name="broccoli">0.26</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.9</xf>
            <ll name="potato">0.26</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">0.9</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.35</bd>
            <ll15>0.24</ll15>
            <airdry>0.22</airdry>
            <dul>0.47</dul>
            <sat>0.49</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>350</thickness>
            <bd>1.71</bd>
            <ll15>0.11</ll15>
            <airdry>0.11</airdry>
            <dul>0.31</dul>
            <sat>0.35</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.11</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.5</xf>
            <ll name="canola">0.11</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.5</xf>
            <ll name="fieldpea">0.11</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.5</xf>
            <ll name="lucerne">0.11</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.5</xf>
            <ll name="weed">0.11</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.5</xf>
            <ll name="broccoli">0.11</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.5</xf>
            <ll name="potato">0.11</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">0.5</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.97</bd>
            <ll15>0.15</ll15>
            <airdry>0.15</airdry>
            <dul>0.25</dul>
            <sat>0.257</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.01</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.15</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.15</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.15</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.15</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.15</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.15</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.15</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">0.2</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>250</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>350</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.43102461362335</no3>
              <nh4>0.1</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="41-Westbury_05">
    <metfile name="met">
      <filename name="filename">c:\work\potato\Westbury.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="4/03/2008">1/08/2004</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="4/03/2008">1/08/2005</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">5-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">6-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">20</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">320</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 3.5
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">248</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">15-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">0</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 8) then  
            'Rockcliff water' set dlt_sw_dep = 20.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 20
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Rockcliff">
        <state>Tasmania</state>
        <region>Panatana</region>
        <nearesttown>Sassafras</nearesttown>
        <site>Rick Rockcliff</site>
        <DataSource>Bill Cotching</DataSource>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2.5</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>4</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-apr</WinterDate>
        <Salb>0.12</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>40</RootCN>
        <RootWT>1000</RootWT>
        <SoilCN>12</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>0.9</bd>
            <ll15>0.21</ll15>
            <airdry>0.15</airdry>
            <dul>0.37</dul>
            <sat>0.45</sat>
            <swcon>0.3</swcon>
            <fbiom>0.04</fbiom>
            <finert>1</finert>
            <oc>4.95</oc>
            <ph>6.6</ph>
            <ll name="sorghum">0.21</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.21</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.21</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.21</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.21</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.21</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.21</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.21</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>150</thickness>
            <bd>1.11</bd>
            <ll15>0.21</ll15>
            <airdry>0.16</airdry>
            <dul>0.44</dul>
            <sat>0.48</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>4.76</oc>
            <ph>6.6</ph>
            <ll name="sorghum">0.21</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.21</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.21</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.21</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.21</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.21</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.21</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.21</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.08</bd>
            <ll15>0.3</ll15>
            <airdry>0.12</airdry>
            <dul>0.41</dul>
            <sat>0.56</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>2.07</oc>
            <ph>5.8</ph>
            <ll name="sorghum">0.3</ll>
            <kl name="sorghum">0.1</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.3</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.3</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.3</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.3</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.3</ll>
            <kl name="navybean">0.1</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.3</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.3</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.18</bd>
            <ll15>0.34</ll15>
            <airdry>0.12</airdry>
            <dul>0.45</dul>
            <sat>0.53</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>1.12</oc>
            <ph>5.6</ph>
            <ll name="sorghum">0.34</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.34</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.34</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.34</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.34</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.34</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.34</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.34</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.26</bd>
            <ll15>0.37</ll15>
            <airdry>0.15</airdry>
            <dul>0.51</dul>
            <sat>0.52</sat>
            <swcon>0.3</swcon>
            <fbiom>0.01</fbiom>
            <finert>1</finert>
            <oc>0.47</oc>
            <ph>5.6</ph>
            <ll name="sorghum">0.37</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.37</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">1</xf>
          </layer>
        </profile>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>150</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>2.80112044817927</no3>
              <nh4>0.100040016006403</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="44-Cressy_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\cressy.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2005</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">27-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">28-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 5.4
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">150</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">5-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">58</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 11) then  
            'Radford water' set dlt_sw_dep = 20.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 20
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Radford">
        <state>Tasmania</state>
        <region>Panatana</region>
        <nearesttown>Sassafras</nearesttown>
        <site>Shane Radford</site>
        <DataSource>Bill Cotching</DataSource>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2.5</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>4</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-apr</WinterDate>
        <Salb>0.12</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>73</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>40</RootCN>
        <RootWT>1000</RootWT>
        <SoilCN>12</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>150</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.3</sat>
            <swcon>0.3</swcon>
            <fbiom>0.04</fbiom>
            <finert>1</finert>
            <oc>2.7</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>150</thickness>
            <bd>1.48</bd>
            <ll15>0.12</ll15>
            <airdry>0.06</airdry>
            <dul>0.22</dul>
            <sat>0.24</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>2.72</oc>
            <ph>5.9</ph>
            <ll name="sorghum">0.12</ll>
            <kl name="sorghum">0.16</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.12</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.12</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.12</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.12</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.12</ll>
            <kl name="navybean">0.16</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.12</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>200</thickness>
            <bd>1.69</bd>
            <ll15>0.07</ll15>
            <airdry>0.01</airdry>
            <dul>0.11</dul>
            <sat>0.15</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.02</oc>
            <ph>6.4</ph>
            <ll name="sorghum">0.07</ll>
            <kl name="sorghum">0.1</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.07</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.07</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.07</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.07</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.07</ll>
            <kl name="navybean">0.1</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.07</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.58</bd>
            <ll15>0.06</ll15>
            <airdry>0.01</airdry>
            <dul>0.1</dul>
            <sat>0.16</sat>
            <swcon>0.3</swcon>
            <fbiom>0.02</fbiom>
            <finert>1</finert>
            <oc>0.98</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.06</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.06</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.06</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.06</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.06</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.06</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.06</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.45</bd>
            <ll15>0.05</ll15>
            <airdry>0.03</airdry>
            <dul>0.25</dul>
            <sat>0.28</sat>
            <swcon>0.3</swcon>
            <fbiom>0.01</fbiom>
            <finert>1</finert>
            <oc>0.66</oc>
            <ph>6.5</ph>
            <ll name="sorghum">0.05</ll>
            <kl name="sorghum">0.05</kl>
            <xf name="sorghum">1</xf>
            <ll name="potato">0.05</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
            <ll name="wheat">0.05</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">1</xf>
            <ll name="broccoli">0.05</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">1</xf>
            <ll name="lucerne">0.05</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">1</xf>
            <ll name="navybean">0.05</ll>
            <kl name="navybean">0.05</kl>
            <xf name="navybean">1</xf>
            <ll name="canola">0.05</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">1</xf>
          </layer>
        </profile>
        <InitWater>
          <percentmethod>
            <percent>1</percent>
            <distributed>filled from top</distributed>
          </percentmethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>150</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>200</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>0.10002964719834</no3>
              <nh4>0.10002964719834</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="47-Forthside_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\forthside.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2005</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="14/06/2007">1/08/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">22-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">23-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 4.8
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">57</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">05-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">35</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 10) then  
            'Cox_6 water' set dlt_sw_dep = 28.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 28
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Cox_6">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Cox Farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.5942236544308</Latitude>
        <Longitude>147.079624021138</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>220</thickness>
            <bd>1.27</bd>
            <ll15>0.22</ll15>
            <airdry>0.11</airdry>
            <dul>0.44</dul>
            <sat>0.52</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.22</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.22</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.22</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.22</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.22</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.22</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.22</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>290</thickness>
            <bd>1.19</bd>
            <ll15>0.38</ll15>
            <airdry>0.35</airdry>
            <dul>0.55</dul>
            <sat>0.55</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.38</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.38</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.38</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.38</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.38</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.38</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.38</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>260</thickness>
            <bd>1.15</bd>
            <ll15>0.36</ll15>
            <airdry>0.36</airdry>
            <dul>0.55</dul>
            <sat>0.566</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.36</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.2</xf>
            <ll name="canola">0.36</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.2</xf>
            <ll name="fieldpea">0.36</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.2</xf>
            <ll name="lucerne">0.36</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.2</xf>
            <ll name="weed">0.36</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.2</xf>
            <ll name="broccoli">0.36</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.2</xf>
            <ll name="potato">0.36</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>210</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>620</thickness>
            <bd>1.3</bd>
            <ll15>0.37</ll15>
            <airdry>0.37</airdry>
            <dul>0.5</dul>
            <sat>0.509</sat>
            <swcon>0.1</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.37</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.37</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.37</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.37</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.37</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.37</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.37</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater />
        <InitNitrogen />
      </soil>
    </area>
  </simulation>
  <simulation name="1-Latrobe_04">
    <metfile name="met">
      <filename name="filename">c:\work\potato\latrobe.met</filename>
    </metfile>
    <clock>
      <start_date type="date" description="Select the start date of the simulation">1/08/2003</start_date>
      <end_date type="date" description="Select the end date of the simulation">30/05/2004</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">23-oct</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">24-oct</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">320</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.9
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <ui>
            <category description="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
          <script name="end_of_day">
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">147</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">10-dec</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">179</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName description="Organic Matter pool name">wheat</PoolName>
        <type type="list" description="Organic Matter type" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat">wheat</type>
        <mass description="Initial surface residue (kg/ha)">1000.</mass>
        <cnr description="C:N ratio of initial residue">80.0</cnr>
        <standing_fraction description="Fraction of residue standing">0.0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0
raintot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 12) then  
            'Reader_11 water' set dlt_sw_dep = 30.0 0.0 0.0 0.0 0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 30
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Reader_11">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Reader Farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.6154884803406</Latitude>
        <Longitude>147.021088811245</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>200</thickness>
            <bd>1.37</bd>
            <ll15>0.25</ll15>
            <airdry>0.12</airdry>
            <dul>0.45</dul>
            <sat>0.48</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.25</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.25</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.25</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.25</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.25</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.25</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.25</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>160</thickness>
            <bd>1.28</bd>
            <ll15>0.3</ll15>
            <airdry>0.25</airdry>
            <dul>0.41</dul>
            <sat>0.517</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.3</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.3</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.3</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.3</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.3</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.3</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.3</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>120</thickness>
            <bd>1.23</bd>
            <ll15>0.4</ll15>
            <airdry>0.4</airdry>
            <dul>0.48</dul>
            <sat>0.536</sat>
            <swcon>0.4</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.4</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">0.8</xf>
            <ll name="canola">0.4</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">0.8</xf>
            <ll name="fieldpea">0.4</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">0.8</xf>
            <ll name="lucerne">0.4</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">0.8</xf>
            <ll name="weed">0.4</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">0.8</xf>
            <ll name="broccoli">0.4</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">0.8</xf>
            <ll name="potato">0.4</ll>
            <kl name="potato">0.16</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>320</thickness>
            <bd>1.24</bd>
            <ll15>0.43</ll15>
            <airdry>0.43</airdry>
            <dul>0.52</dul>
            <sat>0.53</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.3</oc>
            <ph>5</ph>
            <ll name="wheat">0.43</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.3</xf>
            <ll name="canola">0.43</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.3</xf>
            <ll name="fieldpea">0.43</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.3</xf>
            <ll name="lucerne">0.43</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.3</xf>
            <ll name="weed">0.43</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.3</xf>
            <ll name="broccoli">0.43</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.3</xf>
            <ll name="potato">0.43</ll>
            <kl name="potato">0.1</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>300</thickness>
            <bd>1.24</bd>
            <ll15>0.43</ll15>
            <airdry>0.43</airdry>
            <dul>0.52</dul>
            <sat>0.53</sat>
            <swcon>0.2</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.2</fbiom>
            <finert>0.1</finert>
            <oc>0.2</oc>
            <ph>5</ph>
            <ll name="wheat">0.43</ll>
            <kl name="wheat">0.05</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.43</ll>
            <kl name="canola">0.05</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.43</ll>
            <kl name="fieldpea">0.05</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.43</ll>
            <kl name="lucerne">0.05</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.43</ll>
            <kl name="weed">0.05</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.43</ll>
            <kl name="broccoli">0.05</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.43</ll>
            <kl name="potato">0.05</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>200</thickness>
              <no3>1.79185779816514</no3>
              <nh4>0.0999856651376147</nh4>
            </layer>
            <layer>
              <thickness>160</thickness>
              <no3>1.79185779816514</no3>
              <nh4>0.0999856651376147</nh4>
            </layer>
            <layer>
              <thickness>120</thickness>
              <no3>1.79185779816514</no3>
              <nh4>0.0999856651376147</nh4>
            </layer>
            <layer>
              <thickness>320</thickness>
              <no3>1.79185779816514</no3>
              <nh4>0.0999856651376147</nh4>
            </layer>
            <layer>
              <thickness>300</thickness>
              <no3>1.79185779816514</no3>
              <nh4>0.0999856651376147</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <simulation name="11-Barrington_06">
    <metfile name="met">
      <filename name="filename">c:\work\potato\Sheffield.met</filename>
    </metfile>
    <clock>
      <start_date name="start_date" description="Select the start date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">1/08/2005</start_date>
      <end_date name="end_date" description="Select the end date of the simulation" type="date" lbound="1/01/1889" ubound="21/08/2007">31/08/2006</end_date>
    </clock>
    <summaryfile>
      <filename name="filename">EppingForest_07.sum</filename>
    </summaryfile>
    <area name="paddock">
      <registrations name="global" />
      <folder name="Manager folder">
        <manager name="Sowing rule">
          <ui>
            <category description="Sowing criteria" />
            <date1 type="ddmmmdate" description="Enter sowing window START date (dd-mmm) : ">18-nov</date1>
            <date2 type="ddmmmdate" description="Enter sowing window END date (dd-mmm) : ">19-nov</date2>
            <must_sow type="yesno" description="Must sow? : ">yes</must_sow>
            <raincrit type="text" description="Amount of rainfall : ">0</raincrit>
            <rainnumdays type="text" description="Number of days of rainfall : ">7</rainnumdays>
            <esw_amount type="text" description="Enter minimum allowable available soil water (mm) : ">0</esw_amount>
            <category description="Sowing parameters" />
            <crop type="crop" description="Enter name of crop to sow : ">potato</crop>
            <seeds type="text" description="Enter sowing density  (seeds/m2) : ">6</seeds>
            <depth type="text" description="Enter sowing depth  (mm) : ">20</depth>
            <cultivar type="cultivars" description="Enter cultivar : ">russet</cultivar>
            <class type="classes" description="Enter crop growth class : ">plant</class>
            <age type="text" description="Enter physiological age (deg days): ">150</age>
            <row_spacing type="text" description="Enter row spacing (mm) : ">815</row_spacing>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
      if (paddock_is_fallow() = 1 and FallowIn <> 'yes' and (NextCrop = 0 or NextCrop = '[crop]')) then
         if (date_within('[date1], [date2]') = 1) then
            if (rain[[rainnumdays]] >= [raincrit] AND esw >= [esw_amount]) OR
                ('[must_sow]' = 'yes' AND today = date('[date2]'))) THEN
               ChooseNextCrop = 'yes'   ! for rotations
               
!Set relationship between potential stem number per seed and seed age

              stem_per_seed = -100+(0.3*[age])                                  !Need estimate from IRS work

!Set maximum and minimum limits

              if stem_per_seed > 10 then                                               !Need estimate from IRS work
                 stem_per_seed = 10
              elseif stem_per_seed < 2 then                                         !Need estimate from IRS work
                 stem_per_seed = 2.9
              endif

!Soil temperature factor based on top layer average soil temperature on day of sowing only!!

              stf = st(1)/10                                                                            ! Assuming that optimum temp is 10dc

!Set upper and lower limits for stf and swf

              if (stf < 0) then
                  stf = 0
               endif
               if (stf > 1) then
                  stf = 1
               endif        
       
               swf = (sw(1) - ll(1))/(dul(1) - ll(1))
               if (swf < 0) then
                  swf = 0
               endif
               if (swf > 1) then
                  swf = 1
               endif

               density = [seeds] * stem_per_seed * stf * swf
               [crop] sow plants = density, sowing_depth = [depth], cultivar = [cultivar], row_spacing = [row_spacing], crop_class = [class]
            endif
            if today = date('[date2]') then
               ChooseNextCrop = 'yes'
            endif
         endif
      endif
            
]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
        <manager name="Harvesting rule">
          <script>
            <text>

           if [crop].StageName = 'maturity' or [crop].plant_status = 'dead' then
              [crop]  harvest
              [crop]  end_crop
           endif

            </text>
            <event>end_of_day</event>
          </script>
          <ui>
            <category name="Harvesting criteria" />
            <crop type="crop" description="Enter name of crop to harvest when ripe : ">potato</crop>
          </ui>
        </manager>
        <manager name="Sowing fertiliser">
          <ui>
            <category description="When should fertiliser be applied" />
            <modulename type="modulename" description="On which module should the event come from : ">potato</modulename>
            <eventname type="text" description="On which event should fertiliser be applied : ">sowing</eventname>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount_sow type="text" description="Amount of starter fertiliser at sowing (kg/ha) : ">160</fert_amount_sow>
            <fert_type_sow type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Sowing fertiliser type : ">NO3_N</fert_type_sow>
          </ui>
          <script name="[modulename].[eventname]">
            <text>
        [fertmodule] apply amount = [fert_amount_sow] (kg/ha), depth = 50 (mm), type = [fert_type_sow]
            </text>
            <event>[modulename].[eventname]</event>
          </script>
        </manager>
        <manager name="Fertilise on fixed date">
          <ui>
            <category description="When should fertiliser be applied" />
            <fert_date type="ddmmmdate" description="Enter fertiliser date (dd-mmm) : ">01-jan</fert_date>
            <fert_criteria type="text" description="Don't add fertiliser if N in top 2 layers exceeds (kg/ha) : ">1000</fert_criteria>
            <category description="Fertiliser application details" />
            <fertmodule type="modulename" description="Module used to apply the fertiliser : ">fertiliser</fertmodule>
            <fert_amount type="text" description="Amount of fertiliser to apply (kg/ha) : ">219</fert_amount>
            <fert_type type="list" listvalues="NO3_N, NH4_N, NH4NO3, urea_N, urea_no3, urea" description="Fertiliser type : ">urea_N</fert_type>
          </ui>
          <script name="start_of_day">
            <text><![CDATA[
         if (today = date('[fert_date]') then
            N_topsoil = no3(1) + nh4(1) + no3(2) + nh4(2)
            if (N_topsoil < [fert_criteria]) then
               [fertmodule] apply amount = [fert_amount] (kg/ha), depth = 50 (mm), type = [fert_type] ()
            endif
         endif ]]></text>
            <event>start_of_day</event>
          </script>
        </manager>
      </folder>
      <fertiliser />
      <surfaceom name="surface organic matter">
        <PoolName type="text" description="Organic Matter pool name">wheat</PoolName>
        <type type="list" listvalues="inert,manure,fym,bambatsi,barley,broccoli,camaldulensis,canola,chickpea,cowpea,danthonia,globulus,grandis,fababean,fieldpea,grass,lablab,lucerne,lupin,maize,millet,mucuna,mungbean,horsegram,navybean,cotton,orobanche,peanut,pigeonpea,rice,soybean,sorghum,stylo,sugar,sunflower,sweetcorn,sweetsorghum,weed,wheat" description="Organic Matter type">wheat</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">80</cnr>
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <outputfile>
        <filename>EppingForest_07.out</filename>
        <events name="Reporting Frequency">
          <event name="Daily" description="End of day" array="No" />
        </events>
        <variables name="Variables">
          <variable name="dd/mm/yyyy as Date" array="?" description="Date (dd/mm/yyyy)" />
          <variable name="biomass" array="?" description="Biomass" />
          <variable name="lai" />
          <variable name="LeafGreenWt" />
          <variable name="StemGreenWt" />
          <variable name="TuberGreenWt" />
          <variable name="st(1)" />
          <variable name="plants" />
          <variable name="node_no" />
          <variable name="node_no_sen" />
          <variable name="stf" />
          <variable name="stage" array="No" description="Plant stage" />
          <variable name="nfact_pheno" array="No" description="N factor for phenology" />
          <variable name="nfact_photo" array="No" description="N factor for photosynthesis" />
          <variable name="swdef_pheno" array="No" description="Soil water deficit in phenological development" />
          <variable name="swdef_photo" array="No" description="Soil water deficit in photosynthesis" />
          <variable name="StemGreenP" />
          <variable name="density" />
          <variable name="applied_irr_tot" />
          <variable name="n_uptake" array="No" description="N uptake" />
          <variable name="stage" array="No" description="Plant stage" />
        </variables>
      </outputfile>
      <potato />
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0.0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0.0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0.0</default_cl_conc>
      </irrigation>
      <manager name="Logic">
        <script name="init">
          <text> irriginterval = 0
applied_irr_tot = 0</text>
          <event>init</event>
        </script>
        <script name="start_of_day">
          <text><![CDATA[ !tuber_no = (density * 0.3) + 2                          !Slope and intercept from IRS relationship
 !tuber_size = tuber_wt / tuber_no

irriginterval = irriginterval + 1

 if potato.plant_status = 'alive'  and (potato.stage > 3) and (potato.stage < 6) and (irriginterval > 8) then  
            'Anderson_8 water' set dlt_sw_dep = 20.0 0.0 0.0 !0.0 !0.0! 
           irriginterval = 0
           applied_irr_tot = applied_irr_tot + 20
 endif   
  
]]></text>
          <event>start_of_day</event>
        </script>
        <script name="end_of_day">
          <text>
          </text>
          <event>end_of_day</event>
        </script>
      </manager>
      <soil name="Anderson_8">
        <state>Tasmania</state>
        <region>Central North Tasmania</region>
        <nearesttown>Cressy</nearesttown>
        <site>Anderson farm</site>
        <SoilType>Clay loam</SoilType>
        <Latitude>-41.6705961390468</Latitude>
        <Longitude>146.989224366538</Longitude>
        <LocationAccuracy>+/- 20m</LocationAccuracy>
        <DataSource>Bill Cotching and Shaun Lisson, TIAR</DataSource>
        <comment><![CDATA[Results from CSBP Soil & Plant Laboratory in Perth (Wesfarmers).
]]></comment>
        <naturalvegetation>Agriculture</naturalvegetation>
        <SummerCona>3.5</SummerCona>
        <WinterCona>2</WinterCona>
        <SummerU>6</SummerU>
        <WinterU>2</WinterU>
        <SummerDate>1-Nov</SummerDate>
        <WinterDate>1-Apr</WinterDate>
        <Salb>0.1</Salb>
        <DiffusConst>40</DiffusConst>
        <DiffusSlope>16</DiffusSlope>
        <CN2Bare>70</CN2Bare>
        <CNRed>20</CNRed>
        <CNCov>0.8</CNCov>
        <RootCN>30</RootCN>
        <RootWT>1500</RootWT>
        <SoilCN>14.5</SoilCN>
        <EnrACoeff>7.4</EnrACoeff>
        <EnrBCoeff>0.2</EnrBCoeff>
        <profile>
          <layer>
            <thickness>260</thickness>
            <bd>1.17</bd>
            <ll15>0.07</ll15>
            <airdry>0.03</airdry>
            <dul>0.48</dul>
            <sat>0.55</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.07</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.07</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.07</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.07</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.07</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.07</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.07</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>280</thickness>
            <bd>1.41</bd>
            <ll15>0.24</ll15>
            <airdry>0.2</airdry>
            <dul>0.46</dul>
            <sat>0.46</sat>
            <swcon>0.5</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.04</fbiom>
            <finert>0.1</finert>
            <oc>0.7</oc>
            <ph>5</ph>
            <ll name="wheat">0.24</ll>
            <kl name="wheat">0.16</kl>
            <xf name="wheat">1</xf>
            <ll name="canola">0.24</ll>
            <kl name="canola">0.16</kl>
            <xf name="canola">1</xf>
            <ll name="fieldpea">0.24</ll>
            <kl name="fieldpea">0.16</kl>
            <xf name="fieldpea">1</xf>
            <ll name="lucerne">0.24</ll>
            <kl name="lucerne">0.16</kl>
            <xf name="lucerne">1</xf>
            <ll name="weed">0.24</ll>
            <kl name="weed">0.16</kl>
            <xf name="weed">1</xf>
            <ll name="broccoli">0.24</ll>
            <kl name="broccoli">0.16</kl>
            <xf name="broccoli">1</xf>
            <ll name="potato">0.24</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
          <layer>
            <thickness>660</thickness>
            <bd>1.27</bd>
            <ll15>0.2</ll15>
            <airdry>0.2</airdry>
            <dul>0.51</dul>
            <sat>0.52</sat>
            <swcon>0.01</swcon>
            <mwcon>1</mwcon>
            <fbiom>0.03</fbiom>
            <finert>0.1</finert>
            <oc>0.4</oc>
            <ph>5</ph>
            <ll name="wheat">0.2</ll>
            <kl name="wheat">0.1</kl>
            <xf name="wheat">0.1</xf>
            <ll name="canola">0.2</ll>
            <kl name="canola">0.1</kl>
            <xf name="canola">0.1</xf>
            <ll name="fieldpea">0.2</ll>
            <kl name="fieldpea">0.1</kl>
            <xf name="fieldpea">0.1</xf>
            <ll name="lucerne">0.2</ll>
            <kl name="lucerne">0.1</kl>
            <xf name="lucerne">0.1</xf>
            <ll name="weed">0.2</ll>
            <kl name="weed">0.1</kl>
            <xf name="weed">0.1</xf>
            <ll name="broccoli">0.2</ll>
            <kl name="broccoli">0.1</kl>
            <xf name="broccoli">0.1</xf>
            <ll name="potato">0.2</ll>
            <kl name="potato">0.06</kl>
            <xf name="potato">1</xf>
          </layer>
        </profile>
        <InitWater>
          <PercentMethod>
            <Percent>1.00</Percent>
            <Distributed>Evenly distributed</Distributed>
          </PercentMethod>
        </InitWater>
        <InitNitrogen>
          <profile>
            <layer>
              <thickness>260</thickness>
              <no3>1.62633359354671</no3>
              <nh4>0.0999869893312516</nh4>
            </layer>
            <layer>
              <thickness>280</thickness>
              <no3>1.62633359354671</no3>
              <nh4>0.0999869893312516</nh4>
            </layer>
            <layer>
              <thickness>660</thickness>
              <no3>1.62633359354671</no3>
              <nh4>0.0999869893312516</nh4>
            </layer>
          </profile>
        </InitNitrogen>
      </soil>
    </area>
  </simulation>
  <RegressionGraph name="PredictedObserved">
    <memo>


	Note: If you have Observered data for some samplings but not others, then in the .out file (for the observations) you can use * or ?  for those missing values instead of using 0

	This allows you to tell the difference between data you did not collect, and data that actually had a value of 0

	Data with a * or ? is not plotted on the graph (hence neither is its predicted value) whereas data with 0 is.
	</memo>
    <Plot>
      <SeriesType>No line</SeriesType>
      <PointType>Circle</PointType>
      <colour>
      </colour>
      <GDPredObs name="PredictedObserved">
        <FieldsToMatch>title</FieldsToMatch>
        <GDApsimFileReader name="Observed">
          <FileName>Observed\Tasmania.txt</FileName>
        </GDApsimFileReader>
        <GDFilter name="Filter">
          <GDApsimFileReader name="Predicted">
            <FileName>47-Forthside_06.out</FileName>
            <FileName>1-Latrobe_04.out</FileName>
            <FileName>2-Wynyard_04.out</FileName>
            <FileName>3-Thirlstane_04.out</FileName>
            <FileName>4-Bishopbourne_04.out</FileName>
            <FileName>5-Deloraine_04.out</FileName>
            <FileName>6-Cuprona_04.out</FileName>
            <FileName>7-Latrobe_04.out</FileName>
            <FileName>8-Deloraine_05.out</FileName>
            <FileName>9-Latrobe_05.out</FileName>
            <FileName>10-S_Creek_05.out</FileName>
            <FileName>11-Barrington_06.out</FileName>
            <FileName>12-Thrilstane_05.out</FileName>
            <FileName>13-Melrose_05.out</FileName>
            <FileName>14-Deloraine1_06.out</FileName>
            <FileName>15-S_Creek1_06.out</FileName>
            <FileName>16-S_Creek2_06.out</FileName>
            <FileName>17-Deloraine2_06.out</FileName>
            <FileName>18-Barrington_06.out</FileName>
            <FileName>19-Branxholm_06.out</FileName>
            <FileName>20-Stowport_06.out</FileName>
            <FileName>21-EastDevo_04.out</FileName>
            <FileName>24-Abbotsham_04.out</FileName>
            <FileName>25-Sheffield_04.out</FileName>
            <FileName>26-Forthside_04.out</FileName>
            <FileName>27-EastDevo_05.out</FileName>
            <FileName>29-Gawler_05.out</FileName>
            <FileName>30-Deloraine_05.out</FileName>
            <FileName>31-Campbelltown_05.out</FileName>
            <FileName>32-Penguin_05.out</FileName>
            <FileName>33-E_Devonport_04.out</FileName>
            <FileName>34-Sheffield_04.out</FileName>
            <FileName>35-Wynyard_04.out</FileName>
            <FileName>36-Westbury_04.out</FileName>
            <FileName>40-Ulverstone_05.out</FileName>
            <FileName>41-Westbury_05.out</FileName>
            <FileName>44-Cressy_06.out</FileName>
          </GDApsimFileReader>
        </GDFilter>
      </GDPredObs>
    </Plot>
  </RegressionGraph>
</folder>