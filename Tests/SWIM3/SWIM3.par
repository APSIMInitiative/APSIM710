! ============== REPORTING DATA =====================
[sample.summaryfile.parameters]
summaryfile=swim3.sum
[sample2.summaryfile.parameters]
summaryfile=swim3_obs_eo.sum

[sample.report.parameters]
outputfile    =swim3.out
[sample2.report.parameters]
outputfile    =swim3_obs_eo.out

[all.report.parameters]
variable = clock.dd/mm/yyyy as Date

variable = maize.biomass as m_biomass
variable = maize.yield as m_yield
variable = maize.root_depth as m_root_depth
variable = maize.lai as m_lai
variable = maize.sw_demand as m_sw_dmd
variable = maize.ep as m_ep
variable = maize.swdef_photo as m_swdef_photo
variable = maize.biomass_n as m_biomass_n
variable = maize.nfact_photo as m_nfact_photo

variable = cowpea.biomass as c_biomass
variable = cowpea.yield as c_yield
variable = cowpea.root_depth as c_root_depth
variable = cowpea.lai as c_lai
variable = cowpea.sw_demand as c_sw_dmd
variable = cowpea.ep as c_ep
variable = cowpea.swdef_photo as c_swdef_photo
variable = cowpea.biomass_n as c_biomass_n
variable = cowpea.nfact_photo as c_nfact_photo

variable = swim3.es
variable = swim3.runoff
variable = swim3.drain
variable = swim3.sw_dep()

variable = SoilN.no3()
variable = solute.br()

[all.clock.parameters]
start_date=1/9/1988 !1/1/1988     ! dd/mm/yyyy
end_date=31/3/1989     ! dd/mm/yyyy

! ============== MANAGER DATA =====================
[all.accum.parameters]
accum_variables = rain[7]

[all.canopy.parameters]
intercrop = maize cowpea

[all.Operations.start_of_day]
1988 300 maize sow cultivar = dekalb_xl82, plants = 10, sowing_depth = 30 (mm)
1988 300 fertiliz apply amount = 150, type = no3_n, depth = 5
1988 300 irrigate apply amount = 50
1988 310 cowpea sow cultivar = banjo, plants = 25 (/m2), sowing_depth = 40 (mm)



[all.manager.end_of_day]
if (maize.stage = 11 or maize.plant_status = 'dead') then
   maize harvest
   maize end_crop
endif

if cowpea.StageName = 'harvest_ripe' or cowpea.plant_status = 'dead' then
   cowpea harvest
   cowpea end_crop
endif

report do_output


[all.swim3.initialisation]
        specification_type = 2
        x =   0    10    30    75   125   200    300   400   500  600  700  850  1000  1200  1400  1600  1800  2000
soil_type = soil1  -      -     -     -   -      -     soil1  -   -    soil2 -    -     -     -     -     -    soil2
!     psi = -100 -100  -100  -100  -100  -100   -100  -100  -100 -200  -250 -330 -330  -330  -330  -330  -330  -330
      ll15=  0.19  0.19  0.19  0.19 0.19 0.19    0.19   0.19  0.21 0.22 0.24 0.24 0.24 0.24   0.24  0.24   0.24  0.24
      dul =  0.54  0.54  0.54  0.54 0.54 0.54    0.54   0.54  0.52 0.50 0.48 0.48 0.48 0.48   0.48  0.48   0.48  0.48
      sat =  0.55  0.55  0.55  0.55 0.55 0.55    0.55   0.55  0.54 0.53 0.52 0.52 0.52 0.52   0.52  0.52   0.52  0.52
      ks  =  0.2   0.2   0.2   0.2  0.2  0.2     0.2    0.2   0.23 0.26 0.3  0.3  0.3  0.3    0.3   0.3    0.3   0.3
    theta = 0.54  0.54  0.54  0.54 0.54 0.54    0.54   0.54  0.52 0.46 0.44 0.42 0.42 0.42   0.42  0.42   0.42  0.42
      bd  = 1.05  1.05  1.05  1.05 1.05 1.05    1.05   1.05  1.05 1.05 1.05 1.05 1.05 1.05   1.05  1.05   1.05  1.05

!slmin =  -3.0
!slmax =  6.9

bypass_flow =  off            ! Bypass Flow  - On/Off
                              !
runoff =      0               ! Runoff Flag  - 0) No ponding (all runoff)
                              ! -----------    1) All ponded (no runoff)
                              !                2) Use runoff functions
                              !
top_boundary_condition =  0   ! Surface Flag - 0) infinite surface conductance
                              ! ------------   1) constant potential
                              !                2) conductance function
                              !
bottom_boundary_condition =  0   ! Bottom Flag  - 0) constant gradient
                              ! -----------    1) water table
                              !                2) zero flux
                              !                3) free drainage (seepage)

vapour_conductivity =  on     ! Vapour Conductivity flag (0=off, 1=on)
                              ! ------------------------

run_solutes =  no3 nh4 urea br  ! solutes to be moved by SWIM during simulation

extra_solute_supply =  on
solute_exclusion =  on

subsurface_drain = off

! ---------------------- solute information ---------------------------
[all.swim3.solute]

               ! Note - Urea is just the same as no3 for now
               ! -------------------------------------
solute_name =                    no3   nh4  urea  br
               ! -------------------------------------
slupf =                          0.5   0    0     0
slos =                           0.4   1.4  0.0   0.4
d0 =                           .0684 .07056 .0684 .072
a =                              1.0   1.0  1.0   1.0
dthc =                            0    0    0     0
dthp =                            1    1    1     1
disp =                            1    1    1     1
exco =                            0   0.5   0     0
fip =                             1     1   1     1
dis =                             2     2   2     2
ground_water_conc =               0    0    0     0
               ! -------------------------------------



! ------------------ swim calculation parameters ---------------------
[all.swim3.calc]
dtmin =  0.0   ! min timestep (min)
dtmax =  1440.   ! max timestep (min)
!dtmax_sol = 60.

ersoil =  0.0000001   !
ernode =  0.0000001   !
errex =  0.01   !
dppl =  2   !
dpnl =  1   !
max_water_increment =  0.5   ! max water increment (mm)
swt =  0   ! Space Weighting Factor (gravity flow)
                              ! -------------------------------------
                              ! 0.5 -> 1.0 (central to fully upstream)
                              ! < -1 (central diffs by factor of -1*SWF)
slcerr =  0.000001
slswt =  0.0


! ------------------------ climatic inputs ---------------------------
[all.swim3.climate]
rainfall_source =  apsim
salb =  0.23
evap_source =  calc


! ------------------------ runoff functions --------------------------
[all.swim3.runoff]
maximum_surface_storage =  20   ! (mm)
minimum_surface_storage =  10   ! (mm)
initial_surface_storage =  15   ! (mm)
precipitation_constant =   50   ! (mm)
runoff_rate_factor =       .2   ! (mm/h)/mm^P
runoff_rate_power =        2   ! =P ______/

! ------------------- bottom boundary conditions --------------------
[all.swim3.bottom_boundary]
constant_gradient =    0
constant_potential =   100. ! (cm)
! --------------------- top boundary conditions ---------------------
[all.swim3.top_boundary]
maximum_conductance =  4.0   ! (/h) initial soil surface conductance
minimum_conductance =  .02   ! (/h) minimum soil surface conductance
initial_conductance =  4.0   ! (/h) initial soil surface conductance
precipitation_constant =  25.   ! (mm)

! -------------------------- bypass flow ---------------------------
[all.swim3.bypass_flow]
depth =       11   ! (node number)
conductance =  .10   ! (??)
storage =     .10   ! (cm water/cm of +ve Psi)

[all.swim3.crop]
   ! ------------------------------------------
crop_name =                 maize   cowpea
   ! ------------------------------------------
min_xylem_potential =      -15000. -15000.    (cm)
root_radius =               0.25     0.25     (mm)
root_conductance =         1.4d-7 1.4d-7
   ! ------------------------------------------

[all.swim3.drain]
drain_depth = 1000. (mm)
drain_spacing = 29000 (mm)
drain_radius = 50 (mm)
Klat = 1000. (mm/d)
imperm_depth = 3000.


! ============== SOIL NITROGEN DATA =====================
[all.SoilN.parameters]

root_cn =  20.   ! C:N ratio of initial root residues
root_wt =  1000.   ! root residues as biomass (kg/ha)
soil_cn =  14.5   ! C:N ratio of soil

!    x =   0    10    30    75   125   200    300   400   500  600  700  850  1000  1200  1400  1600  1800  2000
    oc =  0.58 0.58  0.58  0.58 0.58  0.42   0.42   0.42  0.23 0.23 0.23 0.17 0.17  0.15  0.15  0.14  0.14 0.14 (%)   ! Soil Organic Carbon
    ph =  7.70 7.70  7.70  7.70 7.70  8.00   8.00   8.00  8.60 8.60 8.60 8.60 8.60  8.60  8.60  8.60  8.60  8.60  ()   ! pH of soil
 fbiom =  .035 .035  .035 .035  .035 .025    .025  .025   .025 .015 .015 0.01 0.01  0.01  0.01  0.01  0.01  0.01 ()   ! Organic C Biomass Fraction
finert =  0.30 0.30  0.30 0.30  0.30  0.30   0.40  0.40   0.50 0.50 0.60 0.60 0.75  0.75  0.90  0.99  0.99  0.99 ()   ! Inert Organic C Fraction
no3ppm =  10.0 10.0 10.0  10.0  5.00  5.00   5.00  5.00   1.00 1.00 1.00 1.00 1.00  1.00  1.00  1.00  1.00  1.00 (ppm)   ! Nitrate Concentration
nh4ppm =  0.30 0.30 0.30  0.30  0.30  0.50   0.50  0.50   0.50 0.50 0.50 0.50 0.50  0.50  0.50  0.50  0.50  0.50 (ppm)   ! Ammonium Concentration
ureappm =  0     0     0    0     0     0     0      0      0     0    0    0    0     0     0     0     0     0  (ppm)   ! Urea Concentration

! Erosion profile reduction parameters
enr_a_coeff =  7.4 ()
enr_b_coeff =  0.2
profile_reduction =  off


! ============== SURFACE RESIDUES DATA =====================
[all.SurfaceOM.parameters]
mass = 2000. (kg/ha)   ! Initial surface residue
cnr = 80.0 ()   ! C:N ration of initial residue
type = maize   ! Type if initial residue



! ============== maize DATA =====================
name = maize
[all.maize.parameters]
uptake_source = apsim
!    x =   0    10    30    75    125   200    300   400   500  600   700    850  1000  1200  1400  1600  1800  2000
    !ll =  0.192 0.192 0.192 0.192 0.192 0.192 0.192 0.192 0.208 0.223 0.239 0.239 0.239 0.239 0.239 0.239 0.239 0.239
    ll =  0.19  0.19  0.19  0.19 0.19 0.19    0.19   0.19  0.21 0.22 0.24 0.24 0.24 0.24   0.24  0.24   0.24  0.24
    kl =  0.12  0.12  0.12  0.12  0.12  0.12   0.12  0.12 0.12  0.08  0.08  0.08  0.08   0.04  0.04  0.0    0.0   0.0
    XF =  1.0   1.0   1.0   1.0   1.0   1.0    1.0   1.0  1.0   1.0   1.0   1.0   1.0    1.0   1.0   0.0    0.0   0.0



! ============== cowpea DATA =====================
[all.cowpea.parameters]
uptake_source = apsim
!    x =   0    10    30    75    125   200    300   400   500  600   700    850  1000  1200  1400  1600  1800  2000
    !ll =  0.192 0.192 0.192 0.192 0.192 0.192 0.192 0.192 0.208 0.223 0.239 0.239 0.239 0.239 0.239 0.239 0.239 0.239
    ll =  0.19  0.19  0.19  0.19 0.19 0.19    0.19   0.19  0.21 0.22 0.24 0.24 0.24 0.24   0.24  0.24   0.24  0.24
    kl =  0.08  0.08  0.08  0.08  0.08  0.08   0.08  0.06  0.06 0.04  0.04  0.04  0.02   0.02  0.01  0.0    0.0   0.0
    XF =  1.0   1.0   1.0   1.0   1.0   1.0    1.0   1.0  1.0   1.0   1.0   1.0   1.0    1.0   1.0   0.0    0.0   0.0


[all.solute.parameters]
solute_names =  br
!    x =   0    10    30    75    125   200    300   400   500  600   700    850  1000  1200  1400  1600  1800  2000
     br = 10     10    10    10   10    10     10     10    10   10    10    10     10    10    10    10    10   10


 