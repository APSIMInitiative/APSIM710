"GMD Version" "3"
"DYMEX Version" "3"
"Date" "Oct 02 2013, 11:46"
"Model" "StripeRustJW3"
"Creator" "Jeremy Whish"
"Model Version" "1" "Complete"
"Begin Comment"
From scrach adapation of Neil whites model build 2
this version uses prameters to input the Apsim values
"End Comment"

"Begin Environment"
  "Name" "Common"
  "Variables"
"End Environment"

"Begin Variables"
  "Cycle" "Minimum Temperature" "Maximum Temperature"
"End Variables"

"Begin Variable Manager" "Timer"
  "Name" "Timer"
  "Model Timestep" "1"
  "Input" "(none)"
  "Begin Output"
    "Name" "Days Since Start"
  "End Output"
  "Begin Output"
    "Name" "Day Of Year"
  "End Output"
  "Begin Output"
    "Name" "Simulation Date"
  "End Output"
  "Begin Output"
    "Name" "Time of Day"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "QueryUser"
  "Name" "constants"
  "Begin Output"
    "Name" "DR"
    "Begin Comment"
    Disease resistance rating see "DR to RM.xls
    0 - 100% Resistant - useful for testing
    1 - R
    2 - MR
    3 - MS
    4 - S
    5 - VS
    "End Comment"
    "Limits" "0" "5" "2"
  "End Output"
  "Begin Output"
    "Name" "LE"
    "Begin Comment"
    see Table 1
    LE cm^2 per day. min=0.01 max 0.2  default = 0.04
    Most susceptible cv in Lou and Zeng (1995) was 0.19
    "End Comment"
    "Limits" "0" "0.2" "0.04"
  "End Output"
  "Begin Output"
    "Name" "lesionLifeTime"
    "Begin Comment"
    This can be set to any value, however, Emge et al 1975 state that spores were produced for 12 days.
    Set to 0 to allow spores to produced regardless of age, ditto lesion expansion
    "End Comment"
    "Limits" "0" "20" "12"
  "End Output"
  "Begin Output"
    "Name" "sporprodrate"
    "Begin Comment"
    spores produced per 1cm of lesion  from Emge et al (1975)  to
    "End Comment"
    "Limits" "10000" "50000" "20000"
  "End Output"
  "Begin Output"
    "Name" "slope RLS Modifyer"
    "Begin Comment"
    The more negative the paramter the greater effect ppn of leaf diseased has on the ability of the lesion to grow
    "End Comment"
    "Limits" "-30" "-1" "-20"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Function"
  "Name" "SporeImmigrat"
  "Begin Output"
    "Name" "immi_spores"
  "End Output"
  "Begin Parameter Set"
    "Default Set" "Valid" "Default"
  "End Parameter Set"
  "Begin Parameter"
    "Name" "Factor"
    "Value" "0" "1000000" "30000"
  "End Parameter"
"End Variable Manager"

"Begin Variable Manager" "Function"
  "Name" "dxcropDen"
  "Begin Output"
    "Name" "CropDen"
  "End Output"
  "Begin Parameter Set"
    "Default Set" "Valid" "Default"
  "End Parameter Set"
  "Begin Parameter"
    "Name" "Factor"
    "Value" "0" "300" "100"
  "End Parameter"
"End Variable Manager"

"Begin Variable Manager" "Function"
  "Name" "dxStage"
  "Begin Output"
    "Name" "stage"
  "End Output"
  "Begin Parameter Set"
    "Default Set" "Valid" "Default"
  "End Parameter Set"
  "Begin Parameter"
    "Name" "Factor"
    "Value" "1" "12" "6"
  "End Parameter"
"End Variable Manager"

"Begin Variable Manager" "Function"
  "Name" "dxLAI"
  "Begin Output"
    "Name" "lai"
  "End Output"
  "Begin Parameter Set"
    "Default Set" "Valid" "Default"
  "End Parameter Set"
  "Begin Parameter"
    "Name" "Factor"
    "Value" "0" "6" "4"
  "End Parameter"
"End Variable Manager"

"Begin Variable Manager" "Function"
  "Name" "dxSLAI"
  "Begin Output"
    "Name" "slai"
  "End Output"
  "Begin Parameter Set"
    "Default Set" "Valid" "Default"
  "End Parameter Set"
  "Begin Parameter"
    "Name" "Factor"
    "Value" "0" "4" "0.01"
  "End Parameter"
"End Variable Manager"

"Begin Variable Manager" "QueryUser"
  "Name" "lat"
  "Begin Output"
    "Name" "Latitude"
    "Limits" "-51" "51" "-25.7"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Function"
  "Name" "Disease Resistance Converted to Mortality (Rm)"
  "Begin Output"
    "Name" "Rm"
    "Begin Comment"
    This is the disease resistance rating 0 to 5 converted to a mortality
    "End Comment"
  "End Output"
  "Begin Parameter Set"
    "Default Set" "Valid" "Default"
  "End Parameter Set"
  "Begin Action"
    "Name" "Factor"
    "Variable" "DR"
    "Function Type" "3-segment Linear" "0" "1" "0" "1"
    "Begin Parameter"
      "Name" "Line 1 X-intercept"
      "Value" "0" "15" "11.11"
    "End Parameter"
    "Begin Parameter"
      "Name" "Line 1 Slope"
      "Value" "-1" "1" "-0.09"
    "End Parameter"
    "Begin Parameter"
      "Name" "X-value at intersection of lines 1_2"
      "Value" "0" "2" "1"
    "End Parameter"
    "Begin Parameter"
      "Name" "Line 2 Slope"
      "Value" "-1" "1" "-0.03"
    "End Parameter"
    "Begin Parameter"
      "Name" "X-value at intersection of lines 2_3"
      "Value" "0" "5" "4"
    "End Parameter"
    "Begin Parameter"
      "Name" "Line 3 Slope"
      "Value" "-1" "1" "-0.1"
    "End Parameter"
    "Begin Comment"
    Disease resistance rating see "DR to RM.xls
    0 - 100% Resistant - useful for testing
    1 - R
    2 - MR
    3 - MS
    4 - S
    5 - VS
    "End Comment"
  "End Action"
"End Variable Manager"

"Begin Variable Manager" "MetBase"
  "Name" "MetData"
  "Input" "Simulation Date"
  "Begin Output"
    "Name" "Minimum Temperature"
    "Limits" "" ""
  "End Output"
  "Begin Output"
    "Name" "Maximum Temperature"
    "Limits" "" ""
  "End Output"
  "Begin Output"
    "Name" "Rainfall"
    "Limits" "" ""
  "End Output"
  "Output" "(none)"
  "Output" "(none)"
  "Output" "(none)"
  "Begin Output"
    "Name" "VP"
    "Limits" "" ""
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Weather"
  "Name" "Weather1"
  "Cycle Shape" "Composite (Sine+Exponential)" "24"
  "Atmospheric Moisture Variable" "Input" "VP"
  "Atmospheric Moisture Variable" "Output" "RH"
  "Input" "Latitude"
  "Input" "Day Of Year"
  "Input" "Minimum Temperature"
  "Input" "Maximum Temperature"
  "Input" "Rainfall"
  "Input" "VP"
  "Input" "VP"
  "Begin Output"
    "Name" "Daily Temperature Cycle"
  "End Output"
  "Begin Output"
    "Name" "Daylength"
  "End Output"
  "Output" "(none)"
  "Begin Output"
    "Name" "9am Atmospheric Moisture"
  "End Output"
  "Begin Output"
    "Name" "3pm Atmospheric Moisture"
  "End Output"
  "Begin Output"
    "Name" "Night hours at 100% RH"
  "End Output"
  "Begin Output"
    "Name" "Night hours above 80% RH"
  "End Output"
  "Begin Output"
    "Name" "Germination Event Flag"
  "End Output"
  "Begin Parameter Set"
    "Default Set" "Valid" "Default"
  "End Parameter Set"
  "Begin Parameter"
    "Name" "Midday-Tmax lag"
    "Value" "0" "5" "3"
    "Begin Comment"
    The time (in hours) between solar midday and the occurence of the day's maximum temperature (Generally about 2 hrs).
    "End Comment"
  "End Parameter"
  "Begin Parameter"
    "Name" "Sunrise-Tmin lag"
    "Value" "-3" "3" "-1"
    "Begin Comment"
    The time (in hours) between sunrise and the occurence of the day's minimum temperature.  Since the minimum is generally just before sunrise, this parameter should be 0 or a small negative value.
    "End Comment"
  "End Parameter"
  "Begin Parameter"
    "Name" "Night temperature coefficient"
    "Value" "0" "5" "2.5"
    "Begin Comment"
    Determines the rate at which temperatures decay from sunset to the the minimum. (1.5-2.5 hrs)
    "End Comment"
  "End Parameter"
"End Variable Manager"

"Begin Variable Manager" "Equation"
  "Name" "plantLA"
  "Equation" "([x1]*100^2)/[x2]"
  "On Error" "Terminate"
  "Input" "lai"
  "Input" "CropDen"
  "Begin Output"
    "Name" "PlantLA"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Equation"
  "Name" "Proportion of Leaf that is Diseased"
  "Equation" "if([x2]>0,[x1]/[x2])"
  "On Error" "Terminate"
  "Input" "Lesion: Total lesa"
  "Input" "PlantLA"
  "Begin Output"
    "Name" "PpnLeafDis"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Equation"
  "Name" "RLS Modifier"
  "Equation" "0.01/(0.01+0.99*exp([x2]*[x1]))"
  "On Error" "Terminate"
  "Input" "PpnLeafDis"
  "Input" "slope RLS Modifyer"
  "Begin Output"
    "Name" "RlsMod"
    "Begin Comment"
    Rls is modified using a logistic function
    "End Comment"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Equation"
  "Name" "lesion Expansion Rate (Rls)"
  "Equation" "(if([x1]<1,([x3]*(1-[x1])*(1-[x2]))*(1-[x4])))*(1-([x2]*.5))"
  "On Error" "Terminate"
  "Input" "PpnLeafDis"
  "Input" "Rm"
  "Input" "LE"
  "Input" "RlsMod"
  "Begin Output"
    "Name" "Rls"
    "Begin Comment"
    see Lou and Zeng (1995) and Murray et al (1994)
    "End Comment"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Difference(t)"
  "Name" "Lesa Change"
  "Input" "Lesion: Total lesa"
  "Begin Output"
    "Name" "dlt_lesa"
  "End Output"
"End Variable Manager"

"Begin Variable Manager" "Lifecycle"
  "Name" "Lifecycle1"
  "Begin Cohort Variable"
    "Name" "Physiological Age"
    "Scope" "Local"
    "Range" "No Limit" "No Limit" "+-"
    "Update" "Direct"
    "Prohibit Output" "Total"
    "Prohibit Output" "Accumulated"
  "End Cohort Variable"

  "Begin Cohort Variable"
    "Name" "lesa"
    "Scope" "Local"
    "Range" "No Limit" "No Limit" "+-"
    "Update" "Direct"
    "Inputs" "Most Recent"
  "End Cohort Variable"

  "Begin Cohort Variable"
    "Name" "sprogs"
    "Scope" "Local"
    "Range" "No Limit" "No Limit" "+-"
    "Update" "Current Value"
    "Inputs" "Most Recent"
  "End Cohort Variable"

  "Begin Cohort Variable"
    "Name" "LesionLimiter"
    "Scope" "Local"
    "Range" "0" "1" "+-"
    "Update" "Current Value"
    "Inputs" "Most Recent"
    "Starting Value" "1"
    "Prohibit Output" "Total"
    "Prohibit Output" "Accumulated"
  "End Cohort Variable"

  "Begin Lifestage" "Normal"
    "Name" "Spore"
    "Environment" "Global"

    "Begin Process" "Immigration" "Normal"
      "Name" "Immigration"
      "Combination Rule" "+"
      "Begin Action"
        "Variable" "immi_spores"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
    "End Process"
    "Begin Process" "Number" "Normal"
      "Name" "Mortality"
      "Combination Rule" "*(1-)"
      "Begin Parameter"
        "Name" "mortality rate"
        "Value" "0" "1" "0.5"
        "Begin Comment"
        Proportion of spores that die each day
        "End Comment"
      "End Parameter"
      "Begin Action"
        "Name" "Maximum Temperature"
        "Variable" "Maximum Temperature"
        "Function Type" "Linear above Threshold" "0" "1" "0" "1"
        "Begin Parameter"
          "Name" "heat induced mortality"
          "Value" "25" "45" "30"
        "End Parameter"
        "Begin Parameter"
          "Name" "Slope"
          "Value" "0" "1" "0.2"
        "End Parameter"
        "Begin Comment"
        death of spores due to heat
        "End Comment"
      "End Action"
      "Begin Action"
        "Name" "Minimum Temperature"
        "Variable" "Minimum Temperature"
        "Function Type" "Linear below Threshold" "0" "1" "0" "1"
        "Begin Parameter"
          "Name" "cold induced mortality"
          "Value" "0" "1" "0"
        "End Parameter"
        "Begin Parameter"
          "Name" "Slope"
          "Value" "-1" "1" "-0.5"
        "End Parameter"
        "Begin Comment"
        cold induced moratlity of spores
        "End Comment"
      "End Action"
      "Begin Action"
        "Name" "stage"
        "Variable" "stage"
        "Function Type" "Step" "" "" "0" "1"
        "Begin Parameter"
          "Name" "Threshold"
          "Value" "0" "20" "10"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height"
          "Value" "0" "1" "0.5"
        "End Parameter"
        "Begin Comment"
        Kills x% of spores when grain stage of wheat dies
        This will allow for spores to exist in the environment after harvest.
        Currently it's not important as the model really only considers one-crop rotation at present
        "End Comment"
      "End Action"
    "End Process"
    "Begin Process" "Number" "Establishment"
      "Name" "Mortality - Establishment"
      "Combination Rule" "*(1-)"
      "Begin Action"
        "Name" "PlantLA"
        "Variable" "PlantLA"
        "Function Type" "Step (General)" "" "" "0" "1"
        "Begin Parameter"
          "Name" "Threshold"
          "Value" "0" "1" "0"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Initial"
          "Value" "0" "2" "1"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Final"
          "Value" "0" "1" "0"
        "End Parameter"
      "End Action"
    "End Process"
      "Begin Process" "Stage Transition" "Normal"
      "Destination" "Infective Stage"
        "Name" "Transfer"
        "Combination Rule" "if([r2]>0,[r1])"
        "Begin Action"
          "Name" "Rainfall"
          "Variable" "Rainfall"
          "Function Type" "Step" "" "" "0" "1"
          "Begin Parameter"
            "Name" "leaf wetness due to rainfall  threshold"
            "Value" "0" "20" "1.6"
            "Begin Comment"
            mm per day
            "End Comment"
          "End Parameter"
          "Begin Parameter"
            "Name" "Step Height"
            "Value" "1" "1" "1"
          "End Parameter"
          "Begin Comment"
          This is to simulate leaf wetness
          "End Comment"
        "End Action"
        "Begin Action"
          "Variable" "PlantLA"
          "Function Type" "Direct" "" "" "0" "1"
        "End Action"
      "End Process"
    "Begin Output"
      "Name" "Spore: Total Number"
      "Output Type" "Number"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Spore: Total Stage Mortality"
      "Output Type" "Stage Mortality"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Spore: Recruitment via Stage Transfer"
      "Output Type" "Recruits"
      "OpCode" "Stage Transfer"
    "End Output"
    "Begin Output"
      "Name" "Spore: Total Graduates"
      "Output Type" "Transfer"
      "OpCode" "All"
    "End Output"
  "End Lifestage"

  "Begin Stagelink"
    "Connect" "Spore" "Infective Stage"
  "End Stagelink"

  "Begin Lifestage" "Normal"
    "Name" "Infective Stage"
    "Environment" "Global"

    "Begin Process" "Number" "Normal"
      "Name" "Mortality"
      "Combination Rule" "*(1-)"
      "Begin Action"
        "Name" "PlantLA"
        "Variable" "PlantLA"
        "Function Type" "Step (General)" "" "" "0" "1"
        "Begin Parameter"
          "Name" "Threshold"
          "Value" "0" "1" "0"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Initial"
          "Value" "0" "2" "1"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Final"
          "Value" "0" "1" "0"
        "End Parameter"
        "Begin Comment"
        unless there is some plant leaf area mortality is 1
        "End Comment"
      "End Action"
      "Begin Action"
        "Name" "9am Atmospheric Moisture"
        "Variable" "9am Atmospheric Moisture"
        "Function Type" "Linear below Threshold" "0" "1" "0" "1"
        "Begin Parameter"
          "Name" "RH mortality Threshold"
          "Value" "0" "100" "70"
        "End Parameter"
        "Begin Parameter"
          "Name" "9am RH mortality Slope"
          "Value" "-1" "0" "-0.1"
        "End Parameter"
      "End Action"
      "Begin Action"
        "Name" "stage"
        "Variable" "stage"
        "Function Type" "Step" "" "" "0" "1"
        "Begin Parameter"
          "Name" "Threshold"
          "Value" "0" "20" "10"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height"
          "Value" "0" "2" "1"
        "End Parameter"
      "End Action"
    "End Process"
    "Begin Process" "Physiological Age" "Normal"
      "Name" "Development"
      "Combination Rule" "+"
      "Begin Action"
        "Name" "Daily Temperature Cycle"
        "Variable" "Daily Temperature Cycle"
        "Function Type" "Linear above Threshold" "0" "" "0" "1"
        "Begin Parameter"
          "Name" "Threshold"
          "Value" "0" "10" "5"
          "Begin Comment"
          degrees C
          "End Comment"
        "End Parameter"
        "Begin Parameter"
          "Name" "Slope"
          "Value" "0" "1" "0.02"
        "End Parameter"
        "Begin Comment"
        Phys age accumulates as a linear function with temperature until it reaches 1
        "End Comment"
      "End Action"
    "End Process"
    "Begin Process" "Number" "Establishment"
      "Name" "Mortality - Establishment"
      "Combination Rule" "*(1-)"
      "Begin Action"
        "Variable" "Rm"
        "Function Type" "Direct" "" "" "0" "1"
        "Begin Comment"
        The actual effect of DR
        "End Comment"
      "End Action"
      "Begin Action"
        "Name" "PlantLA"
        "Variable" "PlantLA"
        "Function Type" "Step (General)" "" "" "0" "1"
        "Begin Parameter"
          "Name" "Threshold"
          "Value" "0" "1" "0"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Initial"
          "Value" "0" "2" "1"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Final"
          "Value" "0" "1" "0"
        "End Parameter"
        "Begin Comment"
        unless there is some plant leaf area mortality is 1
        "End Comment"
      "End Action"
    "End Process"
      "Begin Process" "Stage Transition" "Normal"
      "Destination" "Lesion"
        "Name" "Transfer"
        "Combination Rule" "+"
        "Begin Action"
          "Name" "Physiological Age"
          "Variable" "Physiological Age"
          "Function Type" "Step" "" "" "0" "1"
          "Begin Parameter"
            "Name" "Threshold"
            "Value" "0" "2" "1"
          "End Parameter"
          "Begin Parameter"
            "Name" "Step Height"
            "Value" "0" "2" "1"
          "End Parameter"
          "Begin Comment"
          phys age a function of temperature
          "End Comment"
        "End Action"
      "End Process"
    "Begin Output"
      "Name" "Infective Stage: Total Number"
      "Output Type" "Number"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Infective Stage: Total Stage Mortality"
      "Output Type" "Stage Mortality"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Infective Stage: Graduates to Lesion"
      "Output Type" "Transfer"
      "OpCode" "Lesion"
    "End Output"
  "End Lifestage"

  "Begin Stagelink"
    "Connect" "Infective Stage" "Lesion"
  "End Stagelink"

  "Begin Lifestage" "Reproductive"
    "Name" "Lesion"
    "Environment" "Global"

    "Begin Process" "Number" "Normal"
      "Name" "Mortality"
      "Combination Rule" "*(1-)"
      "Begin Action"
        "Name" "stage"
        "Variable" "stage"
        "Function Type" "Step" "" "" "0" "1"
        "Begin Parameter"
          "Name" "APSIM crop maturity Threshold"
          "Value" "0" "20" "10"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height"
          "Value" "0" "2" "1"
        "End Parameter"
      "End Action"
      "Begin Action"
        "Name" "PlantLA"
        "Variable" "PlantLA"
        "Function Type" "Step (General)" "" "1" "0" "1"
        "Begin Parameter"
          "Name" "Threshold"
          "Value" "0" "1" "0"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Initial"
          "Value" "0" "2" "1"
        "End Parameter"
        "Begin Parameter"
          "Name" "Step Height Final"
          "Value" "0" "1" "0"
        "End Parameter"
      "End Action"
    "End Process"
    "Begin Process" "Physiological Age" "Normal"
      "Name" "Development"
      "Combination Rule" "+"
      "Begin Action"
        "Variable" "Chronological Age"
        "Function Type" "Direct" "" "" "0" "1"
        "Begin Comment"
        used to work out how many days old the lesion cohort is.  see Emge et (1975)
        Used to limit progeny production & expansion when a lesion life time is selected
        Comes in when LDays > 0, otherwise it's ignored
        "End Comment"
      "End Action"
    "End Process"
    "Begin Process" "lesa" "Normal"
      "Name" "lesa"
      "Combination Rule" "(if([r2]<0.8,[r1])*(if([r4]>0,1))+if(not([r4]>0),-1*[r3]))*[r5]"
      "Begin Action"
        "Variable" "Rls"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
      "Begin Action"
        "Variable" "PpnLeafDis"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
      "Begin Action"
        "Variable" "lesa"
        "Function Type" "Direct" "" "" "0" "1"
        "Begin Comment"
        current lesion area
        "End Comment"
      "End Action"
      "Begin Action"
        "Variable" "PlantLA"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
      "Begin Action"
        "Variable" "LesionLimiter"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
    "End Process"
    "Begin Process" "sprogs" "Normal"
      "Name" "sprogs"
      "Combination Rule" "*"
      "Begin Action"
        "Variable" "sporprodrate"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
      "Begin Action"
        "Variable" "lesa"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
      "Begin Action"
        "Variable" "LesionLimiter"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
    "End Process"
    "Begin Process" "LesionLimiter" "Normal"
      "Name" "LesionLimiter"
      "Combination Rule" "if([r1]<1,1)+if([r1]<[r2],1)*if(not([r2]<1),1)"
      "Begin Action"
        "Variable" "Chronological Age"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
      "Begin Action"
        "Variable" "lesionLifeTime"
        "Function Type" "Direct" "" "" "0" "1"
      "End Action"
    "End Process"
    "Begin Process" "Residual Fecundity" "Normal"
      "Name" "Fecundity"
      "Combination Rule" "+"
      "Begin Parameter"
        "Name" "Spore Fecundity"
        "Value" "0" "600000000" "30000000"
        "Begin Comment"
        the biggest number we can handle
        an inexhaustible supply
        "End Comment"
      "End Parameter"
    "End Process"
      "Begin Process" "Progeny Production" "Normal"
      "Destination" "Spore"
        "Name" "Progeny Production"
        "Combination Rule" "*"
        "Begin Action"
          "Variable" "lesa"
          "Function Type" "Direct" "" "" "0" "1"
        "End Action"
        "Begin Action"
          "Name" "spore_rate"
          "Variable" "sporprodrate"
          "Function Type" "Direct" "" "" "0" "1"
        "End Action"
        "Begin Action"
          "Variable" "LesionLimiter"
          "Function Type" "Direct" "" "" "0" "1"
        "End Action"
      "End Process"
    "Begin Output"
      "Name" "Lesion: Total Number"
      "Output Type" "Number"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Average Physiological Age"
      "Output Type" "Physiological Age"
      "OpCode" "Average"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Total lesa"
      "Output Type" "lesa"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Total sprogs"
      "Output Type" "sprogs"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Average LesionLimiter"
      "Output Type" "LesionLimiter"
      "OpCode" "Average"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Total Stage Mortality"
      "Output Type" "Stage Mortality"
      "OpCode" "Total"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Recruitment via Stage Transfer"
      "Output Type" "Recruits"
      "OpCode" "Stage Transfer"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Total Graduates"
      "Output Type" "Transfer"
      "OpCode" "All"
    "End Output"
    "Begin Output"
      "Name" "Lesion: Progeny Production"
      "Output Type" "Progeny Production"
    "End Output"
  "End Lifestage"

  "Begin Stagelink"
    "Connect" "Lesion" "Spore"
  "End Stagelink"

  "Input" "Day Of Year"
  "Input" "Simulation Date"
"End Variable Manager"

"Begin Variable Manager" "Equation"
  "Name" "new lai"
  "Equation" "[x1]-(([x3]*[x2])/100^2)"
  "On Error" "Terminate"
  "Input" "lai"
  "Input" "dlt_lesa"
  "Input" "CropDen"
  "Begin Output"
    "Name" "New_LAI"
  "End Output"
"End Variable Manager"


"End Model"
