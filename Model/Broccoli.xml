<Type version="27" name="broccoli">
  <MetaData>
    <UItype>VBUserInterface.EmptyUI</UItype>
    <IsCrop>Yes</IsCrop>
    <ShowInMainTree>Yes</ShowInMainTree>
    <Image>%apsim%\UserInterface\Images\broccoli.jpg</Image>
    <Description>NOTE: Prototype only.  This module is not to be used in model applications.  Most APSIM crop or plant modules do not require extra user input.  Crop specific parameters are either provided for your chosen soil, or are captured as part of the standard model validation process.</Description>
    <Documentation name="Generic plant documentation">%apsim%\Documentation\4 Module Reference\Plant.htm</Documentation>
    <LargeIcon>%apsim%\UserInterface\Images\leaf32.bmp</LargeIcon>
    <SmallIcon>%apsim%\UserInterface\Images\leaf16.bmp</SmallIcon>
    <dll>%apsim%\Model\Plant2.dll</dll>
    <drops>
      <drop>toolbox</drop>
      <drop>area</drop>
      <drop>simulation</drop>
      <drop>folder</drop>
    </drops>
    <ApsimToSim>
      <component name="[InstanceName]" executable="[dll]">
        <executable name="[dll]" version="1.0" />
        <componentinterface>%apsim%\Model\dotnetcomponentinterface.dll</componentinterface>
        <initdata>
               [Model]
               <ll>[soil.[InstanceName] ll(mm/mm)]</ll><kl>[soil.[InstanceName] kl(/day)]</kl><xf>[soil.[InstanceName] xf(0-1)]</xf></initdata>
      </component>
    </ApsimToSim>
  </MetaData>
  <Model>
    <Cultivar name="greenbelt">
      <Construct>Plant</Construct>
    </Cultivar>
    <Cultivar name="Aurora">
      <Construct>Plant</Construct>
      <Override name="Phenology.Shock.Target">
        <Value>120</Value>
      </Override>
      <Override name="Phenology.Juvenile.Target">
        <XYPairs>
          <XY> 0 190</XY>
          <XY> 30  0</XY>
        </XYPairs>
      </Override>
      <Override name="Phenology.Heading.Target">
        <Value>280</Value>
      </Override>
    </Cultivar>
    <Plant>
      <CropType>broccoli</CropType>
      <Population>
        <Value>4</Value>
      </Population>
      <AnnualPlantArbitrator name="Arbitrator">
        <Constant name="DMSink">
          <Value>Stem</Value>
        </Constant>
        <Constant name="NSink">
          <Value>Stem</Value>
        </Constant>
      </AnnualPlantArbitrator>
      <Phenology>
        <Vernalisation>
          <StartStage>EndShock</StartStage>
          <EndStage>FloralInitiation</EndStage>
          <TemperatureFunction name="VDModel">
            <XYPairs>
              <XY> 0 0.0</XY>
              <XY> 2 1.0</XY>
              <XY>15 0.0</XY>
            </XYPairs>
          </TemperatureFunction>
        </Vernalisation>
        <TemperatureFunction name="ThermalTime">
          <XYPairs>
            <XY> 5 0.0</XY>
            <XY>25 20.0</XY>
            <XY>35 0.0</XY>
          </XYPairs>
        </TemperatureFunction>
        <GenericPhase name="Shock">
          <Start>Transplanting</Start>
          <End>EndShock</End>
          <Constant name="Target">
            <Value>80</Value>
          </Constant>
          <TemperatureFunction shortcut="/broccoli/Model/Plant/Phenology/ThermalTime" />
        </GenericPhase>
        <GenericPhase name="Juvenile">
          <Start>EndShock</Start>
          <End>FloralInitiation</End>
          <LinearInterpolationFunction name="Target">
            <XProperty>Phenology.Vernalisation.CumulativeVD</XProperty>
            <XYPairs>
              <XY> 0 350</XY>
              <XY> 30  0</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <TemperatureFunction shortcut="/broccoli/Model/Plant/Phenology/ThermalTime" />
        </GenericPhase>
        <LeafAppearancePhase name="Vegetative">
          <Start type="text" description="Start">FloralInitiation</Start>
          <End type="text" description="End">StartBudding</End>
          <RemainingLeaves type="text" description="RemainingLeaves">22</RemainingLeaves>
          <TemperatureFunction shortcut="/broccoli/Model/Plant/Phenology/ThermalTime" />
        </LeafAppearancePhase>
        <GenericPhase name="Budding">
          <Start>StartBudding</Start>
          <End>Buttoning</End>
          <Constant name="Target">
            <Value>120</Value>
          </Constant>
          <TemperatureFunction shortcut="/broccoli/Model/Plant/Phenology/ThermalTime" />
        </GenericPhase>
        <GenericPhase name="Heading">
          <Start>Buttoning</Start>
          <End>Maturity</End>
          <Constant name="Target">
            <Value>180</Value>
          </Constant>
          <TemperatureFunction shortcut="/broccoli/Model/Plant/Phenology/ThermalTime" />
        </GenericPhase>
        <EndPhase name="Mature">
          <Start>Maturity</Start>
          <End>Unused</End>
          <TemperatureFunction shortcut="/broccoli/Model/Plant/Phenology/ThermalTime" />
        </EndPhase>
      </Phenology>
      <Leaf>
        <PrimaryBudNo>1</PrimaryBudNo>
        <MaxCover>1.0</MaxCover>
        <KDead>0.5</KDead>
        <MaxNodeNo>40</MaxNodeNo>
        <InitialAreas>200 1326 990 844 167</InitialAreas>
        <InitialAges>150 120 90 60 30</InitialAges>
        <InitialiseStage>Transplanting</InitialiseStage>
        <InitialLeafPrimordia>8</InitialLeafPrimordia>
        <FinalNodeNoEstimate type="text" description="FinalNodeNoEstimate">20</FinalNodeNoEstimate>
        <CompositeBiomass name="Live">
           <Property>Leaf.Leaves[].Live</Property>
        </CompositeBiomass>
        <CompositeBiomass name="Dead">
           <Property>Leaf.Leaves[].Dead</Property>
        </CompositeBiomass>
        <LinearInterpolationFunction name="FrostFraction">
          <XProperty>Leaf.MinT</XProperty>
          <XYPairs>
            <XY>-1 0.0</XY>
            <XY>0 0.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="ExtinctionCoeff">
          <XProperty>Leaf.LAI</XProperty>
          <XYPairs>
            <XY> 0 0.8</XY>
            <XY> 0.8 0.5</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="Height">
          <XProperty>Stem.Live.Wt</XProperty>
          <XYPairs>
            <XY> 0 100.0</XY>
            <XY>300 750.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <RUEModel name="Photosynthesis">
          <Constant name="RUE">
            <Value type="text" description="Value">1.7</Value>
          </Constant>
          <WeightedTemperatureFunction name="FT">
            <MaximumTemperatureWeighting>0.75</MaximumTemperatureWeighting>
            <XYPairs>
              <XY> 0 0.0</XY>
              <XY>10 1.0</XY>
              <XY>22 1.0</XY>
              <XY>35 0.0</XY>
            </XYPairs>
          </WeightedTemperatureFunction>
          <LinearInterpolationFunction name="FVPD">
            <XProperty type="text" description="XProperty">Leaf.Photosynthesis.VPD</XProperty>
            <XYPairs>
              <XY> 0 1.0</XY>
              <XY>10 1.0</XY>
              <XY>50 1.0</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <LinearInterpolationFunction name="FN">
            <XProperty type="text" description="XProperty">Leaf.Fn</XProperty>
            <XYPairs>
              <XY>0 0</XY>
              <XY>1 1</XY>
              <XY>1.5 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <LinearInterpolationFunction name="FW">
            <XProperty type="text" description="XProperty">Leaf.Fw</XProperty>
            <XYPairs>
              <XY>0 0</XY>
              <XY>1 1</XY>
              <XY>1.5 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <RUECO2Function name="Fco2">
          	 <PhotosyntheticPathway>C3</PhotosyntheticPathway>
          </RUECO2Function>

        </RUEModel>
        <PhaseLookup name="PartitionFraction">
          <PhaseLookupValue name="Early">
            <Start>Transplanting</Start>
            <End>FloralInitiation</End>
            <Constant name="Function">
              <Value>0.64</Value>
            </Constant>
          </PhaseLookupValue>
          <PhaseLookupValue name="Middle">
            <Start>FloralInitiation</Start>
            <End>Buttoning</End>
            <Constant name="Function">
              <Value>0.40</Value>
            </Constant>
          </PhaseLookupValue>
          <PhaseLookupValue name="Late">
            <Start>Buttoning</Start>
            <End>Maturity</End>
            <Constant name="Function">
              <Value>0.18</Value>
            </Constant>
          </PhaseLookupValue>
        </PhaseLookup>
        <TemperatureFunction name="ThermalTime">
          <XYPairs>
            <XY> 5 0.0</XY>
            <XY>25 20.0</XY>
            <XY>35 0.0</XY>
          </XYPairs>
        </TemperatureFunction>
        <PhaseLookupValue name="NodeInitiationRate">
          <Start>Transplanting</Start>
          <End>FloralInitiation</End>
          <Constant name="Function">
            <Value>15.0</Value>
          </Constant>
        </PhaseLookupValue>
        <PhaseLookupValue name="NodeAppearanceRate">
          <Start>EndShock</Start>
          <End>Maturity</End>
          <LinearInterpolationFunction name="Function">
            <XProperty>Leaf.NodeNo</XProperty>
            <XYPairs>
              <XY> 1 30</XY>
              <XY> 5 30</XY>
              <XY> 6 30</XY>
              <XY>30 30</XY>
            </XYPairs>
          </LinearInterpolationFunction>
        </PhaseLookupValue>
        <LinearInterpolationFunction name="ExpansionStress">
          <XProperty>WaterSupplyDemandRatio</XProperty>
          <XYPairs>
            <XY> 0.0 0</XY>
            <XY> 1.0 1</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="MaxArea">
          <XProperty>Leaf.NodeNo</XProperty>
          <XYPairs>
            <XY> 1 200</XY>
            <XY> 2 1800.0</XY>
            <XY> 5 14700.0</XY>
            <XY>11 83000.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="SpecificLeafArea">
          <XProperty>Leaf.NodeNo</XProperty>
          <XYPairs>
            <XY> 1 16000.0</XY>
            <XY>30 16000.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="GrowthDuration">
          <XProperty>Leaf.NodeNo</XProperty>
          <XYPairs>
            <XY> 1  60.0 </XY>
            <XY> 4  210.0</XY>
            <XY> 16 450.0</XY>
            <XY> 30 900.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="LagDuration">
          <XProperty>Leaf.NodeNo</XProperty>
          <XYPairs>
            <XY> 1   50.0</XY>
            <XY> 5  100.0</XY>
            <XY> 11 250.0</XY>
            <XY> 15 250.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="SenescenceDuration">
          <XProperty>Leaf.NodeNo</XProperty>
          <XYPairs>
            <XY> 1  200.0</XY>
            <XY> 5  200.0</XY>
            <XY> 11 200.0</XY>
            <XY> 15 200.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="BranchingRate">
          <XProperty>Leaf.NodeNo</XProperty>
          <XYPairs>
            <XY> 5 0.0</XY>
            <XY>10 0.0</XY>
            <XY>15 0.2</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <Constant name="MaximumNConc">
          <Value>0.01</Value>
        </Constant>
        <Constant name="MinimumNConc">
          <Value>0.005</Value>
        </Constant>
        <Constant name="StructuralNConc">
          <Value>0.003</Value>
        </Constant>
        <Constant name="InitialNConc">
          <Value>0.03</Value>
        </Constant>
      </Leaf>
      <GenericOrgan name="Stem">
        <Biomass name="Live" />
        <Biomass name="Dead" />
        <PhaseLookup name="PartitionFraction">
          <PhaseLookupValue name="Early">
            <Start>Transplanting</Start>
            <End>FloralInitiation</End>
            <Constant name="Function">
              <Value>0.16</Value>
            </Constant>
          </PhaseLookupValue>
          <PhaseLookupValue name="Middle">
            <Start>FloralInitiation</Start>
            <End>Buttoning</End>
            <Constant name="Function">
              <Value>0.40</Value>
            </Constant>
          </PhaseLookupValue>
          <PhaseLookupValue name="Late">
            <Start>Buttoning</Start>
            <End>Maturity</End>
            <Constant name="Function">
              <Value>0.18</Value>
            </Constant>
          </PhaseLookupValue>
        </PhaseLookup>
        <Constant name="StructuralFraction">
          <Value>1.0</Value>
        </Constant>
        <Constant name="StructuralNConc">
          <Value>0.003</Value>
        </Constant>
        <Constant name="MaximumNConc">
          <Value>0.01</Value>
        </Constant>
      </GenericOrgan>
      <Root>
        <ll>   0.29  0.29  0.29  0.29  0.3   0.31  0.32  0.33  0.34  0.35  0.36 </ll>
        <kl>   0.07  0.07  0.07  0.07  0.05  0.05  0.04  0.04  0.04  0.04  0.04 </kl>
        <xf>   1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00 </xf>
        <InitialWt>0.2</InitialWt>
        <SpecificRootLength>40000</SpecificRootLength>
        <KNO3>0.02</KNO3>
        <KNH4>0.0</KNH4>
        <LinearInterpolationFunction name="KLModifier">
          <XProperty>Leaf.LAI</XProperty>
          <XYPairs>
            <XY> 0.0 0.1</XY>
            <XY> 3.0 1.0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <Constant name="SoilWaterEffect">
          <Value>1.0</Value>
        </Constant>        
        <PhaseLookup name="RootFrontVelocity">
          <PhaseLookupValue name="Shock">
            <Start>Transplanting</Start>
            <End>EndShock</End>
            <Constant name="Function">
              <Value>0.0</Value>
            </Constant>
          </PhaseLookupValue>
          <PhaseLookupValue name="Active">
            <Start>EndShock</Start>
            <End>Maturity</End>
            <Constant name="Function">
              <Value>20.0</Value>
            </Constant>
          </PhaseLookupValue>
        </PhaseLookup>
        <Constant name="PartitionFraction">
          <Value>0.2</Value>
        </Constant>
        <TemperatureFunction name="TemperatureEffect">
          <XYPairs>
            <XY> 0 0.0</XY>
            <XY>20 1.0</XY>
            <XY>32 0.0</XY>
          </XYPairs>
        </TemperatureFunction>
        <Constant name="MaximumNConc">
          <Value>0.01</Value>
        </Constant>
        <Constant name="MaxDailyNUptake">
          <Value>6.0</Value>
        </Constant>
        <Constant name="SenescenceRate">
          <Value>0.0</Value>
        </Constant>
      </Root>
      <SimpleReproductiveOrgan name="Floret">
        <RipeStage>Maturity</RipeStage>
        <Biomass name="Live" />
        <Biomass name="Dead" />
        <PhaseLookup name="PartitionFraction">
          <PhaseLookupValue name="Early">
            <Start>Transplanting</Start>
            <End>Buttoning</End>
            <Constant name="Function">
              <Value>0.0</Value>
            </Constant>
          </PhaseLookupValue>
          <PhaseLookupValue name="HeadGrowth">
            <Start>Buttoning</Start>
            <End>Maturity</End>
            <Constant name="Function">
              <Value>0.65</Value>
            </Constant>
          </PhaseLookupValue>
        </PhaseLookup>
        <Constant name="StructuralFraction">
          <Value>1.0</Value>
        </Constant>
      </SimpleReproductiveOrgan>
      <StageBasedInterpolation name="StageCode">
        <Stages>Transplanting EndShock FloralInitiation StartBudding  Buttoning Maturity</Stages>
        <Values>   1               2              3            4           5      6</Values>
      </StageBasedInterpolation>
      <Summary />
      <CompositeBiomass name="AboveGround">
          <Property>Organs[AboveGround].Live Organs[AboveGround].Dead</Property>
      </CompositeBiomass>      
      <CompositeBiomass name="BelowGround">
          <Property>Organs[BelowGround].Live Organs[BelowGround].Dead</Property>
      </CompositeBiomass>        
      <CompositeBiomass name="Total">
          <Property>Organs[].Live Organs[].Dead</Property>
      </CompositeBiomass>  
      <CompositeBiomass name="TotalLive">
          <Property>Organs[].Live</Property>
      </CompositeBiomass>       
      <CompositeBiomass name="TotalDead">
          <Property>Organs[].Dead</Property>
      </CompositeBiomass>  
    </Plant>
  </Model>
</Type>