<Type version="31" name="Barley2">
  <MetaData>
    <UItype type="text" description="UItype">CSUserInterface.EmptyUI</UItype>
    <IsCrop type="text" description="IsCrop">Yes</IsCrop>
    <ShowInMainTree type="text" description="ShowInMainTree">Yes</ShowInMainTree>
    <Image type="text" description="Image">%apsim%\UserInterface\Images\barley.jpg</Image>
    <Description type="text" description="Description">Most APSIM crop or plant modules do not require extra user input.  Crop specific parameters are either provided for your chosen soil, or are captured as part of the standard model validation process. NOTE THIS MODULE IS A PROTOTYPE ONLY.</Description>
    <Documentation type="text" description="Documentation">%apsim%\Documentation\4 Module Reference\Potato.htm</Documentation>
    <Documentation type="text" description="Generic plant documentation">%apsim%\Documentation\4 Module Reference\Plant.htm</Documentation>
    <LargeIcon type="text" description="LargeIcon">%apsim%\UserInterface\Images\wheat32.png</LargeIcon>
    <SmallIcon type="text" description="SmallIcon">%apsim%\UserInterface\Images\wheat16.png</SmallIcon>
    <dll type="text" description="dll">%apsim%\Model\Plant2.dll</dll>
    <drops>
      <drop>toolbox</drop>
      <drop>area</drop>
      <drop>simulation</drop>
      <drop>folder</drop>
    </drops>
    <ApsimToSim>
      <component name="[InstanceName]" executable="[dll]" class="Plant2.Barley2">
        <executable name="[dll]" version="1.0" />
        <initdata>
               [Model]
               <ll>[soil.[InstanceName] ll]</ll><kl>[soil.[InstanceName] kl]</kl><xf>[soil.[InstanceName] xf]</xf></initdata>
      </component>
    </ApsimToSim>
  </MetaData>
  <Model>
    <Plant>
      <CropType type="text" description="CropType">Barley</CropType>
      <Population />
      <Arbitrator>
        <ArbitrationOption type="text" description="ArbitrationOption">PrioritythenRelativeAllocation</ArbitrationOption>
        <Memo> This arbitrator uses paritioning rules based on the SIRUS type models.
               1) it allocates N and DM along a hirachy of priorities
               2) it allocates potential DM then allocates N then limits DM below potential if there is insufficient N to meet Min N content
               3) it reallocates N from senessing leaves before taking N up from the soil, then takes N up from the soil then retranslocates to meet further demand			   
        </Memo>
      </Arbitrator>
      <Phenology>
        <MultiplyFunction name="ThermalTime">
          <PhaseLookup>
            <PhaseLookupValue name="SoilTemperature">
              <Start type="text" description="Start">Sowing</Start>
              <End type="text" description="End">FloralInitiation</End>
              <SoilTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </SoilTemperatureFunction>
            </PhaseLookupValue>
            <PhaseLookupValue name="AirTemperature">
              <Start type="text" description="Start">FloralInitiation</Start>
              <End type="text" description="End">HarvestRipe</End>
              <AirTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </AirTemperatureFunction>
            </PhaseLookupValue>
          </PhaseLookup>
          <AddFunction name="DroughtPhenologyAcelleration">
            <Memo>Sum the values of the children of this node</Memo>
            <Constant name="One">
              <Value type="text" description="Value">1</Value>
            </Constant>
            <MultiplyFunction name="Stress">
              <Memo>Multiplies the values of the children of this node</Memo>
              <Constant name="StressResponseCoefficient">
                <Value type="text" description="Value">2</Value>
              </Constant>
              <LinearInterpolationFunction name="StressFactor">
                <XProperty>WaterSupplyDemandRatio</XProperty>
                <XYPairs>
                  <XY>0 0.5</XY>
                  <XY>1 0</XY>
                </XYPairs>
              </LinearInterpolationFunction>
            </MultiplyFunction>
          </AddFunction>
        </MultiplyFunction>
        <VernalisationSIRIUS>
          <VernalisationType type="text" description="VernalisationType">0</VernalisationType>
          <PhaseLookup name="Vernalisation">
            <PhaseLookupValue name="SoilTemperature">
              <Start type="text" description="Start">Sowing</Start>
              <End type="text" description="End">FloralInitiation</End>
              <SoilTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0.012</XY>
                  <XY>11 0.0307</XY>
                  <XY>15 0</XY>
                </XYPairs>
              </SoilTemperatureFunction>
            </PhaseLookupValue>
            <PhaseLookupValue name="AirTemperature">
              <Start type="text" description="Start">FloralInitiation</Start>
              <End type="text" description="End">HarvestRipe</End>
              <AirTemperatureFunction name="ThermalTime">
                <XYPairs shortcut="/Barley2/Model/Plant/Phenology/VernalisationSIRIUS/Vernalisation/SoilTemperature/ThermalTime/XYPairs" />
              </AirTemperatureFunction>
            </PhaseLookupValue>
          </PhaseLookup>
        </VernalisationSIRIUS>
        <GerminatingPhase name="Germinating">
          <Start>Sowing</Start>
          <End>Germination</End>
        </GerminatingPhase>
        <EmergingPhase name="Emerging">
          <Start type="text" description="Start">Germination</Start>
          <End type="text" description="End">Emergence</End>
          <ShootLag type="text" description="Time lag before linear coleoptile growth starts">40.0</ShootLag>
          <ShootRate type="text" description="Growing deg day increase with depth for coleoptile">4</ShootRate>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
        </EmergingPhase>
        <FacultativeVernalisationPhase name="Inductive">
          <Start>Emergence</Start>
          <End>FloralInitiation</End>
          <Constant name="Target">
            <Value>1.0</Value>
          </Constant>
          <MultiplyFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime">
            <PhaseLookup shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup">
              <PhaseLookupValue name="SoilTemperature" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/SoilTemperature">
                <SoilTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/SoilTemperature/ThermalTime">
                  <XYPairs shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/SoilTemperature/ThermalTime/XYPairs" />
                </SoilTemperatureFunction>
              </PhaseLookupValue>
              <PhaseLookupValue name="AirTemperature" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/AirTemperature">
                <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/AirTemperature/ThermalTime">
                  <XYPairs shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/AirTemperature/ThermalTime/XYPairs" />
                </AirTemperatureFunction>
              </PhaseLookupValue>
            </PhaseLookup>
            <AddFunction name="DroughtPhenologyAcelleration" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration">
              <Memo shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Memo" />
              <Constant name="One" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/One" />
              <MultiplyFunction name="Stress" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress">
                <Memo shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/Memo" />
                <Constant name="StressResponseCoefficient" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressResponseCoefficient" />
                <LinearInterpolationFunction name="StressFactor" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressFactor">
                  <XYPairs shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressFactor/XYPairs" />
                </LinearInterpolationFunction>
              </MultiplyFunction>
            </AddFunction>
          </MultiplyFunction>
        </FacultativeVernalisationPhase>
        <LeafAppearancePhase name="FloralInitiationToFlagLeaf">
          <Start>FloralInitiation</Start>
          <End>FlagLeaf</End>
          <RemainingLeaves type="text" description="RemainingLeaves">0</RemainingLeaves>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
        </LeafAppearancePhase>
        <GenericPhase name="FlagLeafToFlowering">
          <Start>FlagLeaf</Start>
          <End>Flowering</End>
          <Constant name="Target">
            <Value type="text" description="Value">120</Value>
          </Constant>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
          <GenericPhase name="FlagLeafToFlowering">
            <Start>FlagLeaf</Start>
            <End>Flowering</End>
            <Constant name="Target">
              <Value type="text" description="Value">120</Value>
            </Constant>
            <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
          </GenericPhase>
        </GenericPhase>
        <GenericPhase name="FloweringToGrainFilling">
          <Start>Flowering</Start>
          <End>StartGrainFill</End>
          <Constant name="Target">
            <Value type="text" description="Value">0</Value>
          </Constant>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime">
            <XYPairs />
            <AddFunction name="DroughtPhenologyAcelleration" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration">
              <Memo shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Memo" />
              <Constant name="One" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/One" />
              <MultiplyFunction name="Stress" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress">
                <Memo shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/Memo" />
                <Constant name="StressResponseCoefficient" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressResponseCoefficient" />
                <LinearInterpolationFunction name="StressFactor" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressFactor">
                  <XYPairs shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressFactor/XYPairs" />
                </LinearInterpolationFunction>
              </MultiplyFunction>
            </AddFunction>
          </AirTemperatureFunction>
        </GenericPhase>
        <GenericPhase name="GrainFilling">
          <Start>StartGrainFill</Start>
          <End>EndGrainFill</End>
          <Constant name="Target">
            <Value type="text" description="Value">650</Value>
          </Constant>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
        </GenericPhase>
        <GenericPhase name="Maturing">
          <Start>EndGrainFill</Start>
          <End>Maturity</End>
          <Constant name="Target">
            <Value>36</Value>
          </Constant>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
        </GenericPhase>
        <GenericPhase name="MaturityToHarvestRipe">
          <Start>Maturity</Start>
          <End>HarvestRipe</End>
          <Constant name="Target">
            <Value type="text" description="Value">600</Value>
          </Constant>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
        </GenericPhase>
        <EndPhase name="ReadyForHarvesting">
          <Start>HarvestRipe</Start>
          <End>Unused</End>
          <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
        </EndPhase>
      </Phenology>
      <Structure>
        <InitialiseStage type="text" description="InitialiseStage">Emergence</InitialiseStage>
        <PrimaryBudNo type="text" description="PrimaryBudNo">1</PrimaryBudNo>
        <PhaseLookup name="MainStemPrimordiaInitiationRate">
          <PhaseLookupValue name="MainStemPrimordiaInitiationRate">
            <Start type="text" description="Start">Emergence</Start>
            <End type="text" description="End">FlagLeaf</End>
            <DivideFunction name="NodeInitiationRateFunction">
              <Memo>Starting with the first child value of this node, recursively divide by the values of the subsequent child values </Memo>
              <VariableReference name="Phyllochron">
                <VariableName type="text" description="Variable Name">Structure.MainStemNodeAppearanceRate.BasePhyllochron.Value</VariableName>
                <Memo>Returns the value of a nominated internal Plant2 numerical variable
                 </Memo>
              </VariableReference>
              <Constant name="PrimordiaPerMainstemNode">
                <Value type="text" description="Value">2</Value>
              </Constant>
            </DivideFunction>
          </PhaseLookupValue>
        </PhaseLookup>
        <MultiplyFunction name="MainStemNodeAppearanceRate">
          <Memo>Multiplies the values of the children of this node</Memo>
          <LinearInterpolationFunction name="LeafStageFactor">
            <XProperty type="text" description="XProperty">Structure.MainStemNodeNo</XProperty>
            <XYPairs>
              <XY>0 0.75</XY>
              <XY>1.9999 1</XY>
              <XY>7.999 1</XY>
              <XY>8 1.3</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <Constant name="BasePhyllochron">
            <Value type="text" description="Value">95</Value>
          </Constant>
        </MultiplyFunction>
        <CerealFinalNodeNumber name="MainStemFinalNodeNumber">
          <PhotoperiodSensitivity type="text" description="Number of additional leaves added per hour reduction in photoperiod">.4</PhotoperiodSensitivity>
          <SaturationPhotoperiod type="text" description="Photoperiod that minimises leaf number">16</SaturationPhotoperiod>
          <MaximumMainStemNodeNumber type="text" description="Maximum mainstem node number">26</MaximumMainStemNodeNumber>
          <MinimumMainStemNodeNumber type="text" description="Minimum mainstem node number">7</MinimumMainStemNodeNumber>
          <PhotoperiodFunction name="Photoperiod">
            <Twilight type="text" description="Twilight">-6</Twilight>
          </PhotoperiodFunction>
          <Memo> 
			This Function calculates the final mainstem leaf number using the approaches outlined by Jamieson and Brooking and implemented in the SIRIUS wheat model.
			Note:  This function is dependent on the FacultativeVernalisationPhase
			It works something like this:  
			- The crop will not comitt to a final leaf number until the crop complets its juvinle phase.  Juvinalisy ends in 3 ways.
			   1. Spring crop types are "borne" vernalised and end their juvinle phase at leaf number 3.
			   2. Winter crop types will end their juvinle phase when their vernalisation requirement is fully saturated.
			   3. Winter crop types may also end their juvenile phase when the number of primordia accumulated exceeds the attainable leaf number which starts at a maximum and decreases as the crop progresses toward saturation of its vernalisation requirement.  Thus a crop will eventually end its juvinele phase even if it is not vernalised and partial vernalisation will shorten this phase.
		    - Once the Juvenile phase is complete the final leaf number responds to photo period with shorter photoperiods increasing leaf number.  
			- Final leaf number will change daily in response to photoperiod until primordia number equals the final leaf number + 4.  At this point final leaf number is fixed and will not change.
			</Memo>
        </CerealFinalNodeNumber>
        <HeightFunction name="Height">
          <Memo> 
			This Function takes potential height increment for the day from the PotentialHeight function then multiplies it by the smallest of any other childern (stress) functions and returns this number
		</Memo>
          <LinearInterpolationFunction name="PotentialHeight">
            <XProperty>StageCode.Value</XProperty>
            <XYPairs>
              <XY>3 20</XY>
              <XY>4.2 100</XY>
              <XY>5 1100</XY>
              <XY>6 1200</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <LinearInterpolationFunction name="WaterStress">
            <XProperty>WaterSupplyDemandRatio</XProperty>
            <XYPairs>
              <XY>0.3 0</XY>
              <XY>1 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
        </HeightFunction>
        <MultiplyFunction name="BranchingRate">
          <Memo>Multiplies the values of the children of this node</Memo>
          <LinearInterpolationFunction name="PotentialBranchingRate">
            <XProperty type="text" description="XProperty">Leaf.AppearedCohortNo</XProperty>
            <XYPairs>
              <XY>3 0</XY>
              <XY>4 1</XY>
              <XY>7 1</XY>
              <XY>8 0</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <LinearInterpolationFunction name="WaterStress">
            <XProperty>WaterSupplyDemandRatio</XProperty>
            <XYPairs>
              <XY>0 0</XY>
              <XY>1 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
        </MultiplyFunction>
        <PhaseLookup name="ShadeInducedBranchMortality">
          <PhaseLookupValue>
            <Start type="text" description="Start">Emergence</Start>
            <End type="text" description="End">StartGrainFill</End>
            <LinearInterpolationFunction name="ShadeInducedBranchMortality">
              <XProperty type="text" description="XProperty">Leaf.CoverGreen</XProperty>
              <XYPairs>
                <XY>0 0</XY>
                <XY>0.98 0</XY>
                <XY>0.99 0.04</XY>
                <XY>1 0.04</XY>
              </XYPairs>
            </LinearInterpolationFunction>
          </PhaseLookupValue>
        </PhaseLookup>
        <PhaseLookup name="DroughtInducedBranchMortality">
          <PhaseLookupValue>
            <Start type="text" description="Start">Emergence</Start>
            <End type="text" description="End">EndGrainFill</End>
            <LinearInterpolationFunction name="DroughtInducedBranchMortality">
              <XProperty type="text" description="XProperty">WaterSupplyDemandRatio</XProperty>
              <XYPairs>
                <XY>0.1 0.1</XY>
                <XY>0.6 0</XY>
              </XYPairs>
            </LinearInterpolationFunction>
          </PhaseLookupValue>
        </PhaseLookup>
        <MultiplyFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime">
          <PhaseLookup shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup">
            <PhaseLookupValue name="SoilTemperature" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/SoilTemperature">
              <SoilTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/SoilTemperature/ThermalTime">
                <XYPairs shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/SoilTemperature/ThermalTime/XYPairs" />
              </SoilTemperatureFunction>
            </PhaseLookupValue>
            <PhaseLookupValue name="AirTemperature" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/AirTemperature">
              <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/AirTemperature/ThermalTime">
                <XYPairs shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/PhaseLookup/AirTemperature/ThermalTime/XYPairs" />
              </AirTemperatureFunction>
            </PhaseLookupValue>
          </PhaseLookup>
          <AddFunction name="DroughtPhenologyAcelleration" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration">
            <Memo shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Memo" />
            <Constant name="One" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/One" />
            <MultiplyFunction name="Stress" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress">
              <Memo shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/Memo" />
              <Constant name="StressResponseCoefficient" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressResponseCoefficient" />
              <LinearInterpolationFunction name="StressFactor" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressFactor">
                <XYPairs shortcut="/Barley2/Model/Plant/Phenology/ThermalTime/DroughtPhenologyAcelleration/Stress/StressFactor/XYPairs" />
              </LinearInterpolationFunction>
            </MultiplyFunction>
          </AddFunction>
        </MultiplyFunction>
      </Structure>
      <ReproductiveOrgan name="Grain">
        <MaximumSize type="text" description="MaximumSize">0.042</MaximumSize>
        <RipeStage type="text" description="RipeStage">Ripe</RipeStage>
        <Biomass name="Live" />
        <Biomass name="Dead" />
        <Constant name="MaxNConcDailyGrowth">
          <Value>0.03</Value>
        </Constant>
        <Constant name="WaterContent">
          <Value>0.12</Value>
        </Constant>
        <StageBasedInterpolation name="MinimumNConc">
          <Stages type="text" description="Stages">Germination Emergence FloralInitiation FlagLeaf Flowering StartGrainFill EndGrainFill Maturity HarvestRipe</Stages>
          <Values type="text" description="Values">0.006           0.006          0.006             0.006      0.006       0.006            0.006          0.006    0.006</Values>
        </StageBasedInterpolation>
        <StageBasedInterpolation name="MaximumNConc">
          <Stages type="text" description="Stages">Germination Emergence FloralInitiation FlagLeaf Flowering StartGrainFill EndGrainFill Maturity HarvestRipe</Stages>
          <Values type="text" description="Values">0.022           0.022          0.022             0.022      0.022       0.022            0.022          0.022    0.022</Values>
        </StageBasedInterpolation>
        <PhaseLookup name="FillingRate">
          <PhaseLookupValue name="EarlyGrainGrowth">
            <Start>Flowering</Start>
            <End>StartGrainFill</End>
            <AirTemperatureFunction name="Function">
              <XYPairs>
                <XY>0 0</XY>
                <XY>26 0.001</XY>
                <XY>30 0.001</XY>
                <XY>35 0.001</XY>
              </XYPairs>
            </AirTemperatureFunction>
          </PhaseLookupValue>
          <PhaseLookupValue name="LateGrainGrowth">
            <Start>StartGrainFill</Start>
            <End>Maturity</End>
            <AirTemperatureFunction name="Function">
              <XYPairs>
                <XY>0 0.0</XY>
                <XY>26 0.002</XY>
                <XY>30 0.002</XY>
                <XY>35 0.002</XY>
              </XYPairs>
            </AirTemperatureFunction>
          </PhaseLookupValue>
        </PhaseLookup>
        <PhaseLookup name="NFillingRate">
          <PhaseLookupValue name="EarlyGrainGrowth">
            <Start>Flowering</Start>
            <End>Maturity</End>
            <AirTemperatureFunction name="Function">
              <XYPairs>
                <XY>0 0</XY>
                <XY>25 5.5E-05</XY>
                <XY>30 5.5E-05</XY>
                <XY>35 5.5E-05</XY>
              </XYPairs>
            </AirTemperatureFunction>
          </PhaseLookupValue>
        </PhaseLookup>
        <PhaseBasedSwitch name="NitrogenDemandSwitch">
          <Start type="text" description="Start">Germination</Start>
          <End type="text" description="End">Maturity</End>
          <Memo>Returns a value of 1 if crop is between start and finish stages and zero if not.  
		Applied in model code but can not be nested with other functions.
        </Memo>
        </PhaseBasedSwitch>
        <MultiplyFunction>
          <Memo>Multiplies the values of the children of this node</Memo>
          <Constant name="PanicalPerStem">
            <Value type="text" description="Value">0.83</Value>
          </Constant>
          <Constant name="SpikletPerPanical">
            <Value type="text" description="Value">25</Value>
          </Constant>
          <Constant name="GrainPerSpiklet">
            <Value type="text" description="Value">2</Value>
          </Constant>
        </MultiplyFunction>
        <OnEventFunction name="NumberFunction">
          <SetEvent type="text" description="SetEvent">Flowering</SetEvent>
          <ReSetEvent type="text" description="ReSetEvent">never</ReSetEvent>
          <Constant name="PreEventValue">
            <Value type="text" description="Value">0</Value>
          </Constant>
          <LinearInterpolationFunction name="PostEventValue">
            <XProperty type="text" description="XProperty">StemLive.Wt</XProperty>
            <XYPairs>
              <XY>0 0</XY>
              <XY>1000 40000</XY>
            </XYPairs>
          </LinearInterpolationFunction>
        </OnEventFunction>
      </ReproductiveOrgan>
      <Root>
        <ll type="text" description="ll">   0.29  0.29  0.29  0.29  0.3   0.31  0.32  0.33  0.34  0.35  0.36 </ll>
        <kl type="text" description="kl">   0.07  0.07  0.07  0.07  0.05  0.05  0.04  0.04  0.04  0.04  0.04 </kl>
        <xf type="text" description="xf">   1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00  1.00 </xf>
        <InitialDM type="text" description="InitialDM">0.2</InitialDM>
        <SpecificRootLength type="text" description="SpecificRootLength">40000</SpecificRootLength>
        <KNO3 type="text" description="KNO3">0.03</KNO3>
        <KNH4 type="text" description="KNH4">0.0</KNH4>
        <CompositeBiomass name="Live">
          <Property>Root.LayerLive[]</Property>
        </CompositeBiomass>
        <CompositeBiomass name="Dead">
          <Property>Root.LayerDead[]</Property>
        </CompositeBiomass>
        <LinearInterpolationFunction name="KLModifier">
          <XProperty>Leaf.LAI</XProperty>
          <XYPairs>
            <XY>0 1</XY>
            <XY>3 1</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <Constant name="SoilWaterEffect">
          <Value>1.0</Value>
        </Constant>
        <AirTemperatureFunction name="TemperatureEffect">
          <XYPairs>
            <XY>0 1</XY>
            <XY>26 1</XY>
            <XY>35 1</XY>
          </XYPairs>
        </AirTemperatureFunction>
        <Constant name="MaxDailyNUptake">
          <Value type="text" description="Value">20</Value>
        </Constant>
        <Constant name="SenescenceRate">
          <Value>0.0</Value>
        </Constant>
        <Constant name="StructuralFraction">
          <Value type="text" description="Value">1</Value>
        </Constant>
        <Constant name="MaximumNConc">
          <Value>0.01</Value>
        </Constant>
        <Constant name="MinimumNConc">
          <Value>0.01</Value>
        </Constant>
        <LinearInterpolationFunction name="PartitionFraction">
          <XProperty type="text" description="XProperty">StageCode.Value</XProperty>
          <XYPairs>
            <XY>0 0</XY>
            <XY>4.1 0.2</XY>
            <XY>5 0.1</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <PhaseLookup name="RootFrontVelocity">
          <PhaseLookupValue name="PreEmergence">
            <Start>Germination</Start>
            <End>Emergence</End>
            <Constant name="Function">
              <Value>5</Value>
            </Constant>
          </PhaseLookupValue>
          <PhaseLookupValue name="PostEmergence">
            <Start type="text" description="Start">Emergence</Start>
            <End type="text" description="End">Maturity</End>
            <Constant name="Function">
              <Value type="text" description="Value">30</Value>
            </Constant>
          </PhaseLookupValue>
        </PhaseLookup>
        <PhaseBasedSwitch name="NitrogenDemandSwitch">
          <Start type="text" description="Start">Germination</Start>
          <End type="text" description="End">Maturity</End>
          <Memo>Returns a value of 1 if crop is between start and finish stages and zero if not.  
		Applied in model code but can not be nested with other functions.
        </Memo>
        </PhaseBasedSwitch>
      </Root>
      <Leaf>
        <MaxCover type="text" description="MaxCover">1.0</MaxCover>
        <KDead type="text" description="KDead">.03</KDead>
        <LeafCohort name="InitialLeaves[1]">
          <Rank type="text" description="Rank">1</Rank>
          <Area type="text" description="Area">50</Area>
        </LeafCohort>
        <LeafCohort name="InitialLeaves[2]">
          <Rank type="text" description="Rank">2</Rank>
          <Area type="text" description="Area">0</Area>
        </LeafCohort>
        <LeafCohort name="InitialLeaves[3]">
          <Rank type="text" description="Rank">3</Rank>
          <Area type="text" description="Area">0</Area>
        </LeafCohort>
        <LeafCohort name="InitialLeaves[4]">
          <Rank type="text" description="Rank">4</Rank>
          <Area type="text" description="Area">0</Area>
        </LeafCohort>
        <CompositeBiomass name="Live">
          <Property>Leaf.Leaves[].Live</Property>
        </CompositeBiomass>
        <CompositeBiomass name="Dead">
          <Property>Leaf.Leaves[].Dead</Property>
        </CompositeBiomass>
        <CompositeBiomass name="Total">
          <Property>Leaf.Live</Property>
          <Property>Leaf.Dead</Property>
        </CompositeBiomass>
        <ArrayBiomass name="CohortLive">
          <ArraySize>Leaf.MaxNodeNo</ArraySize>
          <Property>Leaf.Leaves[].Live</Property>
        </ArrayBiomass>
        <ArrayBiomass name="CohortDead">
          <ArraySize>Leaf.MaxNodeNo</ArraySize>
          <Property>Leaf.Leaves[].Dead</Property>
        </ArrayBiomass>
        <RUEModel name="Photosynthesis">
          <Constant name="RUE">
            <Value type="text" description="Value">1.5</Value>
          </Constant>
          <WeightedTemperatureFunction name="FT">
            <MaximumTemperatureWeighting>0.75</MaximumTemperatureWeighting>
            <XYPairs>
              <XY>0 0</XY>
              <XY>10 1</XY>
              <XY>25 1</XY>
              <XY>35 0</XY>
            </XYPairs>
          </WeightedTemperatureFunction>
          <LinearInterpolationFunction name="FVPD">
            <XProperty type="text" description="XProperty">Leaf.Photosynthesis.VPD</XProperty>
            <XYPairs>
              <XY>0 1</XY>
              <XY>10 1</XY>
              <XY>50 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <LinearInterpolationFunction name="FN">
            <XProperty type="text" description="XProperty">Leaf.Fn</XProperty>
            <XYPairs>
              <XY>0 0</XY>
              <XY>1 1</XY>
              <XY>1.5 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <LinearInterpolationFunction name="FW">
            <XProperty type="text" description="XProperty">Leaf.Fw</XProperty>
            <XYPairs>
              <XY>0 0</XY>
              <XY>0.3 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <RUECO2Function name="Fco2">
            <PhotosyntheticPathway>C3</PhotosyntheticPathway>
          </RUECO2Function>
        </RUEModel>
        <Constant name="NReallocationFactor">
          <Value type="text" description="Value">.05</Value>
        </Constant>
        <Constant name="NRetranslocationFactor">
          <Value type="text" description="Value">0</Value>
        </Constant>
        <Constant name="DMRetranslocationFactor">
          <Value type="text" description="Value">.5</Value>
        </Constant>
        <MultiplyFunction name="ExtinctionCoeff">
          <Memo>Multiplies the values of the children of this node</Memo>
          <LinearInterpolationFunction name="PotentialExtinctionCoeff">
            <XProperty type="text" description="XProperty">Leaf.LAI</XProperty>
            <XYPairs>
              <XY>0 0.45</XY>
              <XY>0.45 0.55</XY>
            </XYPairs>
          </LinearInterpolationFunction>
          <LinearInterpolationFunction name="WaterStress">
            <XProperty>WaterSupplyDemandRatio</XProperty>
            <XYPairs>
              <XY>0 0.5</XY>
              <XY>0.7 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
        </MultiplyFunction>
        <LinearInterpolationFunction name="MaxArea">
          <XProperty type="text" description="XProperty">Structure.RelativeNodeApperance</XProperty>
          <XYPairs>
            <XY>0.1 300</XY>
            <XY>0.3 600</XY>
            <XY>0.68 2100</XY>
            <XY>1.1 0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="CellDivisionStress">
          <XProperty>WaterSupplyDemandRatio</XProperty>
          <XYPairs>
            <XY>0.9 0</XY>
            <XY>1 1</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="ExpansionStress">
          <XProperty>WaterSupplyDemandRatio</XProperty>
          <XYPairs>
            <XY>0.3 0</XY>
            <XY>1 1</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <MultiplyFunction name="GrowthDuration">
          <Memo>Multiplies the values of the children of this node</Memo>
          <VariableReference name="Phyllochron">
            <VariableName type="text" description="Variable Name">Structure.MainStemNodeAppearanceRate.BasePhyllochron.Value</VariableName>
            <Memo>Returns the value of a nominated internal Plant2 numerical variable
                 </Memo>
          </VariableReference>
          <LinearInterpolationFunction name="NumberOfExpandingLeaves">
            <XProperty type="text" description="XProperty">Structure.RelativeNodeApperance</XProperty>
            <XYPairs>
              <XY>0 2</XY>
              <XY>1 1</XY>
            </XYPairs>
          </LinearInterpolationFunction>
        </MultiplyFunction>
        <LinearInterpolationFunction name="LagDuration">
          <XProperty type="text" description="XProperty">Leaf.AppearedCohortNo</XProperty>
          <XYPairs>
            <XY>5 600</XY>
            <XY>7 1000</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <Constant name="xLagDuration">
          <Value type="text" description="Value">1000</Value>
        </Constant>
        <Constant name="SenescenceDuration">
          <Value type="text" description="Value">600</Value>
        </Constant>
        <Constant name="DetachmentLagDuration">
          <Value type="text" description="Value">1e6</Value>
        </Constant>
        <Constant name="DetachmentDuration">
          <Value type="text" description="Value">1e6</Value>
        </Constant>
        <LinearInterpolationFunction name="ySenescenceDuration">
          <XProperty type="text" description="XProperty">Leaf.AppearedCohortNo</XProperty>
          <XYPairs>
            <XY>5 100</XY>
            <XY>6 600</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <Constant name="RelativeBranchLeafSize">
          <Value type="text" description="Value">1</Value>
        </Constant>
        <Constant name="MaximumNConc">
          <Value type="text" description="Value">.063</Value>
        </Constant>
        <Constant name="CriticalNConc">
          <Value type="text" description="Value">.05</Value>
        </Constant>
        <Constant name="MinimumNConc">
          <Value type="text" description="Value">.01</Value>
        </Constant>
        <AddFunction name="DroughtInducedSenAcceleration">
          <Memo>Sum the values of the children of this node</Memo>
          <Constant name="One">
            <Value type="text" description="Value">1</Value>
          </Constant>
          <MultiplyFunction name="Stress">
            <Memo>Multiplies the values of the children of this node</Memo>
            <Constant name="StressResponseCoefficient">
              <Value type="text" description="Value">1</Value>
            </Constant>
            <LinearInterpolationFunction name="StressFactor">
              <XProperty>WaterSupplyDemandRatio</XProperty>
              <XYPairs>
                <XY>0 1</XY>
                <XY>0.7 0</XY>
              </XYPairs>
            </LinearInterpolationFunction>
          </MultiplyFunction>
        </AddFunction>
        <LinearInterpolationFunction name="SpecificLeafAreaMax">
          <XProperty>Structure.MainStemNodeNo</XProperty>
          <XYPairs>
            <XY>1 45000</XY>
            <XY>9 40000</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="SpecificLeafAreaMin">
          <XProperty>Structure.MainStemNodeNo</XProperty>
          <XYPairs>
            <XY>1 30000</XY>
            <XY>9 25000</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <Constant name="StructuralFraction">
          <Value type="text" description="Value">.7</Value>
        </Constant>
        <Constant name="NonStructuralFraction">
          <Value type="text" description="Value">0</Value>
        </Constant>
        <LinearInterpolationFunction name="FrostFraction">
          <XProperty>.Met.MinT</XProperty>
          <XYPairs>
            <XY>-1 0</XY>
            <XY>0 0</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <LinearInterpolationFunction name="ShadeInducedSenescenceRate">
          <XProperty type="text" description="XProperty">Leaf.Leaves[Leaf.CurrentRank].CoverAbove</XProperty>
          <XYPairs>
            <XY>0 0</XY>
            <XY>0.7 0</XY>
            <XY>0.8 0.01</XY>
            <XY>0.96 0.02</XY>
            <XY>0.99 0.03</XY>
          </XYPairs>
        </LinearInterpolationFunction>
        <AirTemperatureFunction name="ThermalTime" shortcut="/Barley2/Model/Plant/Phenology/ThermalTime" />
        <Constant name="InitialNConc">
          <Value type="text" description="Value">0</Value>
        </Constant>
      </Leaf>
      <GenericAboveGroundOrgan name="Husk">
        <PopulationBasedDemandFunction name="DMDemandFunction">
          <StartStage type="text" description="StartStage">5.2</StartStage>
          <GrowthDuration type="text" description="GrowthDuration">120</GrowthDuration>
          <MaximumOrganWt type="text" description="MaximumOrganWt">.133</MaximumOrganWt>
          <PhaseLookup name="ThermalTime">
            <PhaseLookupValue name="SoilTemperature">
              <Start type="text" description="Start">Sowing</Start>
              <End type="text" description="End">FloralInitiation</End>
              <SoilTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </SoilTemperatureFunction>
            </PhaseLookupValue>
            <PhaseLookupValue name="AirTemperature">
              <Start type="text" description="Start">FloralInitiation</Start>
              <End type="text" description="End">HarvestRipe</End>
              <AirTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </AirTemperatureFunction>
            </PhaseLookupValue>
          </PhaseLookup>
          <Constant name="ExpansionStress">
            <Value>1</Value>
          </Constant>
        </PopulationBasedDemandFunction>
        <Memo>The generic organ has 6 optional paramaters.  If you wish to override the defaults values specified below drop a function onto this organ and name and set accordingly
1. SenescenceRate.  Default value is 0 which means the organ will not seness.  If senesence is required place a function on the organ named SenescenceRate.  It needs to be a number for 0 - 1 that represents the proportion of total biomass that is senessed each day.
2. NReallocationFactor.  Default value is 0 which means the organ will not allow any of its N to be reallocated as it senesses.  If reallocation of senessing N is required place a function on the organ named NReallocationFactor.  It needs to be a number from 0 - 1 that represents the proportion of senessing N that is available for reallocation
3. NRetranslocationFactor.  Default value is 0 which means none of the nonstructuralN in this organ is available for retranslocation.  If retranslocation is required place a function on the organ named NRetranslocationFactor. It needs to be a number from 0 -1 that represents the proportion of non-structural N that can be removed from an organ on any day.
4. NitrogenDemandSwitch.  Default value is 1 which means the organ always has a N demand if its N content is below maximum N conc.  If N demand needs to be switched off place a function on the organ named NitrogenDemandSwitch which returns a value of 1 when no demand is expressed.
5. DMRetranslocationFactor.  Default value is 0 which means the organ will not retranslocate NonStructural biomass.  If retranslocation is desired turn change this to a value between 0 - 1.  This represents the proportion of NonStructural biomass in the organ that can be retranslocated each day.
6. StructuralFraction.  Derault value is 1 which means all biomass partitioned to this organ is put into the structrual pool.  If you wish this organ to have NonStructural DM that can be retranslocated set this to a value lower than 1 (between 0 - 1). Also note that making structural fraction less then 1 may influence the biomass partitioning to this organ because biomass is only partitioned to NonStructural Pools after the DM demand from other pools has been met.
         </Memo>
        <Biomass name="Live" />
        <Biomass name="Dead" />
        <Constant name="NReallocationFactor">
          <Value type="text" description="Value">0</Value>
          <Memo>Controls the proportion of Non-Structural and senesing Metabolic N that may be Reallocated to other organs each day.  </Memo>
        </Constant>
        <Constant name="NRetranslocationFactor">
          <Value type="text" description="Value">0.1</Value>
          <Memo>sets the proportion of Non-Structural N that may be Remobilised to meet the demand of other organs each day.  A value of zero means the crop will favor maintaining the N concentration and photosynthetic capacity of its current leaf area (behaviour of crops such as potato and wheat).  Increasing this will enable the crop to grow and increased leaf area with diluted N concentration, favoring larger leaf area over the higher N concentration and photosynthetic capacity of leaves (behaviour of crops such as maize) </Memo>
        </Constant>
        <Constant name="MaximumNConc">
          <Value>0.01</Value>
          <Memo>This is the highest N concentration that the organ can achieve.  This sets the upper limit to N demand and includes essential and Luxury N demands.  Essential N demand is set by the MinimumNConc of the organ.  Luxary N Demand is N is set by Live.Wt * (MaximumNConc - MinimumNConc) and is N the organ may take up in surples to its growth requirements and store in its Non-Structural pool for reallocation -</Memo>
        </Constant>
        <Constant name="StructuralFraction">
          <Value type="text" description="Value">1.0</Value>
        </Constant>
        <Constant name="MinimumNConc">
          <Value>0.01</Value>
          <Memo>This is the highest N concentration that the organ can achieve.  This sets the upper limit to N demand and includes essential and Luxury N demands.  Essential N demand is set by the MinimumNConc of the organ.  Luxary N Demand is N is set by Live.Wt * (MaximumNConc - MinimumNConc) and is N the organ may take up in surples to its growth requirements and store in its Non-Structural pool for reallocation -</Memo>
        </Constant>
      </GenericAboveGroundOrgan>
      <GenericAboveGroundOrgan name="Rachis">
        <PopulationBasedDemandFunction name="DMDemandFunction">
          <StartStage type="text" description="StartStage">5</StartStage>
          <GrowthDuration type="text" description="GrowthDuration">300</GrowthDuration>
          <MaximumOrganWt type="text" description="MaximumOrganWt">.1</MaximumOrganWt>
          <PhaseLookup name="ThermalTime">
            <PhaseLookupValue name="SoilTemperature">
              <Start type="text" description="Start">Sowing</Start>
              <End type="text" description="End">FloralInitiation</End>
              <SoilTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </SoilTemperatureFunction>
            </PhaseLookupValue>
            <PhaseLookupValue name="AirTemperature">
              <Start type="text" description="Start">FloralInitiation</Start>
              <End type="text" description="End">HarvestRipe</End>
              <AirTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </AirTemperatureFunction>
            </PhaseLookupValue>
          </PhaseLookup>
          <Constant name="ExpansionStress">
            <Value>1</Value>
          </Constant>
        </PopulationBasedDemandFunction>
        <Memo>The generic organ has 6 optional paramaters.  If you wish to override the defaults values specified below drop a function onto this organ and name and set accordingly
1. SenescenceRate.  Default value is 0 which means the organ will not seness.  If senesence is required place a function on the organ named SenescenceRate.  It needs to be a number for 0 - 1 that represents the proportion of total biomass that is senessed each day.
2. NReallocationFactor.  Default value is 0 which means the organ will not allow any of its N to be reallocated as it senesses.  If reallocation of senessing N is required place a function on the organ named NReallocationFactor.  It needs to be a number from 0 - 1 that represents the proportion of senessing N that is available for reallocation
3. NRetranslocationFactor.  Default value is 0 which means none of the nonstructuralN in this organ is available for retranslocation.  If retranslocation is required place a function on the organ named NRetranslocationFactor. It needs to be a number from 0 -1 that represents the proportion of non-structural N that can be removed from an organ on any day.
4. NitrogenDemandSwitch.  Default value is 1 which means the organ always has a N demand if its N content is below maximum N conc.  If N demand needs to be switched off place a function on the organ named NitrogenDemandSwitch which returns a value of 1 when no demand is expressed.
5. DMRetranslocationFactor.  Default value is 0 which means the organ will not retranslocate NonStructural biomass.  If retranslocation is desired turn change this to a value between 0 - 1.  This represents the proportion of NonStructural biomass in the organ that can be retranslocated each day.
6. StructuralFraction.  Derault value is 1 which means all biomass partitioned to this organ is put into the structrual pool.  If you wish this organ to have NonStructural DM that can be retranslocated set this to a value lower than 1 (between 0 - 1). Also note that making structural fraction less then 1 may influence the biomass partitioning to this organ because biomass is only partitioned to NonStructural Pools after the DM demand from other pools has been met.
         </Memo>
        <Biomass name="Live" />
        <Biomass name="Dead" />
        <Constant name="NReallocationFactor">
          <Value type="text" description="Value">0</Value>
          <Memo>Controls the proportion of Non-Structural and senesing Metabolic N that may be Reallocated to other organs each day.  </Memo>
        </Constant>
        <Constant name="NRetranslocationFactor">
          <Value type="text" description="Value">0.1</Value>
          <Memo>sets the proportion of Non-Structural N that may be Remobilised to meet the demand of other organs each day.  A value of zero means the crop will favor maintaining the N concentration and photosynthetic capacity of its current leaf area (behaviour of crops such as potato and wheat).  Increasing this will enable the crop to grow and increased leaf area with diluted N concentration, favoring larger leaf area over the higher N concentration and photosynthetic capacity of leaves (behaviour of crops such as maize) </Memo>
        </Constant>
        <Constant name="MaximumNConc">
          <Value>0.01</Value>
          <Memo>This is the highest N concentration that the organ can achieve.  This sets the upper limit to N demand and includes essential and Luxury N demands.  Essential N demand is set by the MinimumNConc of the organ.  Luxary N Demand is N is set by Live.Wt * (MaximumNConc - MinimumNConc) and is N the organ may take up in surples to its growth requirements and store in its Non-Structural pool for reallocation -</Memo>
        </Constant>
        <Constant name="StructuralFraction">
          <Value type="text" description="Value">1.0</Value>
        </Constant>
        <Constant name="MinimumNConc">
          <Value>0.01</Value>
          <Memo>This is the highest N concentration that the organ can achieve.  This sets the upper limit to N demand and includes essential and Luxury N demands.  Essential N demand is set by the MinimumNConc of the organ.  Luxary N Demand is N is set by Live.Wt * (MaximumNConc - MinimumNConc) and is N the organ may take up in surples to its growth requirements and store in its Non-Structural pool for reallocation -</Memo>
        </Constant>
        <LinearInterpolationFunction name="ExpansionStress">
          <XProperty>WaterSupplyDemandRatio</XProperty>
          <XYPairs>
            <XY>0 0</XY>
            <XY>0.6 1</XY>
          </XYPairs>
        </LinearInterpolationFunction>
      </GenericAboveGroundOrgan>
      <GenericAboveGroundOrgan name="Peduncle">
        <PopulationBasedDemandFunction name="DMDemandFunction">
          <StartStage type="text" description="StartStage">5</StartStage>
          <GrowthDuration type="text" description="GrowthDuration">300</GrowthDuration>
          <MaximumOrganWt type="text" description="MaximumOrganWt">.1</MaximumOrganWt>
          <PhaseLookup name="ThermalTime">
            <PhaseLookupValue name="SoilTemperature">
              <Start type="text" description="Start">Sowing</Start>
              <End type="text" description="End">FloralInitiation</End>
              <SoilTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </SoilTemperatureFunction>
            </PhaseLookupValue>
            <PhaseLookupValue name="AirTemperature">
              <Start type="text" description="Start">FloralInitiation</Start>
              <End type="text" description="End">HarvestRipe</End>
              <AirTemperatureFunction name="ThermalTime">
                <XYPairs>
                  <XY>0 0</XY>
                  <XY>30 30</XY>
                  <XY>40 0</XY>
                </XYPairs>
              </AirTemperatureFunction>
            </PhaseLookupValue>
          </PhaseLookup>
          <Constant name="ExpansionStress">
            <Value>1</Value>
          </Constant>
        </PopulationBasedDemandFunction>
        <Memo>The generic organ has 6 optional paramaters.  If you wish to override the defaults values specified below drop a function onto this organ and name and set accordingly
1. SenescenceRate.  Default value is 0 which means the organ will not seness.  If senesence is required place a function on the organ named SenescenceRate.  It needs to be a number for 0 - 1 that represents the proportion of total biomass that is senessed each day.
2. NReallocationFactor.  Default value is 0 which means the organ will not allow any of its N to be reallocated as it senesses.  If reallocation of senessing N is required place a function on the organ named NReallocationFactor.  It needs to be a number from 0 - 1 that represents the proportion of senessing N that is available for reallocation
3. NRetranslocationFactor.  Default value is 0 which means none of the nonstructuralN in this organ is available for retranslocation.  If retranslocation is required place a function on the organ named NRetranslocationFactor. It needs to be a number from 0 -1 that represents the proportion of non-structural N that can be removed from an organ on any day.
4. NitrogenDemandSwitch.  Default value is 1 which means the organ always has a N demand if its N content is below maximum N conc.  If N demand needs to be switched off place a function on the organ named NitrogenDemandSwitch which returns a value of 1 when no demand is expressed.
5. DMRetranslocationFactor.  Default value is 0 which means the organ will not retranslocate NonStructural biomass.  If retranslocation is desired turn change this to a value between 0 - 1.  This represents the proportion of NonStructural biomass in the organ that can be retranslocated each day.
6. StructuralFraction.  Derault value is 1 which means all biomass partitioned to this organ is put into the structrual pool.  If you wish this organ to have NonStructural DM that can be retranslocated set this to a value lower than 1 (between 0 - 1). Also note that making structural fraction less then 1 may influence the biomass partitioning to this organ because biomass is only partitioned to NonStructural Pools after the DM demand from other pools has been met.
         </Memo>
        <Biomass name="Live" />
        <Biomass name="Dead" />
        <Constant name="NReallocationFactor">
          <Value type="text" description="Value">0</Value>
          <Memo>Controls the proportion of Non-Structural and senesing Metabolic N that may be Reallocated to other organs each day.  </Memo>
        </Constant>
        <Constant name="NRetranslocationFactor">
          <Value type="text" description="Value">0.1</Value>
          <Memo>sets the proportion of Non-Structural N that may be Remobilised to meet the demand of other organs each day.  A value of zero means the crop will favor maintaining the N concentration and photosynthetic capacity of its current leaf area (behaviour of crops such as potato and wheat).  Increasing this will enable the crop to grow and increased leaf area with diluted N concentration, favoring larger leaf area over the higher N concentration and photosynthetic capacity of leaves (behaviour of crops such as maize) </Memo>
        </Constant>
        <Constant name="MaximumNConc">
          <Value>0.01</Value>
          <Memo>This is the highest N concentration that the organ can achieve.  This sets the upper limit to N demand and includes essential and Luxury N demands.  Essential N demand is set by the MinimumNConc of the organ.  Luxary N Demand is N is set by Live.Wt * (MaximumNConc - MinimumNConc) and is N the organ may take up in surples to its growth requirements and store in its Non-Structural pool for reallocation -</Memo>
        </Constant>
        <Constant name="StructuralFraction">
          <Value type="text" description="Value">1.0</Value>
        </Constant>
        <Constant name="MinimumNConc">
          <Value>0.01</Value>
          <Memo>This is the highest N concentration that the organ can achieve.  This sets the upper limit to N demand and includes essential and Luxury N demands.  Essential N demand is set by the MinimumNConc of the organ.  Luxary N Demand is N is set by Live.Wt * (MaximumNConc - MinimumNConc) and is N the organ may take up in surples to its growth requirements and store in its Non-Structural pool for reallocation -</Memo>
        </Constant>
        <LinearInterpolationFunction name="ExpansionStress">
          <XProperty>WaterSupplyDemandRatio</XProperty>
          <XYPairs>
            <XY>0 0</XY>
            <XY>0.6 1</XY>
          </XYPairs>
        </LinearInterpolationFunction>
      </GenericAboveGroundOrgan>
      <GenericAboveGroundOrgan name="Internodes">
        <Memo>The generic organ has 6 optional paramaters.  If you wish to override the defaults values specified below drop a function onto this organ and name and set accordingly
1. SenescenceRate.  Default value is 0 which means the organ will not seness.  If senesence is required place a function on the organ named SenescenceRate.  It needs to be a number for 0 - 1 that represents the proportion of total biomass that is senessed each day.
2. NReallocationFactor.  Default value is 0 which means the organ will not allow any of its N to be reallocated as it senesses.  If reallocation of senessing N is required place a function on the organ named NReallocationFactor.  It needs to be a number from 0 - 1 that represents the proportion of senessing N that is available for reallocation
3. NRetranslocationFactor.  Default value is 0 which means none of the nonstructuralN in this organ is available for retranslocation.  If retranslocation is required place a function on the organ named NRetranslocationFactor. It needs to be a number from 0 -1 that represents the proportion of non-structural N that can be removed from an organ on any day.
4. NitrogenDemandSwitch.  Default value is 1 which means the organ always has a N demand if its N content is below maximum N conc.  If N demand needs to be switched off place a function on the organ named NitrogenDemandSwitch which returns a value of 1 when no demand is expressed.
5. DMRetranslocationFactor.  Default value is 0 which means the organ will not retranslocate NonStructural biomass.  If retranslocation is desired turn change this to a value between 0 - 1.  This represents the proportion of NonStructural biomass in the organ that can be retranslocated each day.
6. StructuralFraction.  Derault value is 1 which means all biomass partitioned to this organ is put into the structrual pool.  If you wish this organ to have NonStructural DM that can be retranslocated set this to a value lower than 1 (between 0 - 1). Also note that making structural fraction less then 1 may influence the biomass partitioning to this organ because biomass is only partitioned to NonStructural Pools after the DM demand from other pools has been met.
         </Memo>
        <Biomass name="Live" />
        <Biomass name="Dead" />
        <Constant name="StructuralFraction">
          <Value type="text" description="Value">.8</Value>
          <Memo>Demand for DM is based on demand to grow structural components.  If the structural fraction is less than 1 the organ has the capacity to accumulate Non-structural biomass.  The lower the number the greater the capacity.  However, the arbitrator will only partition biomass to non-structural pools after all structural and metabolic DM demands have been met so the Non-Structural DM proportion of the organ may be less smaller that 1 - StructuralFraction.</Memo>
        </Constant>
        <LinearInterpolationFunction name="MaximumNConc">
          <XProperty type="text" description="XProperty">StageCode.Value</XProperty>
          <XYPairs>
            <XY>3 0.06</XY>
            <XY>4 0.05</XY>
            <XY>5.3 0.025</XY>
          </XYPairs>
          <Memo>This is the highest N concentration that the organ can achieve.  This sets the upper limit to N demand and includes essential and Luxury N demands.  Essential N demand is set by the CriticalNConc of the organ.  Luxary N Demand is N is set by Live.Wt * (MaximumNConc - CriticalNConc) and is N the organ may take up in surples to its growth requirements and store in its Non-Structural pool for reallocation.</Memo>
        </LinearInterpolationFunction>
        <Constant name="MinimumNConc">
          <Value type="text" description="Value">0.006</Value>
          <Memo>The MinimumNconc determins the organs essential N demand.  Essential N Demand is N is set by Live.Wt * MinimumNConc and is N the organ must take up to achieve its potential growth.  If the organ is not supplied with sufficient N to maintain MinimunNConc its growth will be constrained by the arbitrator.  All N taken up to MinimunNConc is placed in the StructuralPool and is not mobile</Memo>
        </Constant>
        <PhaseBasedSwitch name="NitrogenDemandSwitch">
          <Start type="text" description="Start">Emergence</Start>
          <End type="text" description="End">StartGrainFill</End>
          <Memo>stops the stem from demanding N following final leaf stage
        </Memo>
        </PhaseBasedSwitch>
        <Constant name="NReallocationFactor">
          <Value type="text" description="Value">0</Value>
          <Memo>Controls the proportion of Non-Structural and senesing Metabolic N that may be Reallocated to other organs each day.  </Memo>
        </Constant>
        <Constant name="NRetranslocationFactor">
          <Value type="text" description="Value">.5</Value>
          <Memo>sets the proportion of Non-Structural N that may be Remobilised to meet the demand of other organs each day.  A value of zero means the crop will favor maintaining the N concentration and photosynthetic capacity of its current leaf area (behaviour of crops such as potato and wheat).  Increasing this will enable the crop to grow and increased leaf area with diluted N concentration, favoring larger leaf area over the higher N concentration and photosynthetic capacity of leaves (behaviour of crops such as maize) </Memo>
        </Constant>
        <Constant name="DMRetranslocationFactor">
          <Value type="text" description="Value">.5</Value>
          <Memo>This sets the proportion of NonStructural Wt that can be remobilised each day.</Memo>
        </Constant>
        <MinimumFunction name="DMDemandFunction">
          <MultiplyFunction name="PotentialDMAccumulation">
            <Memo>Multiplies the values of the children of this node</Memo>
            <VariableReference name="NodesAppearing">
              <VariableName type="text" description="Variable Name">Structure.DeltaNodeNumber</VariableName>
              <Memo>Returns the value of a nominated internal Plant2 numerical variable
</Memo>
            </VariableReference>
            <VariableReference name="Branches">
              <VariableName type="text" description="Variable Name">Structure.TotalStemPopn</VariableName>
              <Memo>Returns the value of a nominated internal Plant2 numerical variable
</Memo>
            </VariableReference>
            <LinearInterpolationFunction name="PotentialInternodeWt">
              <XProperty type="text" description="XProperty">StageCode.Value</XProperty>
              <XYPairs>
                <XY>3 0</XY>
                <XY>4.1 0.0005</XY>
                <XY>5 0.3</XY>
              </XYPairs>
            </LinearInterpolationFunction>
          </MultiplyFunction>
          <MultiplyFunction name="MaximumSpecificStemLength">
            <Memo>Multiplies the values of the children of this node</Memo>
            <Constant name="SpecificStemLengthMax">
              <Value type="text" description="Value">.0022</Value>
            </Constant>
            <VariableReference name="Branches">
              <VariableName type="text" description="Variable Name">Structure.TotalStemPopn</VariableName>
              <Memo>Returns the value of a nominated internal Plant2 numerical variable
</Memo>
            </VariableReference>
            <VariableReference name="DeltaHeight">
              <VariableName type="text" description="Variable Name">Structure.Height.DeltaHeight</VariableName>
              <Memo>Returns the value of a nominated internal Plant2 numerical variable
</Memo>
            </VariableReference>
          </MultiplyFunction>
        </MinimumFunction>
        <MultiplyFunction name="yDMDemandFunction">
          <Memo>Multiplies the values of the children of this node</Memo>
          <VariableReference name="NodesAppearing">
            <VariableName type="text" description="Variable Name">Structure.DeltaNodeNumber</VariableName>
            <Memo>Returns the value of a nominated internal Plant2 numerical variable
</Memo>
          </VariableReference>
          <VariableReference name="Branches">
            <VariableName type="text" description="Variable Name">Structure.TotalStemPopn</VariableName>
            <Memo>Returns the value of a nominated internal Plant2 numerical variable
</Memo>
          </VariableReference>
          <LinearInterpolationFunction name="PotentialInternodeWt">
            <XProperty type="text" description="XProperty">StageCode.Value</XProperty>
            <XYPairs>
              <XY>3 0</XY>
              <XY>4 0.0005</XY>
              <XY>5 0.4</XY>
            </XYPairs>
          </LinearInterpolationFunction>
        </MultiplyFunction>
      </GenericAboveGroundOrgan>
      <Summary />
      <StageBasedInterpolation name="StageCode">
        <Stages>Sowing      Germination     Emergence  FloralInitiation FlagLeaf Flowering  StartGrainFill EndGrainFill   Maturity  HarvestRipe </Stages>
        <Values>   1               2              3            4             5            6            7             8           9      10</Values>
      </StageBasedInterpolation>
      <StageBasedInterpolation name="ZadokStage">
        <Stages>Sowing      Germination     Emergence  FloralInitiation FlagLeaf Flowering  StartGrainFill EndGrainFill   Maturity  HarvestRipe </Stages>
        <Values>   0               5              10            30             37       65          70             85           90      90</Values>
      </StageBasedInterpolation>
      <CompositeBiomass name="AboveGround">
        <Property>Organs[AboveGround].Live</Property>
        <Property>Organs[AboveGround].Dead</Property>
      </CompositeBiomass>
      <CompositeBiomass name="BelowGround">
        <Property>Organs[BelowGround].Live</Property>
        <Property>Organs[BelowGround].Dead</Property>
      </CompositeBiomass>
      <CompositeBiomass name="Total">
        <Property>Organs[].Live</Property>
        <Property>Organs[].Dead</Property>
      </CompositeBiomass>
      <CompositeBiomass name="TotalLive">
        <Property>Organs[].Live</Property>
      </CompositeBiomass>
      <CompositeBiomass name="TotalDead">
        <Property>Organs[].Dead</Property>
      </CompositeBiomass>
      <CompositeBiomass name="HeadLive">
        <Property type="text" description="Property">Grain.Live</Property>
      </CompositeBiomass>
      <CompositeBiomass name="StemLive">
        <Property type="text" description="Property">Internodes.Live</Property>
        <Property>Peduncle.Live</Property>
      </CompositeBiomass>
      <CompositeBiomass name="AboveGroundLive">
        <Property type="text" description="Property">Organs[AboveGround].Live</Property>
      </CompositeBiomass>
    </Plant>
    <Cultivar name="Dash">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Omaka">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Booma">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Sherwood">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Triumph">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Optic">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Retriver">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Hooded">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="County">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="GoldenPromise">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
    <Cultivar name="Enmer">
      <Construct type="text" description="Construct">Plant</Construct>
    </Cultivar>
  </Model>
</Type>